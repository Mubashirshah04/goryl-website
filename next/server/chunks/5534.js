exports.id=5534,exports.ids=[5534],exports.modules={2561:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Goryl Website\\\\goryl\\\\src\\\\app\\\\profile\\\\error.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Goryl Website\\goryl\\src\\app\\profile\\error.tsx","default")},14556:(a,b,c)=>{Promise.resolve().then(c.bind(c,48643))},37764:(a,b,c)=>{"use strict";c.d(b,{default:()=>aj});var d=c(60687),e=c(43210),f=c(16189),g=c(52581),h=c(72106),i=c(48896),j=c(90677),k=c(55512),l=c(85814),m=c.n(l),n=c(47717),o=c(51361),p=c(93661),q=c(48340),r=c(60020),s=c(64398),t=c(28561),u=c(84027),v=c(33872),w=c(81620),x=c(49014),y=c(67760),z=c(75535),A=c(762);let B=(a,b=5)=>{let[c,d]=(0,e.useState)([]),[f,g]=(0,e.useState)(!0),[h,i]=(0,e.useState)(null);return(0,e.useEffect)(()=>{if(!a)return void g(!1);try{let c=(0,z.query)((0,z.collection)(A.db,"orders"),(0,z.where)("userId","==",a),(0,z.My)("createdAt","desc"),(0,z.AB)(b)),e=(0,z.onSnapshot)(c,a=>{let b=a.docs.map(a=>Object.assign({id:a.id},a.data()));d(b),g(!1),i(null)},a=>{console.error("Error fetching orders:",a),"failed-precondition"===a.code&&console.warn("⚠️ Order index is still building. This is normal during initial setup."),d([]),g(!1),i(null)});return()=>e()}catch(a){console.error("Error setting up orders listener:",a),d([]),g(!1),i(null)}},[a,b]),{orders:c,loading:f,error:h}};var C=c(974),D=c(5336),E=c(35071),F=c(93613),G=c(48730),H=c(10022),I=c(40228);function J({userId:a}){let[b,c]=(0,e.useState)([]),[f,g]=(0,e.useState)(!0),[h,i]=(0,e.useState)(!1);return f?(0,d.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,d.jsxs)("div",{className:"animate-pulse",children:[(0,d.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full"}),(0,d.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})}):0===b.length?(0,d.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,d.jsx)("div",{className:"text-center",children:h?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(G.A,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Index Building in Progress"}),(0,d.jsx)("p",{className:"text-gray-600 mb-4",children:"The system is currently setting up. This may take a few minutes. Please refresh the page in a few minutes to see your applications."})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(H.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Applications Found"}),(0,d.jsx)("p",{className:"text-gray-600 mb-4",children:"You haven't submitted any seller applications yet."}),(0,d.jsx)(m(),{href:"/become-seller",className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Apply to Become a Seller"})]})})}):(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Seller Applications"}),(0,d.jsxs)("span",{className:"text-sm text-gray-500",children:[b.length," application",1!==b.length?"s":""]})]}),(0,d.jsx)("div",{className:"space-y-4",children:b.map(a=>{var b;return(0,d.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(a=>{switch(a){case"approved":return(0,d.jsx)(D.A,{className:"w-5 h-5 text-green-500"});case"rejected":return(0,d.jsx)(E.A,{className:"w-5 h-5 text-red-500"});case"under_review":return(0,d.jsx)(F.A,{className:"w-5 h-5 text-yellow-500"});default:return(0,d.jsx)(G.A,{className:"w-5 h-5 text-blue-500"})}})(a.status),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"font-medium text-gray-900",children:a.businessName}),(0,d.jsxs)("p",{className:"text-sm text-gray-600 capitalize",children:[a.businessType," Account"]})]})]}),(0,d.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${(a=>{switch(a){case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"under_review":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}})(a.status)}`,children:(a=>{switch(a){case"approved":return"Approved";case"rejected":return"Rejected";case"under_review":return"Under Review";default:return"Pending"}})(a.status)})]}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:a.businessDescription}),(0,d.jsx)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)(I.A,{className:"w-4 h-4"}),(0,d.jsxs)("span",{children:["Submitted: ",(b=a.submittedAt)?(b.toDate?b.toDate():new Date(b)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"]})]}),a.documents&&(0,d.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,d.jsx)(H.A,{className:"w-4 h-4"}),(0,d.jsxs)("span",{children:[a.documents.length," document",1!==a.documents.length?"s":""]})]})]})}),a.notes&&a.notes.length>0&&(0,d.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[(0,d.jsx)("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Admin Notes:"}),(0,d.jsx)("div",{className:"space-y-1",children:a.notes.map((a,b)=>(0,d.jsx)("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:a},b))})]})]},a.id)})})]})}var K=c(42558),L=c(91893);function M({profile:a,isOwnProfile:b,isFollowing:f,onFollow:h,onShare:i,onMessage:j,onBack:k,isLoggedIn:l=!0}){let[z,A]=(0,e.useState)("orders"),{orders:D,loading:E}=B(a.id,5),[F,G]=(0,e.useState)(null),[H,I]=(0,e.useState)(!1),[M,N]=(0,e.useState)(!1),[O,P]=(0,e.useState)(!1),[Q,R]=(0,e.useState)([]),[S,T]=(0,e.useState)(""),[U,V]=(0,e.useState)(!1),[W,X]=(0,e.useState)(!1),[Y,Z]=(0,e.useState)(""),$=a=>{if("number"==typeof a)return a;if("string"==typeof a){let b=parseInt(a.replace(/dkjArdF4Q9P4Wx2Nl7nfnt6O5Rn1aNnliXy7QFYKFDwjPfrvDXJkTbm1/g,"").trim(),10);return isNaN(b)?0:b}return Array.isArray(a)?a.length:0},[_,aa]=(0,e.useState)({followers:$(a.followers),following:$(a.following)});function ab(){I(!1),G(null)}async function ac(a){if(!Array.isArray(a)||0===a.length)return[];let{collection:b,getDocs:d,query:e,where:f}=await Promise.resolve().then(c.bind(c,75535)),{db:g}=await Promise.resolve().then(c.bind(c,762)),h=[];for(let c=0;c<a.length;c+=10){let i=a.slice(c,c+10),j=e(b(g,"users"),f("__name__","in",i));(await d(j)).docs.forEach(a=>{h.push({id:a.id,...a.data()})})}return h}async function ad(){T("Followers"),N(!0);try{let b=await (0,C.ri)(a.id);R(await ac(b))}catch(a){console.error("Error fetching followers:",a),g.oR.error("Failed to load followers"),R([])}}async function ae(){T("Following"),P(!0);try{let b=await (0,C.Vf)(a.id);R(await ac(b))}catch(a){console.error("Error fetching following:",a),g.oR.error("Failed to load following"),R([])}}function af(){N(!1),P(!1),R([])}async function ag(a){window.location.href=`/profile?uid=${a}`}return(0,d.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,d.jsx)("div",{className:"flex items-center justify-end p-4 border-b border-border",children:(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[b&&(0,d.jsx)(m(),{href:"/profile/edit",className:"p-2 hover:bg-accent rounded-full transition-colors",children:(0,d.jsx)(o.A,{className:"w-6 h-6 text-foreground"})}),(0,d.jsx)("button",{className:"p-2 hover:bg-accent rounded-full transition-colors",onClick:()=>{let c=b?["Edit Profile","Settings","Share Profile","Logout"]:["Share Profile","Report User","Block User"],d="Options:\n";c.forEach((a,b)=>{d+=`${b+1}. ${a}
`});let e=parseInt(prompt(d+=`
Enter number (1-${c.length}):`)||"0")-1;if(e>=0&&e<c.length)switch(c[e]){case"Edit Profile":window.location.href="/profile/edit";break;case"Settings":window.location.href="/settings";break;case"Share Profile":navigator.share?navigator.share({title:`${a.name}'s Profile`,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),g.oR.success("Profile link copied to clipboard!"));break;case"Logout":confirm("Are you sure you want to logout?")&&(window.location.href="/login");break;case"Report User":g.oR.info("Report feature coming soon!");break;case"Block User":g.oR.info("Block feature coming soon!")}},children:(0,d.jsx)(p.A,{className:"w-6 h-6 text-foreground"})})]})}),(0,d.jsxs)("div",{className:"px-4 py-6",children:[(0,d.jsx)("div",{className:"flex justify-center mb-6",children:(0,d.jsx)("div",{className:"relative",children:(0,d.jsx)(K.A,{user:{customPhotoURL:a.customPhotoURL,photoURL:a.photoURL,profilePic:a.profilePic,avatar:a.avatar,name:a.name},size:120,className:"rounded-full object-cover"})})}),(0,d.jsxs)("div",{className:"text-center mb-2",children:[(0,d.jsx)("div",{className:"flex items-center justify-center space-x-2 mb-1",children:(0,d.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:a.name||"User"})}),a.username&&(0,d.jsxs)("p",{className:"text-muted-foreground text-sm",children:["@",a.username]}),(0,d.jsx)("p",{className:"text-muted-foreground text-sm",children:"seller"===a.role?"Personal Shopping Assistant":"Normal User"})]}),(0,d.jsxs)("div",{className:"flex justify-center space-x-8 mb-6",children:[(0,d.jsxs)("button",{onClick:ad,className:"text-center",children:[(0,d.jsx)("p",{className:"text-lg font-bold text-foreground",children:_.followers}),(0,d.jsx)("span",{className:"text-muted-foreground text-xs",children:"Followers"})]}),(0,d.jsxs)("button",{onClick:ae,className:"text-center",children:[(0,d.jsx)("p",{className:"text-lg font-bold text-foreground",children:_.following}),(0,d.jsx)("span",{className:"text-muted-foreground text-xs",children:"Following"})]})]}),(0,d.jsxs)(n.lG,{open:M||O,onClose:af,className:"fixed z-50 inset-0 overflow-y-auto",children:[(0,d.jsx)("div",{className:"fixed inset-0 bg-black opacity-30","aria-hidden":"true"}),(0,d.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,d.jsxs)("div",{className:"relative bg-background rounded-lg shadow-lg w-full max-w-md mx-auto p-6 z-50 border border-border",children:[(0,d.jsx)(n.lG.Title,{className:"text-lg font-bold mb-4 text-foreground",children:S}),(0,d.jsxs)("ul",{children:[0===Q.length&&(0,d.jsx)("li",{className:"text-muted-foreground text-center py-8",children:"No users found."}),Q.map(a=>(0,d.jsxs)("li",{className:"flex items-center space-x-3 py-2 cursor-pointer hover:bg-accent rounded px-2",onClick:()=>ag(a.id),children:[(0,d.jsx)(K.A,{user:a,size:32,className:"rounded-full"}),(0,d.jsx)("span",{className:"font-medium text-foreground",children:a.name})]},a.id))]}),(0,d.jsx)("button",{onClick:af,className:"mt-4 w-full py-2 bg-accent rounded text-foreground",children:"Close"})]})})]}),(0,d.jsxs)(n.lG,{open:U,onClose:()=>V(!1),className:"fixed z-50 inset-0 overflow-y-auto",children:[(0,d.jsx)("div",{className:"fixed inset-0 bg-black opacity-30","aria-hidden":"true"}),(0,d.jsx)("div",{className:"flex items-center justify-center min-h-screen p-4",children:(0,d.jsxs)("div",{className:"relative bg-background rounded-lg shadow-lg w-full max-w-md mx-auto p-6 z-50 border border-border",children:[(0,d.jsx)(n.lG.Title,{className:"text-lg font-bold mb-4 text-foreground",children:"Select Your Mood"}),(0,d.jsx)("div",{className:"grid grid-cols-5 gap-4",children:[{emoji:"\uD83D\uDE0A",label:"Happy"},{emoji:"\uD83D\uDE22",label:"Sad"},{emoji:"\uD83D\uDE0D",label:"Loved"},{emoji:"\uD83D\uDE0E",label:"Cool"},{emoji:"\uD83E\uDD14",label:"Thinking"},{emoji:"\uD83D\uDE34",label:"Sleepy"},{emoji:"\uD83D\uDD25",label:"Fired Up"},{emoji:"\uD83D\uDCAA",label:"Motivated"},{emoji:"\uD83C\uDF89",label:"Celebrating"},{emoji:"\uD83D\uDE0C",label:"Relaxed"}].map(a=>(0,d.jsxs)("button",{onClick:()=>{var b;Z(b=a.label),V(!1),g.oR.success(`Mood set to ${b}!`)},className:"flex flex-col items-center space-y-2 p-3 hover:bg-accent rounded-lg transition-colors",children:[(0,d.jsx)("span",{className:"text-3xl",children:a.emoji}),(0,d.jsx)("span",{className:"text-xs text-foreground",children:a.label})]},a.label))}),(0,d.jsx)("button",{onClick:()=>V(!1),className:"mt-6 w-full py-2 bg-accent rounded text-foreground",children:"Cancel"})]})})]}),(0,d.jsxs)(n.lG,{open:W,onClose:()=>X(!1),className:"fixed z-50 inset-0 overflow-y-auto",children:[(0,d.jsx)("div",{className:"fixed inset-0 bg-black opacity-30","aria-hidden":"true"}),(0,d.jsx)("div",{className:"flex items-center justify-center min-h-screen p-4",children:(0,d.jsxs)("div",{className:"relative bg-background rounded-lg shadow-lg w-full max-w-md mx-auto p-6 z-50 border border-border",children:[(0,d.jsx)(n.lG.Title,{className:"text-lg font-bold mb-4 text-foreground",children:"Contact Information"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-accent rounded-lg",children:[(0,d.jsx)(q.A,{className:"w-6 h-6 text-primary"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Phone Number"}),(0,d.jsx)("p",{className:"text-lg font-semibold text-foreground",children:a.phone||a.phoneNumber||"Not available"})]})]}),(a.phone||a.phoneNumber)&&(0,d.jsxs)("a",{href:`tel:${a.phone||a.phoneNumber}`,className:"flex items-center justify-center space-x-2 w-full py-3 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 transition-colors",children:[(0,d.jsx)(q.A,{className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Call Now"})]})]}),(0,d.jsx)("button",{onClick:()=>X(!1),className:"mt-4 w-full py-2 bg-accent rounded text-foreground",children:"Close"})]})})]}),a.bio&&(0,d.jsx)("div",{className:"bg-accent rounded-2xl p-4 mb-8 mx-4",children:(0,d.jsx)("p",{className:"text-center text-foreground text-sm",children:a.bio})}),(0,d.jsxs)("div",{className:"flex justify-center space-x-8 mb-8",children:[(0,d.jsxs)("button",{onClick:()=>V(!0),className:"flex flex-col items-center space-y-1",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-accent rounded-full flex items-center justify-center hover:bg-accent/80 transition-colors",children:(0,d.jsx)(r.A,{className:"w-6 h-6 text-foreground"})}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:"Mood"})]}),(0,d.jsxs)("button",{onClick:()=>X(!0),className:"flex flex-col items-center space-y-1",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-accent rounded-full flex items-center justify-center hover:bg-accent/80 transition-colors",children:(0,d.jsx)(q.A,{className:"w-6 h-6 text-foreground"})}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:"Call"})]}),b?(0,d.jsxs)(m(),{href:"/profile/edit",className:"flex flex-col items-center space-y-1",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center",children:(0,d.jsx)(o.A,{className:"w-6 h-6 text-primary-foreground"})}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:"Edit"})]}):(0,d.jsxs)("button",{onClick:h,className:"flex flex-col items-center space-y-1",children:[(0,d.jsx)("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${f?"bg-accent":"bg-primary"}`,children:(0,d.jsx)(s.A,{className:`w-6 h-6 ${f?"text-foreground":"text-primary-foreground"}`})}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:f?"Following":"Follow"})]}),(0,d.jsxs)(m(),{href:"/orders",className:"flex flex-col items-center space-y-1",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-accent rounded-full flex items-center justify-center hover:bg-accent/80 transition-colors",children:(0,d.jsx)(t.A,{className:"w-6 h-6 text-foreground"})}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:"Orders"})]}),b&&(0,d.jsxs)(m(),{href:"/settings",className:"flex flex-col items-center space-y-1",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-accent rounded-full flex items-center justify-center",children:(0,d.jsx)(u.A,{className:"w-6 h-6 text-foreground"})}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:"Settings"})]})]}),(0,d.jsxs)("div",{className:"px-4",children:[(0,d.jsx)("div",{className:"mb-3",children:(0,d.jsx)("h2",{className:"text-lg font-bold text-foreground",children:"About"})}),(0,d.jsx)("p",{className:"text-foreground text-sm leading-relaxed",children:a.about||a.bio||""})]}),!b&&(0,d.jsxs)("div",{className:"flex justify-center space-x-4 mt-8",children:[(0,d.jsxs)("button",{onClick:j,className:"flex items-center space-x-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg font-medium",children:[(0,d.jsx)(v.A,{className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Message"})]}),(0,d.jsxs)("button",{onClick:i,className:"flex items-center space-x-2 px-6 py-3 border border-border text-foreground rounded-lg font-medium",children:[(0,d.jsx)(w.A,{className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Share"})]})]}),(0,d.jsx)("div",{className:"mt-8",children:(0,d.jsx)(L.A,{profile:a,isOwnProfile:b,isLoggedIn:l})}),b&&(0,d.jsxs)("div",{className:"border-t border-border mt-8 pt-6",children:[(0,d.jsxs)("nav",{className:"flex space-x-8 mb-6",children:[(0,d.jsx)("button",{onClick:()=>A("saved"),className:`py-2 px-1 border-b-2 font-medium text-sm ${"saved"===z?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Saved"}),(0,d.jsx)("button",{onClick:()=>A("liked"),className:`py-2 px-1 border-b-2 font-medium text-sm ${"liked"===z?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Liked"}),(0,d.jsxs)("button",{onClick:()=>A("orders"),className:`py-2 px-1 border-b-2 font-medium text-sm ${"orders"===z?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:["Orders (",D.length,")"]}),(0,d.jsx)("button",{onClick:()=>A("applications"),className:`py-2 px-1 border-b-2 font-medium text-sm ${"applications"===z?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Applications"})]}),(0,d.jsxs)("div",{className:"mb-6",children:["saved"===z&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-lg font-bold mb-3 text-foreground",children:"Saved Items"}),(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)(x.A,{className:"w-12 h-12 text-foreground mx-auto mb-2"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"No saved items yet"}),b&&(0,d.jsx)(m(),{href:"/",className:"block text-primary hover:text-primary/90 font-medium text-sm mt-2",children:"Start Shopping →"})]})]}),"liked"===z&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-lg font-bold mb-3 text-foreground",children:"Liked Items"}),(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)(y.A,{className:"w-12 h-12 text-foreground mx-auto mb-2"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"No liked items yet"}),b&&(0,d.jsx)(m(),{href:"/",className:"block text-primary hover:text-primary/90 font-medium text-sm mt-2",children:"Start Shopping →"})]})]}),"orders"===z&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-lg font-bold mb-3 text-foreground",children:"Recent Purchases"}),E?(0,d.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((a,b)=>(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:"bg-accent rounded-lg h-20"})},b))}):D.length>0?(0,d.jsxs)("div",{className:"space-y-4",children:[D.map(a=>(0,d.jsx)("div",{className:"bg-accent rounded-lg p-4 cursor-pointer hover:bg-accent/80",onClick:()=>{G(a),I(!0)},children:(0,d.jsxs)("div",{className:"flex items-center mb-2",children:[a.items&&a.items[0]?.image&&(0,d.jsx)("img",{src:a.items[0].image,alt:a.items[0].title,className:"w-14 h-14 rounded object-cover mr-4"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("h3",{className:"font-semibold text-sm text-foreground",children:a.items&&a.items[0]?.title?a.items[0].title:`Order #${a.id.slice(-8).toUpperCase()}`}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a.items&&a.items.length," item",a.items&&a.items.length>1?"s":""]}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(a.createdAt.toDate()).toLocaleDateString()})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${"delivered"===a.status?"bg-green-100 text-green-800":"shipped"===a.status?"bg-blue-100 text-blue-800":"confirmed"===a.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:a.status}),(0,d.jsxs)("div",{className:"text-sm font-medium mt-1 text-foreground",children:["$",a.totalAmount||"0.00"]})]})]})},a.id)),(0,d.jsxs)(n.lG,{open:H,onClose:ab,className:"fixed z-50 inset-0 overflow-y-auto",children:[(0,d.jsx)("div",{className:"fixed inset-0 bg-black opacity-30","aria-hidden":"true"}),(0,d.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,d.jsxs)("div",{className:"relative bg-background rounded-lg shadow-lg w-full max-w-lg mx-auto p-6 z-50 border border-border",children:[(0,d.jsx)(n.lG.Title,{className:"text-lg font-bold mb-4 text-foreground",children:"Order Details"}),F&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center mb-2",children:[F.items&&F.items[0]?.image&&(0,d.jsx)("img",{src:F.items[0].image,alt:F.items[0].title,className:"w-16 h-16 rounded object-cover mr-4"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-semibold text-foreground",children:F.items&&F.items[0]?.title}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:[F.items&&F.items.length," item",F.items&&F.items.length>1?"s":""]}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:new Date(F.createdAt.toDate()).toLocaleDateString()})]})]}),(0,d.jsxs)("div",{className:"text-sm font-medium text-foreground",children:["Total: $",F.totalAmount||"0.00"]}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Status: ",F.status]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("div",{className:"font-semibold mb-1 text-foreground",children:"Shipping"}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:F.shipping?.address||"N/A"}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Tracking: ",F.shipping?.tracking||"N/A"]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("div",{className:"font-semibold mb-1 text-foreground",children:"Payment"}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Method: ",F.payment?.method||"N/A"]}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Status: ",F.payment?.status||"N/A"]})]}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsx)("div",{className:"font-semibold mb-1 text-foreground",children:"Invoice"}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Order ID: ",F.id]})]})]}),(0,d.jsx)("button",{onClick:ab,className:"mt-4 w-full py-2 bg-accent rounded text-foreground",children:"Close"})]})})]}),b&&(0,d.jsx)(m(),{href:"/orders",className:"block text-center text-primary hover:text-primary/90 font-medium text-sm mt-4",children:"View All Orders →"})]}):(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)(t.A,{className:"w-12 h-12 text-foreground mx-auto mb-2"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"No purchases yet"}),b&&(0,d.jsx)(m(),{href:"/",className:"block text-primary hover:text-primary/90 font-medium text-sm mt-2",children:"Start Shopping →"})]})]}),"applications"===z&&(0,d.jsx)("div",{children:(0,d.jsx)(J,{userId:a.id})})]})]})]})]})}var N=c(19080),O=c(25541),P=c(53411);function Q({profile:a,isOwnProfile:b,isFollowing:c,onFollow:f,onShare:g,onMessage:h,onBack:i,isLoggedIn:l=!0}){let[n,u]=(0,e.useState)("products"),{products:x,loading:y}=(0,j.a)(),{reviews:z,loading:A}=(0,k.x)(),{orders:C,loading:D}=B(a.id,5);return(0,d.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,d.jsx)("div",{className:"flex items-center justify-end p-4 border-b border-gray-700",children:(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[b&&(0,d.jsx)(m(),{href:"/profile/edit",className:"p-2",children:(0,d.jsx)(o.A,{className:"w-6 h-6 text-white"})}),(0,d.jsx)("button",{className:"p-2",children:(0,d.jsx)(p.A,{className:"w-6 h-6 text-white"})})]})}),(0,d.jsxs)("div",{className:"px-4 py-6",children:[(0,d.jsx)("div",{className:"flex justify-center mb-6",children:(0,d.jsx)("div",{className:"relative",children:(0,d.jsx)(K.A,{user:a,size:120,className:"rounded-full object-cover"})})}),(0,d.jsxs)("div",{className:"text-center mb-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-white",children:a.name||"User"}),a.verified&&(0,d.jsx)("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:(0,d.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),a.username&&(0,d.jsxs)("p",{className:"text-gray-400 text-sm",children:["@",a.username]}),(0,d.jsx)("p",{className:"text-gray-400 text-sm",children:"Personal Shopping Assistant"})]}),(0,d.jsx)("div",{className:"text-center mb-6",children:(0,d.jsxs)("p",{className:"text-gray-400 text-sm",children:[(()=>{let b=a.followers;if("number"==typeof b)return b;if("string"==typeof b){let a=parseInt(b.replace(/dkjArdF4Q9P4Wx2Nl7nfnt6O5Rn1aNnliXy7QFYKFDwjPfrvDXJkTbm1/g,"").trim(),10);return isNaN(a)?0:a}return Array.isArray(b)?b.length:0})()," followers"]})}),(0,d.jsx)("div",{className:"bg-gray-800 rounded-2xl p-4 mb-8 mx-4",children:(0,d.jsx)("p",{className:"text-center text-gray-200 text-sm",children:a.bio||"Looking for a sustainable handbag or cozy worn sneakers? I've got some ideas for you."})}),(0,d.jsxs)("div",{className:"flex justify-center space-x-8 mb-8",children:[(0,d.jsxs)("button",{className:"flex flex-col items-center space-y-1",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-gray-800 rounded-full flex items-center justify-center",children:(0,d.jsx)(r.A,{className:"w-6 h-6 text-gray-300"})}),(0,d.jsx)("span",{className:"text-xs text-gray-400",children:"Mood"})]}),(0,d.jsxs)("button",{className:"flex flex-col items-center space-y-1",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-gray-800 rounded-full flex items-center justify-center",children:(0,d.jsx)(q.A,{className:"w-6 h-6 text-gray-300"})}),(0,d.jsx)("span",{className:"text-xs text-gray-400",children:"Call"})]}),b?(0,d.jsxs)(m(),{href:"/profile/edit",className:"flex flex-col items-center space-y-1",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-purple-900 rounded-full flex items-center justify-center",children:(0,d.jsx)(o.A,{className:"w-6 h-6 text-purple-400"})}),(0,d.jsx)("span",{className:"text-xs text-gray-400",children:"Edit"})]}):(0,d.jsxs)("button",{onClick:f,className:"flex flex-col items-center space-y-1",children:[(0,d.jsx)("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${c?"bg-gray-700":"bg-purple-900"}`,children:(0,d.jsx)(s.A,{className:`w-6 h-6 ${c?"text-gray-300":"text-purple-400"}`})}),(0,d.jsx)("span",{className:"text-xs text-gray-400",children:c?"Following":"Follow"})]}),(0,d.jsxs)("button",{className:"flex flex-col items-center space-y-1",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-gray-800 rounded-full flex items-center justify-center",children:(0,d.jsx)(t.A,{className:"w-6 h-6 text-gray-300"})}),(0,d.jsx)("span",{className:"text-xs text-gray-400",children:"Orders"})]})]}),(0,d.jsxs)("div",{className:"px-4",children:[(0,d.jsx)("div",{className:"mb-3",children:(0,d.jsx)("h2",{className:"text-lg font-bold text-foreground",children:"About"})}),(0,d.jsx)("p",{className:"text-foreground text-sm leading-relaxed",children:a.about||a.bio||""})]}),(0,d.jsx)("div",{className:"mt-6 px-4",children:(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-4 bg-gray-800 rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-lg font-bold text-white",children:x?.length||0}),(0,d.jsx)("div",{className:"text-xs text-gray-400",children:"Products"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-lg font-bold text-white",children:a.totalSales?.toLocaleString()||0}),(0,d.jsx)("div",{className:"text-xs text-gray-400",children:"Sales"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-lg font-bold text-white",children:(z?.length?z.reduce((a,b)=>a+(b.rating||0),0)/z.length:0).toFixed(1)}),(0,d.jsx)("div",{className:"text-xs text-gray-400",children:"Rating"})]})]})}),b&&(0,d.jsx)("div",{className:"px-4 mt-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,d.jsxs)(m(),{href:`/shop/${a.id}`,className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,d.jsx)(t.A,{className:"w-5 h-5 text-blue-400 mb-1"}),(0,d.jsx)("span",{className:"text-xs text-center text-white",children:"Shop"})]}),(0,d.jsxs)(m(),{href:"/product/upload",className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,d.jsx)(N.A,{className:"w-5 h-5 text-green-400 mb-1"}),(0,d.jsx)("span",{className:"text-xs text-center text-white",children:"Add Product"})]}),(0,d.jsxs)(m(),{href:`/shop/${a.id}`,className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,d.jsx)(O.A,{className:"w-5 h-5 text-purple-400 mb-1"}),(0,d.jsx)("span",{className:"text-xs text-center text-white",children:"Analytics"})]}),(0,d.jsxs)(m(),{href:"/brand/dashboard",className:"flex flex-col items-center justify-center p-3 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg hover:from-purple-700 hover:to-blue-700 transition",children:[(0,d.jsx)(P.A,{className:"w-5 h-5 text-white mb-1"}),(0,d.jsx)("span",{className:"text-xs text-center text-white font-medium",children:"Dashboard"})]})]})}),!b&&(0,d.jsxs)("div",{className:"flex justify-center space-x-4 mt-8",children:[(0,d.jsxs)("button",{onClick:h,className:"flex items-center space-x-2 px-6 py-3 bg-purple-700 text-white rounded-lg font-medium",children:[(0,d.jsx)(v.A,{className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Message"})]}),(0,d.jsxs)("button",{onClick:g,className:"flex items-center space-x-2 px-6 py-3 border border-gray-600 text-gray-200 rounded-lg font-medium",children:[(0,d.jsx)(w.A,{className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Share"})]})]}),(0,d.jsx)("div",{className:"border-t border-gray-700 mt-8 pt-6",children:(0,d.jsxs)("nav",{className:"flex space-x-8 mb-6",children:[(0,d.jsxs)("button",{onClick:()=>u("products"),className:`py-2 px-1 border-b-2 font-medium text-sm ${"products"===n?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:["Products (",x.length,")"]}),(0,d.jsx)("button",{onClick:()=>u("orders"),className:`py-2 px-1 border-b-2 font-medium text-sm ${"orders"===n?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:"Orders"}),(0,d.jsx)("button",{onClick:()=>u("followers"),className:`py-2 px-1 border-b-2 font-medium text-sm ${"followers"===n?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-200"}`,children:"Followers"})]})})]})]})}var R=c(30474),S=c(75034),T=c(41312),U=c(41550),V=c(97992),W=c(11437),X=c(66232),Y=c(19526),Z=c(72575);let $=(0,c(30036).default)(async()=>{},{loadableGenerated:{modules:["components\\profiles\\BrandProfile.tsx -> @/components/profiles/PublicContentTabs"]},loading:()=>(0,d.jsx)("div",{className:"w-full h-48 bg-gray-200 animate-pulse rounded-lg"}),ssr:!1});function _({profile:a,isOwnProfile:b,isFollowing:c,onFollow:f,onShare:g,onMessage:h,onBack:i,isLoggedIn:l=!0}){let{products:n,loading:r,fetchUserProductsRealtime:u}=(0,j.a)(),{reviews:x,loading:y,fetchUserReviewsRealtime:z}=(0,k.x)(),[A,B]=(0,e.useState)(""),[C,D]=(0,e.useState)("");(0,e.useRef)({products:null,reviews:null});let E=0===x.length?{averageRating:0,totalReviews:0}:{averageRating:x.reduce((a,b)=>a+(b.rating||0),0)/x.length,totalReviews:x.length},F=n?.length||0;a.totalSales;let G=a.followers?.length||0,H=a.following?.length||0,I=()=>{if(b){let b=["Edit Profile","Settings","Share Profile","Logout"],c="Options:\n";b.forEach((a,b)=>{c+=`${b+1}. ${a}
`});let d=parseInt(prompt(c+=`
Enter number (1-${b.length}):`)||"0")-1;if(d>=0&&d<b.length)switch(b[d]){case"Edit Profile":window.location.href="/profile/edit";break;case"Settings":window.location.href="/settings";break;case"Share Profile":navigator.share?navigator.share({title:`${a.name}'s Profile`,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Profile link copied to clipboard!"));break;case"Logout":confirm("Are you sure you want to logout?")&&(window.location.href="/login")}}else{let b=["Share Profile","Report Brand","Block Brand"],c="Options:\n";b.forEach((a,b)=>{c+=`${b+1}. ${a}
`});let d=parseInt(prompt(c+=`
Enter number (1-${b.length}):`)||"0")-1;if(d>=0&&d<b.length)switch(b[d]){case"Share Profile":navigator.share?navigator.share({title:`${a.name}'s Profile`,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Profile link copied to clipboard!"));break;case"Report Brand":alert("Report feature coming soon!");break;case"Block Brand":alert("Block feature coming soon!")}}},J=a=>a&&"number"==typeof a?a>=1e6?`${(a/1e6).toFixed(1)}M`:a>=1e3?`${(a/1e3).toFixed(1)}K`:a.toString():"0";return(0,d.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,d.jsxs)("div",{className:"relative h-40 w-full bg-gradient-to-r from-gray-800 to-gray-700",children:[A?(0,d.jsx)(R.default,{src:A,alt:"Banner",fill:!0,className:"object-cover",onError:a=>{a.target.style.display="none"}}):(0,d.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-800 to-gray-700"}),b&&(0,d.jsx)("button",{onClick:()=>window.location.href="/profile/edit",className:"absolute top-4 right-4 p-2 bg-black bg-opacity-50 rounded-full hover:bg-opacity-70 transition",children:(0,d.jsx)(o.A,{className:"w-5 h-5 text-white"})})]}),(0,d.jsx)("div",{className:"px-4 mt-4",children:(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"relative w-24 h-24 rounded-full border-4 border-gray-900 overflow-hidden bg-gray-200",children:C?(0,d.jsx)(R.default,{src:C,alt:"Brand Logo",fill:!0,className:"object-cover",onError:a=>{a.target.style.display="none"}}):(0,d.jsx)("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-full h-full"})}),b&&(0,d.jsx)("button",{onClick:()=>window.location.href="/profile/edit",className:"absolute bottom-0 right-0 p-1.5 bg-blue-500 rounded-full border-2 border-gray-900 hover:bg-blue-600 transition",children:(0,d.jsx)(o.A,{className:"w-4 h-4 text-white"})})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold",children:a.name||"Brand"}),a.verified&&(0,d.jsx)("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),a.verified&&(0,d.jsx)("p",{className:"text-blue-400 text-sm font-medium",children:"Verified"}),a.username&&(0,d.jsxs)("p",{className:"text-gray-400 text-sm",children:["@",a.username]}),(0,d.jsxs)("div",{className:"flex space-x-4 mt-1",children:[(0,d.jsxs)("p",{className:"text-gray-400 text-sm",children:[J(G)," followers"]}),(0,d.jsxs)("p",{className:"text-gray-400 text-sm",children:[J(H)," following"]})]})]})]}),(0,d.jsx)("div",{className:"flex space-x-3",children:b?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(m(),{href:"/profile/edit",className:"px-4 py-2 rounded-lg font-medium bg-gray-800 text-white flex items-center space-x-2",children:[(0,d.jsx)(S.A,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Edit Profile"})]}),(0,d.jsx)("button",{onClick:I,className:"p-2 bg-gray-800 rounded-full",children:(0,d.jsx)(p.A,{className:"w-5 h-5"})})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{onClick:f,className:`px-4 py-2 rounded-lg font-medium ${c?"bg-gray-700 text-gray-200":"bg-blue-600 text-white"}`,children:c?"Following":"Follow"}),(0,d.jsx)("button",{onClick:h,className:"p-2 bg-gray-800 rounded-full",children:(0,d.jsx)(v.A,{className:"w-5 h-5"})}),(0,d.jsx)("button",{onClick:g,className:"p-2 bg-gray-800 rounded-full",children:(0,d.jsx)(w.A,{className:"w-5 h-5"})}),(0,d.jsx)("button",{onClick:I,className:"p-2 bg-gray-800 rounded-full",children:(0,d.jsx)(p.A,{className:"w-5 h-5"})})]})})]})}),(0,d.jsx)("div",{className:"px-4 mt-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,d.jsxs)(m(),{href:`/shop/${a.id}`,className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,d.jsx)(t.A,{className:"w-5 h-5 text-blue-400 mb-1"}),(0,d.jsx)("span",{className:"text-xs text-center",children:"Shop"})]}),(0,d.jsxs)(m(),{href:`/shop/${a.id}`,className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,d.jsx)(N.A,{className:"w-5 h-5 text-green-400 mb-1"}),(0,d.jsx)("span",{className:"text-xs text-center",children:"Products"})]}),(0,d.jsxs)(m(),{href:`/shop/${a.id}`,className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,d.jsx)(O.A,{className:"w-5 h-5 text-purple-400 mb-1"}),(0,d.jsx)("span",{className:"text-xs text-center",children:"Analytics"})]}),b?(0,d.jsxs)(m(),{href:"/brand/dashboard",className:"flex flex-col items-center justify-center p-3 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg hover:from-purple-700 hover:to-blue-700 transition",children:[(0,d.jsx)(P.A,{className:"w-5 h-5 text-white mb-1"}),(0,d.jsx)("span",{className:"text-xs text-center text-white font-medium",children:"Dashboard"})]}):(0,d.jsxs)(m(),{href:`/shop/${a.id}`,className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,d.jsx)(T.A,{className:"w-5 h-5 text-yellow-400 mb-1"}),(0,d.jsx)("span",{className:"text-xs text-center",children:"Followers"})]})]})}),(a.phone||a.email||a.location||a.website||a.socialLinks)&&(0,d.jsxs)("div",{className:"px-4 mt-6",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Contact Information"}),(0,d.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 space-y-3",children:[a.phone&&(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(q.A,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,d.jsx)("span",{className:"text-gray-300",children:a.phone})]}),a.email&&(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(U.A,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,d.jsx)("span",{className:"text-gray-300",children:a.email})]}),a.location&&(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(V.A,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,d.jsx)("span",{className:"text-gray-300",children:a.location})]}),a.website&&(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(W.A,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,d.jsx)("span",{className:"text-blue-400",children:a.website})]}),a.socialLinks&&(0,d.jsxs)("div",{className:"flex space-x-4 pt-2",children:[a.socialLinks.instagram&&(0,d.jsx)("a",{href:a.socialLinks.instagram,target:"_blank",rel:"noopener noreferrer",children:(0,d.jsx)(X.A,{className:"w-5 h-5 text-pink-500"})}),a.socialLinks.facebook&&(0,d.jsx)("a",{href:a.socialLinks.facebook,target:"_blank",rel:"noopener noreferrer",children:(0,d.jsx)(Y.A,{className:"w-5 h-5 text-blue-600"})}),a.socialLinks.twitter&&(0,d.jsx)("a",{href:a.socialLinks.twitter,target:"_blank",rel:"noopener noreferrer",children:(0,d.jsx)(Z.A,{className:"w-5 h-5 text-blue-400"})})]})]})]}),(0,d.jsxs)("div",{className:"px-4 mt-6",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Based on Reviews"}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("span",{className:"text-3xl font-bold",children:E.averageRating.toFixed(1)||0}),(0,d.jsx)("div",{className:"flex",children:[void 0,void 0,void 0,void 0,void 0].map((a,b)=>(0,d.jsx)(s.A,{className:`w-5 h-5 ${b<Math.round(E.averageRating||0)?"text-yellow-400 fill-current":"text-gray-600"}`},b))})]}),(0,d.jsxs)("p",{className:"text-gray-400 text-sm mt-1",children:[E.totalReviews?.toLocaleString()||0," customer reviews"]})]}),(0,d.jsxs)("div",{className:"px-4 mt-6",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Business Stats"}),(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:"bg-gray-800 p-3 rounded-lg text-center",children:[(0,d.jsx)("div",{className:"text-xl font-bold text-white",children:F}),(0,d.jsx)("div",{className:"text-sm text-gray-400",children:"Products"})]}),(0,d.jsxs)("div",{className:"bg-gray-800 p-3 rounded-lg text-center",children:[(0,d.jsx)("div",{className:"text-xl font-bold text-white",children:E.totalReviews}),(0,d.jsx)("div",{className:"text-sm text-gray-400",children:"Reviews"})]}),(0,d.jsxs)("div",{className:"bg-gray-800 p-3 rounded-lg text-center",children:[(0,d.jsx)("div",{className:"text-xl font-bold text-white",children:E.averageRating.toFixed(1)}),(0,d.jsx)("div",{className:"text-sm text-gray-400",children:"Rating"})]})]})]}),(0,d.jsxs)("div",{className:"px-4 mt-8",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Most Loved Products"}),r?(0,d.jsx)("p",{className:"text-gray-400",children:"Loading products..."}):n.length>0?(0,d.jsx)("div",{className:"grid grid-cols-2 gap-4",children:n.slice(0,4).map(a=>(0,d.jsxs)("div",{className:"bg-gray-800 p-3 rounded-lg flex flex-col items-center",children:[(0,d.jsx)("div",{className:"relative w-24 h-24 rounded-lg overflow-hidden bg-gray-700",children:(0,d.jsx)(R.default,{src:a.images[0]||"/product-placeholder.jpg",alt:a.title,fill:!0,className:"object-cover",onError:a=>{a.target.src="/product-placeholder.jpg"}})}),(0,d.jsx)("p",{className:"mt-2 text-sm font-medium truncate w-full text-center",children:a.title}),(0,d.jsxs)("p",{className:"text-xs text-gray-400",children:["$",a.price]})]},a.id))}):(0,d.jsx)("p",{className:"text-gray-400",children:"No products available"})]}),(0,d.jsxs)("div",{className:"px-4 mt-8",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Customer Reviews"}),y?(0,d.jsx)("p",{className:"text-gray-400",children:"Loading reviews..."}):x.length>0?(0,d.jsx)("div",{className:"space-y-4",children:x.slice(0,3).map(a=>(0,d.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center mb-2",children:[(0,d.jsx)("div",{className:"relative w-8 h-8 rounded-full overflow-hidden mr-2 bg-gray-700",children:(0,d.jsx)(R.default,{src:a.userPhoto||"/default-avatar.png",alt:a.userName,fill:!0,className:"object-cover",onError:a=>{a.target.src="/default-avatar.png"}})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm font-medium",children:a.userName}),(0,d.jsx)("div",{className:"flex",children:[void 0,void 0,void 0,void 0,void 0].map((b,c)=>(0,d.jsx)(s.A,{className:`w-4 h-4 ${c<a.rating?"text-yellow-400 fill-current":"text-gray-600"}`},c))})]})]}),(0,d.jsx)("p",{className:"text-sm",children:a.comment}),(0,d.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:a.createdAt instanceof Date?a.createdAt.toLocaleDateString():new Date(a.createdAt).toLocaleDateString()})]},a.id))}):(0,d.jsx)("p",{className:"text-gray-400",children:"No reviews available"})]}),(0,d.jsx)("div",{className:"mt-8",children:(0,d.jsx)($,{profile:a,isOwnProfile:b,isLoggedIn:l})}),(0,d.jsxs)("div",{className:"px-4 mt-8 mb-12",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"About"}),(0,d.jsx)("p",{className:"text-gray-300",children:a.bio||"Brand description"})]})]})}var aa=c(80462),ab=c(17313);function ac({profile:a,isOwnProfile:b,isFollowing:c,onFollow:e,onShare:f,onMessage:g,onBack:h,isLoggedIn:i=!0}){let{products:l,loading:n}=(0,j.a)(),{reviews:o,loading:r}=(0,k.x)(),u=l.slice(0,3),x=o.slice(0,2);return(0,d.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,d.jsx)("div",{className:"flex items-center justify-end p-4 border-b border-gray-700",children:(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[!b&&(0,d.jsx)("button",{onClick:g,className:"p-2",children:(0,d.jsx)(v.A,{className:"w-6 h-6 text-white"})}),(0,d.jsx)("button",{onClick:f,className:"p-2",children:(0,d.jsx)(w.A,{className:"w-6 h-6 text-white"})}),(0,d.jsx)("button",{className:"p-2",children:(0,d.jsx)(p.A,{className:"w-6 h-6 text-white"})})]})}),(0,d.jsxs)("div",{className:"px-4 py-6",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("div",{className:"relative",children:(0,d.jsx)(K.A,{user:a,size:64,className:"rounded-full object-cover"})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("h1",{className:"text-xl font-bold text-white",children:a.name||"Company Name"}),a.verified&&(0,d.jsx)("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:(0,d.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),a.username&&(0,d.jsxs)("p",{className:"text-gray-400 text-sm",children:["@",a.username]}),(0,d.jsx)("p",{className:"text-gray-400 text-sm",children:"Verified Company"})]})]}),!b&&(0,d.jsx)("button",{onClick:e,className:`px-6 py-2 rounded-lg font-medium ${c?"bg-gray-700 text-gray-200":"bg-gray-800 text-white"}`,children:c?"Following":"Follow"})]}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"text-2xl font-bold text-white",children:a.rating||4.8}),(0,d.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((a,b)=>(0,d.jsx)(s.A,{className:"w-5 h-5 text-yellow-400 fill-current"},b))})]}),(0,d.jsxs)("p",{className:"text-gray-400 text-sm",children:[(a.reviews||23).toLocaleString()," reviews"]})]}),(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsx)("p",{className:"text-gray-300 text-sm",children:a.bio||"Cozy and sustainable clothing"})}),(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsxs)("p",{className:"text-gray-400 text-sm",children:[(a.followers||1e3).toLocaleString(),"k followers"]})}),(0,d.jsxs)("div",{className:"mb-8",children:[(0,d.jsx)("h2",{className:"text-lg font-bold text-white mb-4",children:"Most Loved Products"}),(0,d.jsx)("div",{className:"flex space-x-4 overflow-x-auto",children:u.map(a=>(0,d.jsxs)("div",{className:"flex-shrink-0 w-32",children:[(0,d.jsx)("div",{className:"relative bg-gray-800 rounded-lg p-2 mb-2",children:(0,d.jsx)("img",{src:a.images[0]||"/placeholder.jpg",alt:a.title,width:"120",height:"120",className:"w-full h-24 object-cover rounded",referrerPolicy:"no-referrer"})}),(0,d.jsx)("h3",{className:"font-semibold text-sm mb-1 text-white",children:a.title}),(0,d.jsxs)("p",{className:"text-purple-400 font-bold",children:["$",a.price]}),a.brand&&(0,d.jsx)("p",{className:"text-gray-400 text-xs",children:a.brand})]},a.id))})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h2",{className:"text-lg font-bold text-white",children:"Customer Reviews"}),(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsxs)("button",{className:"text-sm text-gray-400 flex items-center space-x-1",children:[(0,d.jsx)(aa.A,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Filters"})]}),(0,d.jsx)("button",{className:"text-sm text-gray-400",children:"Most Helpful"})]})]}),(0,d.jsx)("div",{className:"space-y-4",children:x.map(a=>(0,d.jsx)("div",{className:"border-b border-gray-700 pb-4",children:(0,d.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,d.jsx)(K.A,{user:{photoURL:a.userPhoto,name:a.userName},size:40,className:"rounded-full object-cover"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,d.jsx)("span",{className:"font-medium text-sm text-white",children:a.userName}),a.verified&&(0,d.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:(0,d.jsx)("svg",{className:"w-2 h-2 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),(0,d.jsx)("div",{className:"flex items-center mb-2",children:[void 0,void 0,void 0,void 0,void 0].map((b,c)=>(0,d.jsx)(s.A,{className:`w-4 h-4 ${c<a.rating?"text-yellow-400 fill-current":"text-gray-300"}`},c))}),(0,d.jsx)("p",{className:"text-gray-300 text-sm",children:a.comment})]}),(0,d.jsx)("button",{className:"p-1",children:(0,d.jsx)(p.A,{className:"w-4 h-4 text-gray-400"})})]})},a.id))}),(0,d.jsx)("div",{className:"mt-6 text-center",children:(0,d.jsx)("button",{className:"text-purple-400 hover:text-purple-300 font-medium text-sm",children:"View All Reviews →"})})]}),(0,d.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-700",children:(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-lg font-bold text-white",children:l?.length||0}),(0,d.jsx)("div",{className:"text-sm text-gray-400",children:"Products"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-lg font-bold text-white",children:Array.isArray(a.followers)?a.followers.length.toLocaleString():"0"}),(0,d.jsx)("div",{className:"text-sm text-gray-400",children:"Followers"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-lg font-bold text-white",children:a.totalSales?.toLocaleString()||"0"}),(0,d.jsx)("div",{className:"text-sm text-gray-400",children:"Sales"})]})]})}),b&&(0,d.jsx)("div",{className:"px-4 mt-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,d.jsxs)(m(),{href:`/shop/${a.id}`,className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,d.jsx)(t.A,{className:"w-5 h-5 text-blue-400 mb-1"}),(0,d.jsx)("span",{className:"text-xs text-center text-white",children:"Shop"})]}),(0,d.jsxs)(m(),{href:"/product/upload",className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,d.jsx)(N.A,{className:"w-5 h-5 text-green-400 mb-1"}),(0,d.jsx)("span",{className:"text-xs text-center text-white",children:"Add Product"})]}),(0,d.jsxs)(m(),{href:`/shop/${a.id}`,className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,d.jsx)(O.A,{className:"w-5 h-5 text-purple-400 mb-1"}),(0,d.jsx)("span",{className:"text-xs text-center text-white",children:"Analytics"})]}),(0,d.jsxs)(m(),{href:"/brand/dashboard",className:"flex flex-col items-center justify-center p-3 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg hover:from-purple-700 hover:to-blue-700 transition",children:[(0,d.jsx)(P.A,{className:"w-5 h-5 text-white mb-1"}),(0,d.jsx)("span",{className:"text-xs text-center text-white font-medium",children:"Dashboard"})]})]})}),(0,d.jsxs)("div",{className:"mt-6 bg-gray-800 rounded-lg p-4",children:[(0,d.jsx)("h3",{className:"font-semibold text-white mb-3",children:"Company Information"}),(0,d.jsxs)("div",{className:"space-y-2 text-sm",children:[a.businessInfo?.businessName&&(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(ab.A,{className:"w-4 h-4 text-gray-400"}),(0,d.jsx)("span",{className:"text-gray-300",children:a.businessInfo.businessName})]}),a.website&&(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(W.A,{className:"w-4 h-4 text-gray-400"}),(0,d.jsx)("span",{className:"text-gray-300",children:a.website})]}),a.phone&&(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(q.A,{className:"w-4 h-4 text-gray-400"}),(0,d.jsx)("span",{className:"text-gray-300",children:a.phone})]}),a.location&&(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(V.A,{className:"w-4 h-4 text-gray-400"}),(0,d.jsx)("span",{className:"text-gray-300",children:a.location})]})]})]})]})]})}var ad=c(46001),ae=c(79410),af=c(99891),ag=c(70742),ah=c(58869);function ai({profile:a,isLoggedIn:b}){let c=(a=>{switch(a){case"brand":return{icon:ad.A,title:"Brand Account",description:"Official brand presence with verified products and services",color:"bg-purple-100 text-purple-800 border-purple-200",iconColor:"text-purple-600"};case"company":return{icon:ae.A,title:"Company Account",description:"Business entity offering professional services and products",color:"bg-blue-100 text-blue-800 border-blue-200",iconColor:"text-blue-600"};case"seller":case"personal_seller":return{icon:af.A,title:"Verified Seller",description:"Trusted seller with quality products and customer service",color:"bg-green-100 text-green-800 border-green-200",iconColor:"text-green-600"};case"admin":return{icon:ag.A,title:"Platform Administrator",description:"Official platform team member",color:"bg-red-100 text-red-800 border-red-200",iconColor:"text-red-600"};default:return{icon:ah.A,title:"Personal Account",description:"Individual user sharing experiences and connecting with others",color:"bg-gray-100 text-gray-800 border-gray-200",iconColor:"text-gray-600"}}})(a.role),e=c.icon;return b&&a.id?null:(0,d.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-b border-gray-200",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsxs)("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${c.color}`,children:[(0,d.jsx)(e,{className:`w-4 h-4 mr-2 ${c.iconColor}`}),c.title]}),(0,d.jsxs)("div",{className:"hidden sm:flex items-center text-sm text-gray-600",children:[(0,d.jsx)(W.A,{className:"w-4 h-4 mr-1"}),(0,d.jsx)("span",{children:"Public Profile"})]}),(0,d.jsxs)("div",{className:"hidden md:flex items-center space-x-4 text-sm text-gray-600",children:[a.followers&&(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(s.A,{className:"w-4 h-4 mr-1"}),(0,d.jsxs)("span",{children:["number"==typeof a.followers?a.followers:"0"," followers"]})]}),a.location&&(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(V.A,{className:"w-4 h-4 mr-1"}),(0,d.jsx)("span",{children:a.location})]}),a.createdAt&&(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(I.A,{className:"w-4 h-4 mr-1"}),(0,d.jsxs)("span",{children:["Joined ",new Date(a.createdAt).getFullYear()]})]})]})]}),!b&&(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("span",{className:"text-sm text-gray-600 hidden sm:block",children:"Want to follow or message?"}),(0,d.jsx)("button",{onClick:()=>window.location.href="/login",className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Sign In"})]})]}),(0,d.jsx)("div",{className:"mt-3 sm:hidden",children:(0,d.jsx)("p",{className:"text-sm text-gray-600",children:c.description})})]})})}function aj({uid:a}){let b=(0,f.useSearchParams)().get("uid"),c=a||b,{user:l}=(0,h.useAuthStore)(),{profile:m,loading:n,error:o,fetchProfile:p,subscribeToProfile:q,followUser:r,unfollowUser:s}=(0,i.n)(),{products:t,loading:u}=(0,j.a)(),{reviews:v,loading:w}=(0,k.x)(),[x,y]=(0,e.useState)(!1),[z,A]=(0,e.useState)(null),B=(0,e.useRef)(null),C=l?.uid===c;l?.role;let D=async()=>{if(l&&m&&c)try{x?(await s(l.uid,c),y(!1),g.oR.success(`Unfollowed ${m.name||m.email}`)):(await r(l.uid,c),y(!0),g.oR.success(`Following ${m.name||m.email}`))}catch(a){console.error("Error following/unfollowing user:",a),g.oR.error("Failed to update follow status")}},E=()=>{g.oR.info("Share functionality not implemented yet")},F=()=>{g.oR.info("Message functionality not implemented yet")},G=()=>{window.history.back()};return c?o?(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Profile Not Found"}),(0,d.jsx)("p",{className:"text-gray-600 mb-6",children:o||"This profile could not be loaded. It may not exist or be private."}),(0,d.jsx)("button",{onClick:()=>{A(null),B.current=null,c&&p(c)},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})}):n||!m?(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Loading profile..."})]})}):(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[m&&(0,d.jsx)(ai,{profile:m,isLoggedIn:!!l}),(()=>{if(!m)return null;switch(m.role){case"seller":case"personal_seller":return(0,d.jsx)(Q,{profile:m,isOwnProfile:C,isFollowing:x,onFollow:D,onShare:E,onMessage:F,onBack:G,isLoggedIn:!!l});case"brand":return(0,d.jsx)(_,{profile:m,isOwnProfile:C,isFollowing:x,onFollow:D,onShare:E,onMessage:F,onBack:G,isLoggedIn:!!l});case"company":return(0,d.jsx)(ac,{profile:m,isOwnProfile:C,isFollowing:x,onFollow:D,onShare:E,onMessage:F,onBack:G,isLoggedIn:!!l});default:return(0,d.jsx)(M,{profile:m,isOwnProfile:C,isFollowing:x,onFollow:D,onShare:E,onMessage:F,onBack:G,isLoggedIn:!!l})}})()]}):(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Profile Not Found"}),(0,d.jsx)("p",{className:"text-gray-600 mb-6",children:"No user ID provided in the URL."})]})})}},48643:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i});var d=c(60687);c(43210);var e=c(16189),f=c(43649),g=c(13943),h=c(32192);function i({error:a,reset:b}){let c=(0,e.useRouter)();return(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,d.jsxs)("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-6 space-y-4 text-center",children:[(0,d.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100",children:(0,d.jsx)(f.A,{className:"h-8 w-8 text-red-600"})}),(0,d.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Something went wrong!"}),(0,d.jsx)("p",{className:"text-gray-600",children:"We couldn't load the profile page. This might be due to a network issue or the profile not existing."}),(0,d.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-left",children:[(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Error details:"}),(0,d.jsx)("p",{className:"text-xs text-red-600 mt-1",children:a.message})]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center pt-4",children:[(0,d.jsxs)("button",{onClick:b,className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,d.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Try again"]}),(0,d.jsxs)("button",{onClick:()=>c.push("/"),className:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,d.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Go home"]})]})]})})}},55512:(a,b,c)=>{"use strict";c.d(b,{x:()=>g});var d=c(85665),e=c(75535),f=c(762);let g=(0,d.vt)((a,b)=>({reviews:[],loading:!1,error:null,fetchUserReviews:async b=>{a({loading:!0,error:null});try{let c=(0,e.query)((0,e.collection)(f.db,"reviews"),(0,e.where)("sellerId","==",b),(0,e.My)("createdAt","desc"),(0,e.AB)(50)),d=(await (0,e.getDocs)(c)).docs.map(a=>Object.assign({id:a.id},a.data()));a({reviews:d,loading:!1})}catch(b){console.error("Error fetching user reviews:",b),a({loading:!1,error:"Failed to load reviews"})}},fetchUserReviewsRealtime:b=>{let c=(0,e.query)((0,e.collection)(f.db,"reviews"),(0,e.where)("sellerId","==",b),(0,e.My)("createdAt","desc"),(0,e.AB)(50));return(0,e.onSnapshot)(c,b=>{a({reviews:b.docs.map(a=>Object.assign({id:a.id},a.data())),loading:!1})},b=>{console.error("Error fetching user reviews:",b),a({loading:!1,error:"Failed to load reviews"})})},addReview:async c=>{try{let d=Object.assign(Object.assign({},c),{helpful:0,createdAt:new Date}),g=await (0,e.addDoc)((0,e.collection)(f.db,"reviews"),d),h=b().reviews;a({reviews:[Object.assign({id:g.id},d),...h]})}catch(b){console.error("Error adding review:",b),a({error:"Failed to add review"})}},updateReview:async(c,d)=>{try{await (0,e.mZ)((0,e.doc)(f.db,"reviews",c),d);let g=b().reviews.map(a=>a.id===c?Object.assign(Object.assign({},a),d):a);a({reviews:g})}catch(b){console.error("Error updating review:",b),a({error:"Failed to update review"})}},deleteReview:async c=>{try{await (0,e.kd)((0,e.doc)(f.db,"reviews",c));let d=b().reviews.filter(a=>a.id!==c);a({reviews:d})}catch(b){console.error("Error deleting review:",b),a({error:"Failed to delete review"})}},markHelpful:async c=>{try{await (0,e.mZ)((0,e.doc)(f.db,"reviews",c),{helpful:(0,e.GV)(1)});let d=b().reviews.map(a=>a.id===c?Object.assign(Object.assign({},a),{helpful:a.helpful+1}):a);a({reviews:d})}catch(b){console.error("Error marking review helpful:",b),a({error:"Failed to mark review helpful"})}},clearReviews:()=>{a({reviews:[],loading:!1,error:null})}}))},56412:(a,b,c)=>{Promise.resolve().then(c.bind(c,2561))},65015:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(37413);function e(){return(0,d.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Loading profile..."})]})})}c(61120)},78335:()=>{},90677:(a,b,c)=>{"use strict";c.d(b,{a:()=>g});var d=c(85665),e=c(75535),f=c(762);let g=(0,d.vt)((a,b)=>({products:[],loading:!1,error:null,fetchUserProducts:async b=>{a({loading:!0,error:null});try{let c=(0,e.query)((0,e.collection)(f.db,"products"),(0,e.where)("sellerId","==",b),(0,e.My)("createdAt","desc")),d=(await (0,e.getDocs)(c)).docs.map(a=>Object.assign({id:a.id},a.data()));a({products:d,loading:!1})}catch(b){console.error("Error fetching user products:",b),a({loading:!1,error:"Failed to load products"})}},fetchUserProductsRealtime:b=>{let c=(0,e.query)((0,e.collection)(f.db,"products"),(0,e.where)("sellerId","==",b),(0,e.My)("createdAt","desc"));return(0,e.onSnapshot)(c,b=>{a({products:b.docs.map(a=>Object.assign({id:a.id},a.data())),loading:!1})},b=>{console.error("Error fetching user products:",b),a({loading:!1,error:"Failed to load products"})})},addProduct:async c=>{try{let d=Object.assign(Object.assign({},c),{likes:0,views:0,createdAt:new Date,updatedAt:new Date}),g=await (0,e.addDoc)((0,e.collection)(f.db,"products"),d),h=b().products;a({products:[Object.assign({id:g.id},d),...h]})}catch(b){console.error("Error adding product:",b),a({error:"Failed to add product"})}},updateProduct:async(c,d)=>{try{await (0,e.mZ)((0,e.doc)(f.db,"products",c),Object.assign(Object.assign({},d),{updatedAt:new Date}));let g=b().products.map(a=>a.id===c?Object.assign(Object.assign(Object.assign({},a),d),{updatedAt:new Date}):a);a({products:g})}catch(b){console.error("Error updating product:",b),a({error:"Failed to update product"})}},deleteProduct:async c=>{try{await (0,e.kd)((0,e.doc)(f.db,"products",c));let d=b().products.filter(a=>a.id!==c);a({products:d})}catch(b){console.error("Error deleting product:",b),a({error:"Failed to delete product"})}},clearProducts:()=>{a({products:[],loading:!1,error:null})}}))},91893:(a,b,c)=>{"use strict";c.d(b,{A:()=>k});var d=c(60687),e=c(43210),f=c(16189),g=c(64398),h=c(71057),i=c(90677),j=c(55512);function k({profile:a,isOwnProfile:b,isLoggedIn:c}){let k=(0,f.useRouter)(),l=a&&["brand","company","personal"].includes(a.role);if(!l)return null;let[m,n]=(0,e.useState)("products"),{products:o,loading:p,fetchUserProductsRealtime:q}=(0,i.a)(),{reviews:r,loading:s,fetchUserReviewsRealtime:t}=(0,j.x)(),[u,v]=(0,e.useState)([]),w=a=>a&&"number"==typeof a?a>=1e6?`${(a/1e6).toFixed(1)}M`:a>=1e3?`${(a/1e3).toFixed(1)}K`:a.toString():"0",x=[...l?[{id:"reels",label:"Reels"}]:[],{id:"products",label:"Products"},{id:"reviews",label:"Reviews"},{id:"about",label:"About"}];return(0,d.jsxs)("div",{className:"w-full",children:[(0,d.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,d.jsx)("nav",{className:"flex space-x-8",children:x.map(a=>(0,d.jsx)("button",{onClick:()=>n(a.id),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${m===a.id?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"}`,children:a.label},a.id))})}),(0,d.jsx)("div",{className:"min-h-[300px]",children:(()=>{if(!a)return null;let c=["brand","company","personal"].includes(a.role);switch(m){case"reels":if(!c)return null;return(0,d.jsx)("div",{className:"flex flex-col items-center justify-center h-64 w-full",children:0===u.length?(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,d.jsx)("p",{className:"text-gray-500",children:"No Reels Yet"}),c&&b&&(0,d.jsx)("button",{onClick:()=>k.push("/upload/reel"),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Create Reel"})]}):(0,d.jsx)("div",{className:"grid grid-cols-3 gap-1 w-full",children:u.map(a=>(0,d.jsx)("div",{className:"aspect-[9/16] bg-gray-200 rounded-lg"},a.id))})});case"products":return(0,d.jsx)("div",{className:"w-full",children:p?(0,d.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[...Array(6)].map((a,b)=>(0,d.jsx)("div",{className:"aspect-square bg-gray-200 animate-pulse rounded-lg"},b))}):o.length>0?(0,d.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:o.map(a=>(0,d.jsxs)("div",{className:"cursor-pointer group",onClick:()=>k.push(`/product/${a.id}`),children:[(0,d.jsx)("div",{className:"aspect-square bg-gray-200 rounded-lg overflow-hidden mb-2",children:(0,d.jsx)("img",{src:a.images?.[0]||"/placeholder.png",alt:a.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})}),(0,d.jsx)("h3",{className:"text-sm font-medium truncate",children:a.title}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["$",a.price]}),a.rating&&(0,d.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,d.jsx)(g.A,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),(0,d.jsx)("span",{children:a.rating.toFixed(1)})]})]},a.id))}):(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center h-64",children:[(0,d.jsx)(h.A,{className:"w-12 h-12 text-gray-400 mb-2"}),(0,d.jsx)("p",{className:"text-gray-500",children:"No products yet"}),b&&c&&(0,d.jsx)("button",{onClick:()=>k.push("/product/upload"),className:"mt-4 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Add Product"})]})});case"reviews":return(0,d.jsx)("div",{className:"w-full",children:s?(0,d.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((a,b)=>(0,d.jsx)("div",{className:"bg-gray-200 animate-pulse h-24 rounded-lg"},b))}):r.length>0?(0,d.jsx)("div",{className:"space-y-4",children:r.map(a=>(0,d.jsxs)("div",{className:"border-b pb-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,d.jsx)("div",{className:"flex",children:[void 0,void 0,void 0,void 0,void 0].map((b,c)=>(0,d.jsx)(g.A,{className:`w-4 h-4 ${c<a.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},c))}),(0,d.jsx)("span",{className:"text-sm font-medium",children:a.userName})]}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:a.comment})]},a.id))}):(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center h-64",children:[(0,d.jsx)(g.A,{className:"w-12 h-12 text-gray-400 mb-2"}),(0,d.jsx)("p",{className:"text-gray-500",children:"No reviews yet"})]})});case"about":return(0,d.jsxs)("div",{className:"w-full space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold mb-2",children:"Bio"}),(0,d.jsx)("p",{className:"text-gray-600",children:a.bio||"No bio available"})]}),a.location&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold mb-2",children:"Location"}),(0,d.jsx)("p",{className:"text-gray-600",children:a.location})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold mb-2",children:"Stats"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-2xl font-bold",children:w(Array.isArray(a.followers)?a.followers.length:a.followers)}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Followers"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-2xl font-bold",children:w(Array.isArray(a.following)?a.following.length:a.following)}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Following"})]})]})]})]});default:return null}})()})]})}},96487:()=>{}};