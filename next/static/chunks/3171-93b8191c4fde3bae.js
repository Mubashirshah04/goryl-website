"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3171],{3171:(e,s,t)=>{t.d(s,{default:()=>eo});var l=t(95155),r=t(12115),a=t(35695),i=t(56671),n=t(68084),c=t(98868),o=t(28203),d=t(22740),x=t(6874),m=t.n(x),h=t(10520),u=t(84355),g=t(5623),f=t(19420),p=t(99424),j=t(38564),b=t(27809),N=t(381),v=t(71366),y=t(66516),w=t(62108),A=t(51976),k=t(35317),S=t(25610);let C=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,[t,l]=(0,r.useState)([]),[a,i]=(0,r.useState)(!0),[n,c]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(!e)return void i(!1);try{let t=(0,k.query)((0,k.collection)(S.db,"orders"),(0,k.where)("userId","==",e),(0,k.My)("createdAt","desc"),(0,k.AB)(s)),r=(0,k.onSnapshot)(t,e=>{let s=e.docs.map(e=>Object.assign({id:e.id},e.data()));l(s),i(!1),c(null)},e=>{console.error("Error fetching orders:",e),"failed-precondition"===e.code&&console.warn("⚠️ Order index is still building. This is normal during initial setup."),l([]),i(!1),c(null)});return()=>r()}catch(e){console.error("Error setting up orders listener:",e),l([]),i(!1),c(null)}},[e,s]),{orders:t,loading:a,error:n}};var P=t(29700),R=t(40646),L=t(54861),F=t(85339),I=t(14186),D=t(57434),E=t(69074);function B(e){let{userId:s}=e,[t,a]=(0,r.useState)([]),[i,n]=(0,r.useState)(!0),[c,o]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{if(!s)return void n(!1);console.log("\uD83D\uDD0D Fetching applications for userId:",s);let e=[],t=[],l=!1,r=!1,i=()=>{if(l&&r){console.log("\uD83D\uDD0D Combining applications from both collections"),console.log("\uD83D\uDCCA Apps collection: ".concat(e.length," applications")),console.log("\uD83D\uDCCA SellerApps collection: ".concat(t.length," applications"));let s=[...e,...t].filter((e,s,t)=>s===t.findIndex(s=>s.id===e.id));console.log("\uD83D\uDCCA Total unique applications: ".concat(s.length)),a(s),n(!1)}},c=(0,k.query)((0,k.collection)(S.db,"sellerApplications"),(0,k.where)("userId","==",s),(0,k.My)("submittedAt","desc")),d=(0,k.onSnapshot)(c,e=>{console.log("\uD83D\uDCCA Seller applications snapshot:",e.docs.length,"documents"),t=e.docs.map(e=>{let s=e.data();return console.log("\uD83D\uDCC4 Seller application data:",s),{id:e.id,...s}}),r=!0,i()},e=>{console.error("❌ Error fetching seller applications:",e),"failed-precondition"===e.code&&(console.warn("⚠️ Index is still building. This is normal during initial setup."),o(!0)),r=!0,i()}),x=(0,k.query)((0,k.collection)(S.db,"applications"),(0,k.where)("userId","==",s),(0,k.My)("submittedAt","desc")),m=(0,k.onSnapshot)(x,s=>{console.log("\uD83D\uDCCA Applications snapshot:",s.docs.length,"documents"),e=s.docs.map(e=>{let s=e.data();return console.log("\uD83D\uDCC4 Application data:",s),{id:e.id,...s}}),l=!0,i()},e=>{console.error("❌ Error fetching applications:",e),"failed-precondition"===e.code&&(console.warn("⚠️ Index is still building. This is normal during initial setup."),o(!0)),l=!0,i()});return()=>{d(),m()}},[s]),i)?(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full"}),(0,l.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]})}):0===t.length?(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,l.jsx)("div",{className:"text-center",children:c?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(I.A,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Index Building in Progress"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"The system is currently setting up. This may take a few minutes. Please refresh the page in a few minutes to see your applications."})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Applications Found"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"You haven't submitted any seller applications yet."}),(0,l.jsx)(m(),{href:"/become-seller",className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Apply to Become a Seller"})]})})}):(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Seller Applications"}),(0,l.jsxs)("span",{className:"text-sm text-gray-500",children:[t.length," application",1!==t.length?"s":""]})]}),(0,l.jsx)("div",{className:"space-y-4",children:t.map(e=>{var s;return(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(e=>{switch(e){case"approved":return(0,l.jsx)(R.A,{className:"w-5 h-5 text-green-500"});case"rejected":return(0,l.jsx)(L.A,{className:"w-5 h-5 text-red-500"});case"under_review":return(0,l.jsx)(F.A,{className:"w-5 h-5 text-yellow-500"});default:return(0,l.jsx)(I.A,{className:"w-5 h-5 text-blue-500"})}})(e.status),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900",children:e.businessName}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 capitalize",children:[e.businessType," Account"]})]})]}),(0,l.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ".concat((e=>{switch(e){case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"under_review":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}})(e.status)),children:(e=>{switch(e){case"approved":return"Approved";case"rejected":return"Rejected";case"under_review":return"Under Review";default:return"Pending"}})(e.status)})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.businessDescription}),(0,l.jsx)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(E.A,{className:"w-4 h-4"}),(0,l.jsxs)("span",{children:["Submitted: ",(s=e.submittedAt)?(s.toDate?s.toDate():new Date(s)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"]})]}),e.documents&&(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(D.A,{className:"w-4 h-4"}),(0,l.jsxs)("span",{children:[e.documents.length," document",1!==e.documents.length?"s":""]})]})]})}),e.notes&&e.notes.length>0&&(0,l.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[(0,l.jsx)("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Admin Notes:"}),(0,l.jsx)("div",{className:"space-y-1",children:e.notes.map((e,s)=>(0,l.jsx)("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:e},s))})]})]},e.id)})})]})}var M=t(76766),T=t(24601);function U(e){var s,a,n,c,o,d;let{profile:x,isOwnProfile:k,isFollowing:S,onFollow:R,onShare:L,onMessage:F,onBack:I,isLoggedIn:D=!0}=e,[E,U]=(0,r.useState)("orders"),{orders:O,loading:z}=C(x.id,5),[_,G]=(0,r.useState)(null),[q,V]=(0,r.useState)(!1),[Y,K]=(0,r.useState)(!1),[$,H]=(0,r.useState)(!1),[Q,X]=(0,r.useState)([]),[J,W]=(0,r.useState)(""),[Z,ee]=(0,r.useState)(!1),[es,et]=(0,r.useState)(!1),[el,er]=(0,r.useState)(""),ea=e=>{if("number"==typeof e)return e;if("string"==typeof e){let s=parseInt(e.replace(/dkjArdF4Q9P4Wx2Nl7nfnt6O5Rn1aNnliXy7QFYKFDwjPfrvDXJkTbm1/g,"").trim(),10);return isNaN(s)?0:s}return Array.isArray(e)?e.length:0},[ei,en]=(0,r.useState)({followers:ea(x.followers),following:ea(x.following)});function ec(){V(!1),G(null)}async function eo(e){if(!Array.isArray(e)||0===e.length)return[];let{collection:s,getDocs:l,query:r,where:a}=await Promise.resolve().then(t.bind(t,35317)),{db:i}=await Promise.resolve().then(t.bind(t,25610)),n=[];for(let t=0;t<e.length;t+=10){let c=e.slice(t,t+10),o=r(s(i,"users"),a("__name__","in",c));(await l(o)).docs.forEach(e=>{n.push({id:e.id,...e.data()})})}return n}async function ed(){W("Followers"),K(!0);try{let e=await (0,P.ri)(x.id);X(await eo(e))}catch(e){console.error("Error fetching followers:",e),i.oR.error("Failed to load followers"),X([])}}async function ex(){W("Following"),H(!0);try{let e=await (0,P.Vf)(x.id);X(await eo(e))}catch(e){console.error("Error fetching following:",e),i.oR.error("Failed to load following"),X([])}}function em(){K(!1),H(!1),X([])}async function eh(e){window.location.href="/profile?uid=".concat(e)}return(0,r.useEffect)(()=>{let e=(0,P.wx)(x.id,e=>{en({followers:ea(e.followers),following:ea(e.following)})});return()=>e()},[x.id]),(0,l.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,l.jsx)("div",{className:"flex items-center justify-end p-4 border-b border-border",children:(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[k&&(0,l.jsx)(m(),{href:"/profile/edit",className:"p-2 hover:bg-accent rounded-full transition-colors",children:(0,l.jsx)(u.A,{className:"w-6 h-6 text-foreground"})}),(0,l.jsx)("button",{className:"p-2 hover:bg-accent rounded-full transition-colors",onClick:()=>{let e=k?["Edit Profile","Settings","Share Profile","Logout"]:["Share Profile","Report User","Block User"],s="Options:\n";e.forEach((e,t)=>{s+="".concat(t+1,". ").concat(e,"\n")});let t=parseInt(prompt(s+="\nEnter number (1-".concat(e.length,"):"))||"0")-1;if(t>=0&&t<e.length)switch(e[t]){case"Edit Profile":window.location.href="/profile/edit";break;case"Settings":window.location.href="/settings";break;case"Share Profile":navigator.share?navigator.share({title:"".concat(x.name,"'s Profile"),url:window.location.href}):(navigator.clipboard.writeText(window.location.href),i.oR.success("Profile link copied to clipboard!"));break;case"Logout":confirm("Are you sure you want to logout?")&&(window.location.href="/login");break;case"Report User":i.oR.info("Report feature coming soon!");break;case"Block User":i.oR.info("Block feature coming soon!")}},children:(0,l.jsx)(g.A,{className:"w-6 h-6 text-foreground"})})]})}),(0,l.jsxs)("div",{className:"px-4 py-6",children:[(0,l.jsx)("div",{className:"flex justify-center mb-6",children:(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)(M.A,{user:{customPhotoURL:x.customPhotoURL,photoURL:x.photoURL,profilePic:x.profilePic,avatar:x.avatar,name:x.name},size:120,className:"rounded-full object-cover"})})}),(0,l.jsxs)("div",{className:"text-center mb-2",children:[(0,l.jsx)("div",{className:"flex items-center justify-center space-x-2 mb-1",children:(0,l.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:x.name||"User"})}),x.username&&(0,l.jsxs)("p",{className:"text-muted-foreground text-sm",children:["@",x.username]}),(0,l.jsx)("p",{className:"text-muted-foreground text-sm",children:"seller"===x.role?"Personal Shopping Assistant":"Normal User"})]}),(0,l.jsxs)("div",{className:"flex justify-center space-x-8 mb-6",children:[(0,l.jsxs)("button",{onClick:ed,className:"text-center",children:[(0,l.jsx)("p",{className:"text-lg font-bold text-foreground",children:ei.followers}),(0,l.jsx)("span",{className:"text-muted-foreground text-xs",children:"Followers"})]}),(0,l.jsxs)("button",{onClick:ex,className:"text-center",children:[(0,l.jsx)("p",{className:"text-lg font-bold text-foreground",children:ei.following}),(0,l.jsx)("span",{className:"text-muted-foreground text-xs",children:"Following"})]})]}),(0,l.jsxs)(h.lG,{open:Y||$,onClose:em,className:"fixed z-50 inset-0 overflow-y-auto",children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-black opacity-30","aria-hidden":"true"}),(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,l.jsxs)("div",{className:"relative bg-background rounded-lg shadow-lg w-full max-w-md mx-auto p-6 z-50 border border-border",children:[(0,l.jsx)(h.lG.Title,{className:"text-lg font-bold mb-4 text-foreground",children:J}),(0,l.jsxs)("ul",{children:[0===Q.length&&(0,l.jsx)("li",{className:"text-muted-foreground text-center py-8",children:"No users found."}),Q.map(e=>(0,l.jsxs)("li",{className:"flex items-center space-x-3 py-2 cursor-pointer hover:bg-accent rounded px-2",onClick:()=>eh(e.id),children:[(0,l.jsx)(M.A,{user:e,size:32,className:"rounded-full"}),(0,l.jsx)("span",{className:"font-medium text-foreground",children:e.name})]},e.id))]}),(0,l.jsx)("button",{onClick:em,className:"mt-4 w-full py-2 bg-accent rounded text-foreground",children:"Close"})]})})]}),(0,l.jsxs)(h.lG,{open:Z,onClose:()=>ee(!1),className:"fixed z-50 inset-0 overflow-y-auto",children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-black opacity-30","aria-hidden":"true"}),(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen p-4",children:(0,l.jsxs)("div",{className:"relative bg-background rounded-lg shadow-lg w-full max-w-md mx-auto p-6 z-50 border border-border",children:[(0,l.jsx)(h.lG.Title,{className:"text-lg font-bold mb-4 text-foreground",children:"Select Your Mood"}),(0,l.jsx)("div",{className:"grid grid-cols-5 gap-4",children:[{emoji:"\uD83D\uDE0A",label:"Happy"},{emoji:"\uD83D\uDE22",label:"Sad"},{emoji:"\uD83D\uDE0D",label:"Loved"},{emoji:"\uD83D\uDE0E",label:"Cool"},{emoji:"\uD83E\uDD14",label:"Thinking"},{emoji:"\uD83D\uDE34",label:"Sleepy"},{emoji:"\uD83D\uDD25",label:"Fired Up"},{emoji:"\uD83D\uDCAA",label:"Motivated"},{emoji:"\uD83C\uDF89",label:"Celebrating"},{emoji:"\uD83D\uDE0C",label:"Relaxed"}].map(e=>(0,l.jsxs)("button",{onClick:()=>{var s;er(s=e.label),ee(!1),i.oR.success("Mood set to ".concat(s,"!"))},className:"flex flex-col items-center space-y-2 p-3 hover:bg-accent rounded-lg transition-colors",children:[(0,l.jsx)("span",{className:"text-3xl",children:e.emoji}),(0,l.jsx)("span",{className:"text-xs text-foreground",children:e.label})]},e.label))}),(0,l.jsx)("button",{onClick:()=>ee(!1),className:"mt-6 w-full py-2 bg-accent rounded text-foreground",children:"Cancel"})]})})]}),(0,l.jsxs)(h.lG,{open:es,onClose:()=>et(!1),className:"fixed z-50 inset-0 overflow-y-auto",children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-black opacity-30","aria-hidden":"true"}),(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen p-4",children:(0,l.jsxs)("div",{className:"relative bg-background rounded-lg shadow-lg w-full max-w-md mx-auto p-6 z-50 border border-border",children:[(0,l.jsx)(h.lG.Title,{className:"text-lg font-bold mb-4 text-foreground",children:"Contact Information"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-accent rounded-lg",children:[(0,l.jsx)(f.A,{className:"w-6 h-6 text-primary"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"Phone Number"}),(0,l.jsx)("p",{className:"text-lg font-semibold text-foreground",children:x.phone||x.phoneNumber||"Not available"})]})]}),(x.phone||x.phoneNumber)&&(0,l.jsxs)("a",{href:"tel:".concat(x.phone||x.phoneNumber),className:"flex items-center justify-center space-x-2 w-full py-3 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 transition-colors",children:[(0,l.jsx)(f.A,{className:"w-5 h-5"}),(0,l.jsx)("span",{children:"Call Now"})]})]}),(0,l.jsx)("button",{onClick:()=>et(!1),className:"mt-4 w-full py-2 bg-accent rounded text-foreground",children:"Close"})]})})]}),x.bio&&(0,l.jsx)("div",{className:"bg-accent rounded-2xl p-4 mb-8 mx-4",children:(0,l.jsx)("p",{className:"text-center text-foreground text-sm",children:x.bio})}),(0,l.jsxs)("div",{className:"flex justify-center space-x-8 mb-8",children:[(0,l.jsxs)("button",{onClick:()=>ee(!0),className:"flex flex-col items-center space-y-1",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-accent rounded-full flex items-center justify-center hover:bg-accent/80 transition-colors",children:(0,l.jsx)(p.A,{className:"w-6 h-6 text-foreground"})}),(0,l.jsx)("span",{className:"text-xs text-muted-foreground",children:"Mood"})]}),(0,l.jsxs)("button",{onClick:()=>et(!0),className:"flex flex-col items-center space-y-1",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-accent rounded-full flex items-center justify-center hover:bg-accent/80 transition-colors",children:(0,l.jsx)(f.A,{className:"w-6 h-6 text-foreground"})}),(0,l.jsx)("span",{className:"text-xs text-muted-foreground",children:"Call"})]}),k?(0,l.jsxs)(m(),{href:"/profile/edit",className:"flex flex-col items-center space-y-1",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center",children:(0,l.jsx)(u.A,{className:"w-6 h-6 text-primary-foreground"})}),(0,l.jsx)("span",{className:"text-xs text-muted-foreground",children:"Edit"})]}):(0,l.jsxs)("button",{onClick:R,className:"flex flex-col items-center space-y-1",children:[(0,l.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center ".concat(S?"bg-accent":"bg-primary"),children:(0,l.jsx)(j.A,{className:"w-6 h-6 ".concat(S?"text-foreground":"text-primary-foreground")})}),(0,l.jsx)("span",{className:"text-xs text-muted-foreground",children:S?"Following":"Follow"})]}),(0,l.jsxs)(m(),{href:"/orders",className:"flex flex-col items-center space-y-1",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-accent rounded-full flex items-center justify-center hover:bg-accent/80 transition-colors",children:(0,l.jsx)(b.A,{className:"w-6 h-6 text-foreground"})}),(0,l.jsx)("span",{className:"text-xs text-muted-foreground",children:"Orders"})]}),k&&(0,l.jsxs)(m(),{href:"/settings",className:"flex flex-col items-center space-y-1",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-accent rounded-full flex items-center justify-center",children:(0,l.jsx)(N.A,{className:"w-6 h-6 text-foreground"})}),(0,l.jsx)("span",{className:"text-xs text-muted-foreground",children:"Settings"})]})]}),(0,l.jsxs)("div",{className:"px-4",children:[(0,l.jsx)("div",{className:"mb-3",children:(0,l.jsx)("h2",{className:"text-lg font-bold text-foreground",children:"About"})}),(0,l.jsx)("p",{className:"text-foreground text-sm leading-relaxed",children:x.about||x.bio||""})]}),!k&&(0,l.jsxs)("div",{className:"flex justify-center space-x-4 mt-8",children:[(0,l.jsxs)("button",{onClick:F,className:"flex items-center space-x-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg font-medium",children:[(0,l.jsx)(v.A,{className:"w-5 h-5"}),(0,l.jsx)("span",{children:"Message"})]}),(0,l.jsxs)("button",{onClick:L,className:"flex items-center space-x-2 px-6 py-3 border border-border text-foreground rounded-lg font-medium",children:[(0,l.jsx)(y.A,{className:"w-5 h-5"}),(0,l.jsx)("span",{children:"Share"})]})]}),(0,l.jsx)("div",{className:"mt-8",children:(0,l.jsx)(T.default,{profile:x,isOwnProfile:k,isLoggedIn:D})}),k&&(0,l.jsxs)("div",{className:"border-t border-border mt-8 pt-6",children:[(0,l.jsxs)("nav",{className:"flex space-x-8 mb-6",children:[(0,l.jsx)("button",{onClick:()=>U("saved"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("saved"===E?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),children:"Saved"}),(0,l.jsx)("button",{onClick:()=>U("liked"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("liked"===E?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),children:"Liked"}),(0,l.jsxs)("button",{onClick:()=>U("orders"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("orders"===E?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),children:["Orders (",O.length,")"]}),(0,l.jsx)("button",{onClick:()=>U("applications"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("applications"===E?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),children:"Applications"})]}),(0,l.jsxs)("div",{className:"mb-6",children:["saved"===E&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-lg font-bold mb-3 text-foreground",children:"Saved Items"}),(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)(w.A,{className:"w-12 h-12 text-foreground mx-auto mb-2"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"No saved items yet"}),k&&(0,l.jsx)(m(),{href:"/",className:"block text-primary hover:text-primary/90 font-medium text-sm mt-2",children:"Start Shopping →"})]})]}),"liked"===E&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-lg font-bold mb-3 text-foreground",children:"Liked Items"}),(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)(A.A,{className:"w-12 h-12 text-foreground mx-auto mb-2"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"No liked items yet"}),k&&(0,l.jsx)(m(),{href:"/",className:"block text-primary hover:text-primary/90 font-medium text-sm mt-2",children:"Start Shopping →"})]})]}),"orders"===E&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-lg font-bold mb-3 text-foreground",children:"Recent Purchases"}),z?(0,l.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,s)=>(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"bg-accent rounded-lg h-20"})},s))}):O.length>0?(0,l.jsxs)("div",{className:"space-y-4",children:[O.map(e=>{var s,t;return(0,l.jsx)("div",{className:"bg-accent rounded-lg p-4 cursor-pointer hover:bg-accent/80",onClick:()=>{G(e),V(!0)},children:(0,l.jsxs)("div",{className:"flex items-center mb-2",children:[e.items&&(null==(s=e.items[0])?void 0:s.image)&&(0,l.jsx)("img",{src:e.items[0].image,alt:e.items[0].title,className:"w-14 h-14 rounded object-cover mr-4"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"font-semibold text-sm text-foreground",children:e.items&&(null==(t=e.items[0])?void 0:t.title)?e.items[0].title:"Order #".concat(e.id.slice(-8).toUpperCase())}),(0,l.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.items&&e.items.length," item",e.items&&e.items.length>1?"s":""]}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt.toDate()).toLocaleDateString()})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("delivered"===e.status?"bg-green-100 text-green-800":"shipped"===e.status?"bg-blue-100 text-blue-800":"confirmed"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status}),(0,l.jsxs)("div",{className:"text-sm font-medium mt-1 text-foreground",children:["$",e.totalAmount||"0.00"]})]})]})},e.id)}),(0,l.jsxs)(h.lG,{open:q,onClose:ec,className:"fixed z-50 inset-0 overflow-y-auto",children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-black opacity-30","aria-hidden":"true"}),(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,l.jsxs)("div",{className:"relative bg-background rounded-lg shadow-lg w-full max-w-lg mx-auto p-6 z-50 border border-border",children:[(0,l.jsx)(h.lG.Title,{className:"text-lg font-bold mb-4 text-foreground",children:"Order Details"}),_&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center mb-2",children:[_.items&&(null==(s=_.items[0])?void 0:s.image)&&(0,l.jsx)("img",{src:_.items[0].image,alt:_.items[0].title,className:"w-16 h-16 rounded object-cover mr-4"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-semibold text-foreground",children:_.items&&(null==(a=_.items[0])?void 0:a.title)}),(0,l.jsxs)("div",{className:"text-xs text-muted-foreground",children:[_.items&&_.items.length," item",_.items&&_.items.length>1?"s":""]}),(0,l.jsx)("div",{className:"text-xs text-muted-foreground",children:new Date(_.createdAt.toDate()).toLocaleDateString()})]})]}),(0,l.jsxs)("div",{className:"text-sm font-medium text-foreground",children:["Total: $",_.totalAmount||"0.00"]}),(0,l.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Status: ",_.status]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("div",{className:"font-semibold mb-1 text-foreground",children:"Shipping"}),(0,l.jsx)("div",{className:"text-xs text-muted-foreground",children:(null==(n=_.shipping)?void 0:n.address)||"N/A"}),(0,l.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Tracking: ",(null==(c=_.shipping)?void 0:c.tracking)||"N/A"]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("div",{className:"font-semibold mb-1 text-foreground",children:"Payment"}),(0,l.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Method: ",(null==(o=_.payment)?void 0:o.method)||"N/A"]}),(0,l.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Status: ",(null==(d=_.payment)?void 0:d.status)||"N/A"]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("div",{className:"font-semibold mb-1 text-foreground",children:"Invoice"}),(0,l.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Order ID: ",_.id]})]})]}),(0,l.jsx)("button",{onClick:ec,className:"mt-4 w-full py-2 bg-accent rounded text-foreground",children:"Close"})]})})]}),k&&(0,l.jsx)(m(),{href:"/orders",className:"block text-center text-primary hover:text-primary/90 font-medium text-sm mt-4",children:"View All Orders →"})]}):(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)(b.A,{className:"w-12 h-12 text-foreground mx-auto mb-2"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"No purchases yet"}),k&&(0,l.jsx)(m(),{href:"/",className:"block text-primary hover:text-primary/90 font-medium text-sm mt-2",children:"Start Shopping →"})]})]}),"applications"===E&&(0,l.jsx)("div",{children:(0,l.jsx)(B,{userId:x.id})})]})]})]})]})}var O=t(37108),z=t(33109),_=t(72713);function G(e){var s;let{profile:t,isOwnProfile:a,isFollowing:i,onFollow:n,onShare:c,onMessage:x,onBack:h,isLoggedIn:N=!0}=e,[w,A]=(0,r.useState)("products"),{products:k,loading:S}=(0,o.a)(),{reviews:P,loading:R}=(0,d.x)(),{orders:L,loading:F}=C(t.id,5);return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,l.jsx)("div",{className:"flex items-center justify-end p-4 border-b border-gray-700",children:(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[a&&(0,l.jsx)(m(),{href:"/profile/edit",className:"p-2",children:(0,l.jsx)(u.A,{className:"w-6 h-6 text-white"})}),(0,l.jsx)("button",{className:"p-2",children:(0,l.jsx)(g.A,{className:"w-6 h-6 text-white"})})]})}),(0,l.jsxs)("div",{className:"px-4 py-6",children:[(0,l.jsx)("div",{className:"flex justify-center mb-6",children:(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)(M.A,{user:t,size:120,className:"rounded-full object-cover"})})}),(0,l.jsxs)("div",{className:"text-center mb-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-white",children:t.name||"User"}),t.verified&&(0,l.jsx)("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),t.username&&(0,l.jsxs)("p",{className:"text-gray-400 text-sm",children:["@",t.username]}),(0,l.jsx)("p",{className:"text-gray-400 text-sm",children:"Personal Shopping Assistant"})]}),(0,l.jsx)("div",{className:"text-center mb-6",children:(0,l.jsxs)("p",{className:"text-gray-400 text-sm",children:[(()=>{let e=t.followers;if("number"==typeof e)return e;if("string"==typeof e){let s=parseInt(e.replace(/dkjArdF4Q9P4Wx2Nl7nfnt6O5Rn1aNnliXy7QFYKFDwjPfrvDXJkTbm1/g,"").trim(),10);return isNaN(s)?0:s}return Array.isArray(e)?e.length:0})()," followers"]})}),(0,l.jsx)("div",{className:"bg-gray-800 rounded-2xl p-4 mb-8 mx-4",children:(0,l.jsx)("p",{className:"text-center text-gray-200 text-sm",children:t.bio||"Looking for a sustainable handbag or cozy worn sneakers? I've got some ideas for you."})}),(0,l.jsxs)("div",{className:"flex justify-center space-x-8 mb-8",children:[(0,l.jsxs)("button",{className:"flex flex-col items-center space-y-1",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-gray-800 rounded-full flex items-center justify-center",children:(0,l.jsx)(p.A,{className:"w-6 h-6 text-gray-300"})}),(0,l.jsx)("span",{className:"text-xs text-gray-400",children:"Mood"})]}),(0,l.jsxs)("button",{className:"flex flex-col items-center space-y-1",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-gray-800 rounded-full flex items-center justify-center",children:(0,l.jsx)(f.A,{className:"w-6 h-6 text-gray-300"})}),(0,l.jsx)("span",{className:"text-xs text-gray-400",children:"Call"})]}),a?(0,l.jsxs)(m(),{href:"/profile/edit",className:"flex flex-col items-center space-y-1",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-purple-900 rounded-full flex items-center justify-center",children:(0,l.jsx)(u.A,{className:"w-6 h-6 text-purple-400"})}),(0,l.jsx)("span",{className:"text-xs text-gray-400",children:"Edit"})]}):(0,l.jsxs)("button",{onClick:n,className:"flex flex-col items-center space-y-1",children:[(0,l.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center ".concat(i?"bg-gray-700":"bg-purple-900"),children:(0,l.jsx)(j.A,{className:"w-6 h-6 ".concat(i?"text-gray-300":"text-purple-400")})}),(0,l.jsx)("span",{className:"text-xs text-gray-400",children:i?"Following":"Follow"})]}),(0,l.jsxs)("button",{className:"flex flex-col items-center space-y-1",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-gray-800 rounded-full flex items-center justify-center",children:(0,l.jsx)(b.A,{className:"w-6 h-6 text-gray-300"})}),(0,l.jsx)("span",{className:"text-xs text-gray-400",children:"Orders"})]})]}),(0,l.jsxs)("div",{className:"px-4",children:[(0,l.jsx)("div",{className:"mb-3",children:(0,l.jsx)("h2",{className:"text-lg font-bold text-foreground",children:"About"})}),(0,l.jsx)("p",{className:"text-foreground text-sm leading-relaxed",children:t.about||t.bio||""})]}),(0,l.jsx)("div",{className:"mt-6 px-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4 bg-gray-800 rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-lg font-bold text-white",children:(null==k?void 0:k.length)||0}),(0,l.jsx)("div",{className:"text-xs text-gray-400",children:"Products"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-lg font-bold text-white",children:(null==(s=t.totalSales)?void 0:s.toLocaleString())||0}),(0,l.jsx)("div",{className:"text-xs text-gray-400",children:"Sales"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-lg font-bold text-white",children:((null==P?void 0:P.length)?P.reduce((e,s)=>e+(s.rating||0),0)/P.length:0).toFixed(1)}),(0,l.jsx)("div",{className:"text-xs text-gray-400",children:"Rating"})]})]})}),a&&(0,l.jsx)("div",{className:"px-4 mt-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,l.jsxs)(m(),{href:"/shop/".concat(t.id),className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,l.jsx)(b.A,{className:"w-5 h-5 text-blue-400 mb-1"}),(0,l.jsx)("span",{className:"text-xs text-center text-white",children:"Shop"})]}),(0,l.jsxs)(m(),{href:"/product/upload",className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,l.jsx)(O.A,{className:"w-5 h-5 text-green-400 mb-1"}),(0,l.jsx)("span",{className:"text-xs text-center text-white",children:"Add Product"})]}),(0,l.jsxs)(m(),{href:"/shop/".concat(t.id),className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,l.jsx)(z.A,{className:"w-5 h-5 text-purple-400 mb-1"}),(0,l.jsx)("span",{className:"text-xs text-center text-white",children:"Analytics"})]}),(0,l.jsxs)(m(),{href:"/brand/dashboard",className:"flex flex-col items-center justify-center p-3 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg hover:from-purple-700 hover:to-blue-700 transition",children:[(0,l.jsx)(_.A,{className:"w-5 h-5 text-white mb-1"}),(0,l.jsx)("span",{className:"text-xs text-center text-white font-medium",children:"Dashboard"})]})]})}),!a&&(0,l.jsxs)("div",{className:"flex justify-center space-x-4 mt-8",children:[(0,l.jsxs)("button",{onClick:x,className:"flex items-center space-x-2 px-6 py-3 bg-purple-700 text-white rounded-lg font-medium",children:[(0,l.jsx)(v.A,{className:"w-5 h-5"}),(0,l.jsx)("span",{children:"Message"})]}),(0,l.jsxs)("button",{onClick:c,className:"flex items-center space-x-2 px-6 py-3 border border-gray-600 text-gray-200 rounded-lg font-medium",children:[(0,l.jsx)(y.A,{className:"w-5 h-5"}),(0,l.jsx)("span",{children:"Share"})]})]}),(0,l.jsx)("div",{className:"border-t border-gray-700 mt-8 pt-6",children:(0,l.jsxs)("nav",{className:"flex space-x-8 mb-6",children:[(0,l.jsxs)("button",{onClick:()=>A("products"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("products"===w?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-200"),children:["Products (",k.length,")"]}),(0,l.jsx)("button",{onClick:()=>A("orders"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("orders"===w?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-200"),children:"Orders"}),(0,l.jsx)("button",{onClick:()=>A("followers"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("followers"===w?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-200"),children:"Followers"})]})})]})]})}var q=t(66766),V=t(44940),Y=t(17580),K=t(28883),$=t(4516),H=t(34869),Q=t(75684),X=t(10488),J=t(18175);let W=(0,t(55028).default)(()=>Promise.resolve().then(t.bind(t,24601)),{loadableGenerated:{webpack:()=>[24601]},loading:()=>(0,l.jsx)("div",{className:"w-full h-48 bg-gray-200 animate-pulse rounded-lg"}),ssr:!1});function Z(e){var s,t,a;let{profile:i,isOwnProfile:n,isFollowing:c,onFollow:x,onShare:h,onMessage:p,onBack:N,isLoggedIn:w=!0}=e,{products:A,loading:k,fetchUserProductsRealtime:S}=(0,o.a)(),{reviews:C,loading:P,fetchUserReviewsRealtime:R}=(0,d.x)(),[L,F]=(0,r.useState)(""),[I,D]=(0,r.useState)(""),E=(0,r.useRef)({products:null,reviews:null});(0,r.useEffect)(()=>{if(i.id&&!E.current.products&&!E.current.reviews){E.current.products=S(i.id),E.current.reviews=R(i.id),i.coverPhoto?F(i.coverPhoto):F("");let e=i.customPhotoURL||i.photoURL||i.profilePic||i.avatar;e?D(e):D("")}return()=>{E.current.products&&E.current.products(),E.current.reviews&&E.current.reviews()}},[]);let B=0===C.length?{averageRating:0,totalReviews:0}:{averageRating:C.reduce((e,s)=>e+(s.rating||0),0)/C.length,totalReviews:C.length},M=(null==A?void 0:A.length)||0;i.totalSales;let T=(null==(s=i.followers)?void 0:s.length)||0,U=(null==(t=i.following)?void 0:t.length)||0,G=()=>{if(n){let e=["Edit Profile","Settings","Share Profile","Logout"],s="Options:\n";e.forEach((e,t)=>{s+="".concat(t+1,". ").concat(e,"\n")});let t=parseInt(prompt(s+="\nEnter number (1-".concat(e.length,"):"))||"0")-1;if(t>=0&&t<e.length)switch(e[t]){case"Edit Profile":window.location.href="/profile/edit";break;case"Settings":window.location.href="/settings";break;case"Share Profile":navigator.share?navigator.share({title:"".concat(i.name,"'s Profile"),url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Profile link copied to clipboard!"));break;case"Logout":confirm("Are you sure you want to logout?")&&(window.location.href="/login")}}else{let e=["Share Profile","Report Brand","Block Brand"],s="Options:\n";e.forEach((e,t)=>{s+="".concat(t+1,". ").concat(e,"\n")});let t=parseInt(prompt(s+="\nEnter number (1-".concat(e.length,"):"))||"0")-1;if(t>=0&&t<e.length)switch(e[t]){case"Share Profile":navigator.share?navigator.share({title:"".concat(i.name,"'s Profile"),url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Profile link copied to clipboard!"));break;case"Report Brand":alert("Report feature coming soon!");break;case"Block Brand":alert("Block feature coming soon!")}}},Z=e=>e&&"number"==typeof e?e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toString():"0";return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,l.jsxs)("div",{className:"relative h-40 w-full bg-gradient-to-r from-gray-800 to-gray-700",children:[L?(0,l.jsx)(q.default,{src:L,alt:"Banner",fill:!0,className:"object-cover",onError:e=>{e.target.style.display="none"}}):(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-800 to-gray-700"}),n&&(0,l.jsx)("button",{onClick:()=>window.location.href="/profile/edit",className:"absolute top-4 right-4 p-2 bg-black bg-opacity-50 rounded-full hover:bg-opacity-70 transition",children:(0,l.jsx)(u.A,{className:"w-5 h-5 text-white"})})]}),(0,l.jsx)("div",{className:"px-4 mt-4",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"relative w-24 h-24 rounded-full border-4 border-gray-900 overflow-hidden bg-gray-200",children:I?(0,l.jsx)(q.default,{src:I,alt:"Brand Logo",fill:!0,className:"object-cover",onError:e=>{e.target.style.display="none"}}):(0,l.jsx)("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-full h-full"})}),n&&(0,l.jsx)("button",{onClick:()=>window.location.href="/profile/edit",className:"absolute bottom-0 right-0 p-1.5 bg-blue-500 rounded-full border-2 border-gray-900 hover:bg-blue-600 transition",children:(0,l.jsx)(u.A,{className:"w-4 h-4 text-white"})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold",children:i.name||"Brand"}),i.verified&&(0,l.jsx)("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),i.verified&&(0,l.jsx)("p",{className:"text-blue-400 text-sm font-medium",children:"Verified"}),i.username&&(0,l.jsxs)("p",{className:"text-gray-400 text-sm",children:["@",i.username]}),(0,l.jsxs)("div",{className:"flex space-x-4 mt-1",children:[(0,l.jsxs)("p",{className:"text-gray-400 text-sm",children:[Z(T)," followers"]}),(0,l.jsxs)("p",{className:"text-gray-400 text-sm",children:[Z(U)," following"]})]})]})]}),(0,l.jsx)("div",{className:"flex space-x-3",children:n?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(m(),{href:"/profile/edit",className:"px-4 py-2 rounded-lg font-medium bg-gray-800 text-white flex items-center space-x-2",children:[(0,l.jsx)(V.A,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:"Edit Profile"})]}),(0,l.jsx)("button",{onClick:G,className:"p-2 bg-gray-800 rounded-full",children:(0,l.jsx)(g.A,{className:"w-5 h-5"})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:x,className:"px-4 py-2 rounded-lg font-medium ".concat(c?"bg-gray-700 text-gray-200":"bg-blue-600 text-white"),children:c?"Following":"Follow"}),(0,l.jsx)("button",{onClick:p,className:"p-2 bg-gray-800 rounded-full",children:(0,l.jsx)(v.A,{className:"w-5 h-5"})}),(0,l.jsx)("button",{onClick:h,className:"p-2 bg-gray-800 rounded-full",children:(0,l.jsx)(y.A,{className:"w-5 h-5"})}),(0,l.jsx)("button",{onClick:G,className:"p-2 bg-gray-800 rounded-full",children:(0,l.jsx)(g.A,{className:"w-5 h-5"})})]})})]})}),(0,l.jsx)("div",{className:"px-4 mt-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,l.jsxs)(m(),{href:"/shop/".concat(i.id),className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,l.jsx)(b.A,{className:"w-5 h-5 text-blue-400 mb-1"}),(0,l.jsx)("span",{className:"text-xs text-center",children:"Shop"})]}),(0,l.jsxs)(m(),{href:"/shop/".concat(i.id),className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,l.jsx)(O.A,{className:"w-5 h-5 text-green-400 mb-1"}),(0,l.jsx)("span",{className:"text-xs text-center",children:"Products"})]}),(0,l.jsxs)(m(),{href:"/shop/".concat(i.id),className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,l.jsx)(z.A,{className:"w-5 h-5 text-purple-400 mb-1"}),(0,l.jsx)("span",{className:"text-xs text-center",children:"Analytics"})]}),n?(0,l.jsxs)(m(),{href:"/brand/dashboard",className:"flex flex-col items-center justify-center p-3 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg hover:from-purple-700 hover:to-blue-700 transition",children:[(0,l.jsx)(_.A,{className:"w-5 h-5 text-white mb-1"}),(0,l.jsx)("span",{className:"text-xs text-center text-white font-medium",children:"Dashboard"})]}):(0,l.jsxs)(m(),{href:"/shop/".concat(i.id),className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,l.jsx)(Y.A,{className:"w-5 h-5 text-yellow-400 mb-1"}),(0,l.jsx)("span",{className:"text-xs text-center",children:"Followers"})]})]})}),(i.phone||i.email||i.location||i.website||i.socialLinks)&&(0,l.jsxs)("div",{className:"px-4 mt-6",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Contact Information"}),(0,l.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 space-y-3",children:[i.phone&&(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(f.A,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,l.jsx)("span",{className:"text-gray-300",children:i.phone})]}),i.email&&(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(K.A,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,l.jsx)("span",{className:"text-gray-300",children:i.email})]}),i.location&&(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)($.A,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,l.jsx)("span",{className:"text-gray-300",children:i.location})]}),i.website&&(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(H.A,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,l.jsx)("span",{className:"text-blue-400",children:i.website})]}),i.socialLinks&&(0,l.jsxs)("div",{className:"flex space-x-4 pt-2",children:[i.socialLinks.instagram&&(0,l.jsx)("a",{href:i.socialLinks.instagram,target:"_blank",rel:"noopener noreferrer",children:(0,l.jsx)(Q.A,{className:"w-5 h-5 text-pink-500"})}),i.socialLinks.facebook&&(0,l.jsx)("a",{href:i.socialLinks.facebook,target:"_blank",rel:"noopener noreferrer",children:(0,l.jsx)(X.A,{className:"w-5 h-5 text-blue-600"})}),i.socialLinks.twitter&&(0,l.jsx)("a",{href:i.socialLinks.twitter,target:"_blank",rel:"noopener noreferrer",children:(0,l.jsx)(J.A,{className:"w-5 h-5 text-blue-400"})})]})]})]}),(0,l.jsxs)("div",{className:"px-4 mt-6",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Based on Reviews"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-3xl font-bold",children:B.averageRating.toFixed(1)||0}),(0,l.jsx)("div",{className:"flex",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,l.jsx)(j.A,{className:"w-5 h-5 ".concat(s<Math.round(B.averageRating||0)?"text-yellow-400 fill-current":"text-gray-600")},s))})]}),(0,l.jsxs)("p",{className:"text-gray-400 text-sm mt-1",children:[(null==(a=B.totalReviews)?void 0:a.toLocaleString())||0," customer reviews"]})]}),(0,l.jsxs)("div",{className:"px-4 mt-6",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Business Stats"}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"bg-gray-800 p-3 rounded-lg text-center",children:[(0,l.jsx)("div",{className:"text-xl font-bold text-white",children:M}),(0,l.jsx)("div",{className:"text-sm text-gray-400",children:"Products"})]}),(0,l.jsxs)("div",{className:"bg-gray-800 p-3 rounded-lg text-center",children:[(0,l.jsx)("div",{className:"text-xl font-bold text-white",children:B.totalReviews}),(0,l.jsx)("div",{className:"text-sm text-gray-400",children:"Reviews"})]}),(0,l.jsxs)("div",{className:"bg-gray-800 p-3 rounded-lg text-center",children:[(0,l.jsx)("div",{className:"text-xl font-bold text-white",children:B.averageRating.toFixed(1)}),(0,l.jsx)("div",{className:"text-sm text-gray-400",children:"Rating"})]})]})]}),(0,l.jsxs)("div",{className:"px-4 mt-8",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Most Loved Products"}),k?(0,l.jsx)("p",{className:"text-gray-400",children:"Loading products..."}):A.length>0?(0,l.jsx)("div",{className:"grid grid-cols-2 gap-4",children:A.slice(0,4).map(e=>(0,l.jsxs)("div",{className:"bg-gray-800 p-3 rounded-lg flex flex-col items-center",children:[(0,l.jsx)("div",{className:"relative w-24 h-24 rounded-lg overflow-hidden bg-gray-700",children:(0,l.jsx)(q.default,{src:e.images[0]||"/product-placeholder.jpg",alt:e.title,fill:!0,className:"object-cover",onError:e=>{e.target.src="/product-placeholder.jpg"}})}),(0,l.jsx)("p",{className:"mt-2 text-sm font-medium truncate w-full text-center",children:e.title}),(0,l.jsxs)("p",{className:"text-xs text-gray-400",children:["$",e.price]})]},e.id))}):(0,l.jsx)("p",{className:"text-gray-400",children:"No products available"})]}),(0,l.jsxs)("div",{className:"px-4 mt-8",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Customer Reviews"}),P?(0,l.jsx)("p",{className:"text-gray-400",children:"Loading reviews..."}):C.length>0?(0,l.jsx)("div",{className:"space-y-4",children:C.slice(0,3).map(e=>(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center mb-2",children:[(0,l.jsx)("div",{className:"relative w-8 h-8 rounded-full overflow-hidden mr-2 bg-gray-700",children:(0,l.jsx)(q.default,{src:e.userPhoto||"/default-avatar.png",alt:e.userName,fill:!0,className:"object-cover",onError:e=>{e.target.src="/default-avatar.png"}})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm font-medium",children:e.userName}),(0,l.jsx)("div",{className:"flex",children:[void 0,void 0,void 0,void 0,void 0].map((s,t)=>(0,l.jsx)(j.A,{className:"w-4 h-4 ".concat(t<e.rating?"text-yellow-400 fill-current":"text-gray-600")},t))})]})]}),(0,l.jsx)("p",{className:"text-sm",children:e.comment}),(0,l.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:e.createdAt instanceof Date?e.createdAt.toLocaleDateString():new Date(e.createdAt).toLocaleDateString()})]},e.id))}):(0,l.jsx)("p",{className:"text-gray-400",children:"No reviews available"})]}),(0,l.jsx)("div",{className:"mt-8",children:(0,l.jsx)(W,{profile:i,isOwnProfile:n,isLoggedIn:w})}),(0,l.jsxs)("div",{className:"px-4 mt-8 mb-12",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"About"}),(0,l.jsx)("p",{className:"text-gray-300",children:i.bio||"Brand description"})]})]})}var ee=t(66932),es=t(23227);function et(e){var s,t;let{profile:r,isOwnProfile:a,isFollowing:i,onFollow:n,onShare:c,onMessage:x,onBack:h,isLoggedIn:u=!0}=e,{products:p,loading:N}=(0,o.a)(),{reviews:w,loading:A}=(0,d.x)(),k=p.slice(0,3),S=w.slice(0,2);return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,l.jsx)("div",{className:"flex items-center justify-end p-4 border-b border-gray-700",children:(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[!a&&(0,l.jsx)("button",{onClick:x,className:"p-2",children:(0,l.jsx)(v.A,{className:"w-6 h-6 text-white"})}),(0,l.jsx)("button",{onClick:c,className:"p-2",children:(0,l.jsx)(y.A,{className:"w-6 h-6 text-white"})}),(0,l.jsx)("button",{className:"p-2",children:(0,l.jsx)(g.A,{className:"w-6 h-6 text-white"})})]})}),(0,l.jsxs)("div",{className:"px-4 py-6",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)(M.A,{user:r,size:64,className:"rounded-full object-cover"})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,l.jsx)("h1",{className:"text-xl font-bold text-white",children:r.name||"Company Name"}),r.verified&&(0,l.jsx)("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),r.username&&(0,l.jsxs)("p",{className:"text-gray-400 text-sm",children:["@",r.username]}),(0,l.jsx)("p",{className:"text-gray-400 text-sm",children:"Verified Company"})]})]}),!a&&(0,l.jsx)("button",{onClick:n,className:"px-6 py-2 rounded-lg font-medium ".concat(i?"bg-gray-700 text-gray-200":"bg-gray-800 text-white"),children:i?"Following":"Follow"})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,l.jsx)("span",{className:"text-2xl font-bold text-white",children:r.rating||4.8}),(0,l.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,l.jsx)(j.A,{className:"w-5 h-5 text-yellow-400 fill-current"},s))})]}),(0,l.jsxs)("p",{className:"text-gray-400 text-sm",children:[(r.reviews||23).toLocaleString()," reviews"]})]}),(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsx)("p",{className:"text-gray-300 text-sm",children:r.bio||"Cozy and sustainable clothing"})}),(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsxs)("p",{className:"text-gray-400 text-sm",children:[(r.followers||1e3).toLocaleString(),"k followers"]})}),(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h2",{className:"text-lg font-bold text-white mb-4",children:"Most Loved Products"}),(0,l.jsx)("div",{className:"flex space-x-4 overflow-x-auto",children:k.map(e=>(0,l.jsxs)("div",{className:"flex-shrink-0 w-32",children:[(0,l.jsx)("div",{className:"relative bg-gray-800 rounded-lg p-2 mb-2",children:(0,l.jsx)("img",{src:e.images[0]||"/placeholder.jpg",alt:e.title,width:"120",height:"120",className:"w-full h-24 object-cover rounded",referrerPolicy:"no-referrer"})}),(0,l.jsx)("h3",{className:"font-semibold text-sm mb-1 text-white",children:e.title}),(0,l.jsxs)("p",{className:"text-purple-400 font-bold",children:["$",e.price]}),e.brand&&(0,l.jsx)("p",{className:"text-gray-400 text-xs",children:e.brand})]},e.id))})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h2",{className:"text-lg font-bold text-white",children:"Customer Reviews"}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("button",{className:"text-sm text-gray-400 flex items-center space-x-1",children:[(0,l.jsx)(ee.A,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:"Filters"})]}),(0,l.jsx)("button",{className:"text-sm text-gray-400",children:"Most Helpful"})]})]}),(0,l.jsx)("div",{className:"space-y-4",children:S.map(e=>(0,l.jsx)("div",{className:"border-b border-gray-700 pb-4",children:(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,l.jsx)(M.A,{user:{photoURL:e.userPhoto,name:e.userName},size:40,className:"rounded-full object-cover"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,l.jsx)("span",{className:"font-medium text-sm text-white",children:e.userName}),e.verified&&(0,l.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-2 h-2 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),(0,l.jsx)("div",{className:"flex items-center mb-2",children:[void 0,void 0,void 0,void 0,void 0].map((s,t)=>(0,l.jsx)(j.A,{className:"w-4 h-4 ".concat(t<e.rating?"text-yellow-400 fill-current":"text-gray-300")},t))}),(0,l.jsx)("p",{className:"text-gray-300 text-sm",children:e.comment})]}),(0,l.jsx)("button",{className:"p-1",children:(0,l.jsx)(g.A,{className:"w-4 h-4 text-gray-400"})})]})},e.id))}),(0,l.jsx)("div",{className:"mt-6 text-center",children:(0,l.jsx)("button",{className:"text-purple-400 hover:text-purple-300 font-medium text-sm",children:"View All Reviews →"})})]}),(0,l.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-700",children:(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-lg font-bold text-white",children:(null==p?void 0:p.length)||0}),(0,l.jsx)("div",{className:"text-sm text-gray-400",children:"Products"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-lg font-bold text-white",children:Array.isArray(r.followers)?r.followers.length.toLocaleString():"0"}),(0,l.jsx)("div",{className:"text-sm text-gray-400",children:"Followers"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-lg font-bold text-white",children:(null==(s=r.totalSales)?void 0:s.toLocaleString())||"0"}),(0,l.jsx)("div",{className:"text-sm text-gray-400",children:"Sales"})]})]})}),a&&(0,l.jsx)("div",{className:"px-4 mt-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,l.jsxs)(m(),{href:"/shop/".concat(r.id),className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,l.jsx)(b.A,{className:"w-5 h-5 text-blue-400 mb-1"}),(0,l.jsx)("span",{className:"text-xs text-center text-white",children:"Shop"})]}),(0,l.jsxs)(m(),{href:"/product/upload",className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,l.jsx)(O.A,{className:"w-5 h-5 text-green-400 mb-1"}),(0,l.jsx)("span",{className:"text-xs text-center text-white",children:"Add Product"})]}),(0,l.jsxs)(m(),{href:"/shop/".concat(r.id),className:"flex flex-col items-center justify-center p-3 bg-gray-800 rounded-lg hover:bg-gray-700 transition",children:[(0,l.jsx)(z.A,{className:"w-5 h-5 text-purple-400 mb-1"}),(0,l.jsx)("span",{className:"text-xs text-center text-white",children:"Analytics"})]}),(0,l.jsxs)(m(),{href:"/brand/dashboard",className:"flex flex-col items-center justify-center p-3 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg hover:from-purple-700 hover:to-blue-700 transition",children:[(0,l.jsx)(_.A,{className:"w-5 h-5 text-white mb-1"}),(0,l.jsx)("span",{className:"text-xs text-center text-white font-medium",children:"Dashboard"})]})]})}),(0,l.jsxs)("div",{className:"mt-6 bg-gray-800 rounded-lg p-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-white mb-3",children:"Company Information"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(null==(t=r.businessInfo)?void 0:t.businessName)&&(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(es.A,{className:"w-4 h-4 text-gray-400"}),(0,l.jsx)("span",{className:"text-gray-300",children:r.businessInfo.businessName})]}),r.website&&(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(H.A,{className:"w-4 h-4 text-gray-400"}),(0,l.jsx)("span",{className:"text-gray-300",children:r.website})]}),r.phone&&(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(f.A,{className:"w-4 h-4 text-gray-400"}),(0,l.jsx)("span",{className:"text-gray-300",children:r.phone})]}),r.location&&(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)($.A,{className:"w-4 h-4 text-gray-400"}),(0,l.jsx)("span",{className:"text-gray-300",children:r.location})]})]})]})]})]})}var el=t(5937),er=t(48136),ea=t(75525),ei=t(61106),en=t(71007);function ec(e){let{profile:s,isLoggedIn:t}=e,r=(e=>{switch(e){case"brand":return{icon:el.A,title:"Brand Account",description:"Official brand presence with verified products and services",color:"bg-purple-100 text-purple-800 border-purple-200",iconColor:"text-purple-600"};case"company":return{icon:er.A,title:"Company Account",description:"Business entity offering professional services and products",color:"bg-blue-100 text-blue-800 border-blue-200",iconColor:"text-blue-600"};case"seller":case"personal_seller":return{icon:ea.A,title:"Verified Seller",description:"Trusted seller with quality products and customer service",color:"bg-green-100 text-green-800 border-green-200",iconColor:"text-green-600"};case"admin":return{icon:ei.A,title:"Platform Administrator",description:"Official platform team member",color:"bg-red-100 text-red-800 border-red-200",iconColor:"text-red-600"};default:return{icon:en.A,title:"Personal Account",description:"Individual user sharing experiences and connecting with others",color:"bg-gray-100 text-gray-800 border-gray-200",iconColor:"text-gray-600"}}})(s.role),a=r.icon;return t&&s.id?null:(0,l.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-b border-gray-200",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ".concat(r.color),children:[(0,l.jsx)(a,{className:"w-4 h-4 mr-2 ".concat(r.iconColor)}),r.title]}),(0,l.jsxs)("div",{className:"hidden sm:flex items-center text-sm text-gray-600",children:[(0,l.jsx)(H.A,{className:"w-4 h-4 mr-1"}),(0,l.jsx)("span",{children:"Public Profile"})]}),(0,l.jsxs)("div",{className:"hidden md:flex items-center space-x-4 text-sm text-gray-600",children:[s.followers&&(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(j.A,{className:"w-4 h-4 mr-1"}),(0,l.jsxs)("span",{children:["number"==typeof s.followers?s.followers:"0"," followers"]})]}),s.location&&(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)($.A,{className:"w-4 h-4 mr-1"}),(0,l.jsx)("span",{children:s.location})]}),s.createdAt&&(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(E.A,{className:"w-4 h-4 mr-1"}),(0,l.jsxs)("span",{children:["Joined ",new Date(s.createdAt).getFullYear()]})]})]})]}),!t&&(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600 hidden sm:block",children:"Want to follow or message?"}),(0,l.jsx)("button",{onClick:()=>window.location.href="/login",className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Sign In"})]})]}),(0,l.jsx)("div",{className:"mt-3 sm:hidden",children:(0,l.jsx)("p",{className:"text-sm text-gray-600",children:r.description})})]})})}function eo(e){let{uid:s}=e,t=(0,a.useSearchParams)().get("uid"),x=s||t,{user:m}=(0,n.useAuthStore)(),{profile:h,loading:u,error:g,fetchProfile:f,subscribeToProfile:p,followUser:j,unfollowUser:b}=(0,c.n)(),{products:N,loading:v}=(0,o.a)(),{reviews:y,loading:w}=(0,d.x)(),[A,k]=(0,r.useState)(!1),[S,C]=(0,r.useState)(null),P=(0,r.useRef)(null),R=(null==m?void 0:m.uid)===x;null==m||m.role,(0,r.useEffect)(()=>{if(!x||"string"!=typeof x||""===x.trim()){console.log("❌ No valid UID provided:",x),c.n.setState({loading:!1,error:"Invalid user ID"});return}if(S===x||P.current===x)return void console.log("⏭️ CLIENT BLOCK: Already fetched/fetching for:",x);let e=c.n.getState().profile;if(e&&e.id===x){console.log("\uD83D\uDCBE CLIENT CACHE HIT: Profile already loaded for:",x),C(x);return}console.log("\uD83D\uDD04 New profile requested - clearing previous profile");let{clearProfile:s}=c.n.getState();s(),c.n.setState({loading:!0,error:null}),console.log("\uD83D\uDD0D Fetching profile for UID:",x),C(x),P.current=x,f(x).catch(e=>{console.error("❌ Error fetching profile:",e),c.n.setState({loading:!1,error:"Failed to load profile. Please try again."})}).finally(()=>{})},[x]),(0,r.useEffect)(()=>{m&&h&&k((Array.isArray(h.followers)?h.followers:[]).includes(m.uid))},[null==m?void 0:m.uid,null==h?void 0:h.id,null==h?void 0:h.followers]);let L=async()=>{if(m&&h&&x)try{A?(await b(m.uid,x),k(!1),i.oR.success("Unfollowed ".concat(h.name||h.email))):(await j(m.uid,x),k(!0),i.oR.success("Following ".concat(h.name||h.email)))}catch(e){console.error("Error following/unfollowing user:",e),i.oR.error("Failed to update follow status")}},F=()=>{i.oR.info("Share functionality not implemented yet")},I=()=>{i.oR.info("Message functionality not implemented yet")},D=()=>{window.history.back()};return x?g?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Profile Not Found"}),(0,l.jsx)("p",{className:"text-gray-600 mb-6",children:g||"This profile could not be loaded. It may not exist or be private."}),(0,l.jsx)("button",{onClick:()=>{C(null),P.current=null,x&&f(x)},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})}):u||!h?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Loading profile..."})]})}):(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[h&&(0,l.jsx)(ec,{profile:h,isLoggedIn:!!m}),(()=>{if(!h)return null;switch(h.role){case"seller":case"personal_seller":return(0,l.jsx)(G,{profile:h,isOwnProfile:R,isFollowing:A,onFollow:L,onShare:F,onMessage:I,onBack:D,isLoggedIn:!!m});case"brand":return(0,l.jsx)(Z,{profile:h,isOwnProfile:R,isFollowing:A,onFollow:L,onShare:F,onMessage:I,onBack:D,isLoggedIn:!!m});case"company":return(0,l.jsx)(et,{profile:h,isOwnProfile:R,isFollowing:A,onFollow:L,onShare:F,onMessage:I,onBack:D,isLoggedIn:!!m});default:return(0,l.jsx)(U,{profile:h,isOwnProfile:R,isFollowing:A,onFollow:L,onShare:F,onMessage:I,onBack:D,isLoggedIn:!!m})}})()]}):(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Profile Not Found"}),(0,l.jsx)("p",{className:"text-gray-600 mb-6",children:"No user ID provided in the URL."})]})})}},24601:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var l=t(95155),r=t(12115),a=t(35695),i=t(38564),n=t(86151),c=t(28203),o=t(22740);function d(e){let{profile:s,isOwnProfile:t,isLoggedIn:d}=e,x=(0,a.useRouter)(),m=s&&["brand","company","personal"].includes(s.role);if(!m)return null;let[h,u]=(0,r.useState)("products"),{products:g,loading:f,fetchUserProductsRealtime:p}=(0,c.a)(),{reviews:j,loading:b,fetchUserReviewsRealtime:N}=(0,o.x)(),[v,y]=(0,r.useState)([]);(0,r.useEffect)(()=>{if(null==s?void 0:s.id){let e=p(s.id),t=N(s.id);return()=>{e(),t()}}},[null==s?void 0:s.id]);let w=e=>e&&"number"==typeof e?e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toString():"0",A=[...m?[{id:"reels",label:"Reels"}]:[],{id:"products",label:"Products"},{id:"reviews",label:"Reviews"},{id:"about",label:"About"}];return(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,l.jsx)("nav",{className:"flex space-x-8",children:A.map(e=>(0,l.jsx)("button",{onClick:()=>u(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors ".concat(h===e.id?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"),children:e.label},e.id))})}),(0,l.jsx)("div",{className:"min-h-[300px]",children:(()=>{if(!s)return null;let e=["brand","company","personal"].includes(s.role);switch(h){case"reels":if(!e)return null;return(0,l.jsx)("div",{className:"flex flex-col items-center justify-center h-64 w-full",children:0===v.length?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,l.jsx)("p",{className:"text-gray-500",children:"No Reels Yet"}),e&&t&&(0,l.jsx)("button",{onClick:()=>x.push("/upload/reel"),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Create Reel"})]}):(0,l.jsx)("div",{className:"grid grid-cols-3 gap-1 w-full",children:v.map(e=>(0,l.jsx)("div",{className:"aspect-[9/16] bg-gray-200 rounded-lg"},e.id))})});case"products":return(0,l.jsx)("div",{className:"w-full",children:f?(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[...Array(6)].map((e,s)=>(0,l.jsx)("div",{className:"aspect-square bg-gray-200 animate-pulse rounded-lg"},s))}):g.length>0?(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:g.map(e=>{var s;return(0,l.jsxs)("div",{className:"cursor-pointer group",onClick:()=>x.push("/product/".concat(e.id)),children:[(0,l.jsx)("div",{className:"aspect-square bg-gray-200 rounded-lg overflow-hidden mb-2",children:(0,l.jsx)("img",{src:(null==(s=e.images)?void 0:s[0])||"/placeholder.png",alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})}),(0,l.jsx)("h3",{className:"text-sm font-medium truncate",children:e.title}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["$",e.price]}),e.rating&&(0,l.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,l.jsx)(i.A,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),(0,l.jsx)("span",{children:e.rating.toFixed(1)})]})]},e.id)})}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-64",children:[(0,l.jsx)(n.A,{className:"w-12 h-12 text-gray-400 mb-2"}),(0,l.jsx)("p",{className:"text-gray-500",children:"No products yet"}),t&&e&&(0,l.jsx)("button",{onClick:()=>x.push("/product/upload"),className:"mt-4 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Add Product"})]})});case"reviews":return(0,l.jsx)("div",{className:"w-full",children:b?(0,l.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,s)=>(0,l.jsx)("div",{className:"bg-gray-200 animate-pulse h-24 rounded-lg"},s))}):j.length>0?(0,l.jsx)("div",{className:"space-y-4",children:j.map(e=>(0,l.jsxs)("div",{className:"border-b pb-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)("div",{className:"flex",children:[void 0,void 0,void 0,void 0,void 0].map((s,t)=>(0,l.jsx)(i.A,{className:"w-4 h-4 ".concat(t<e.rating?"fill-yellow-400 text-yellow-400":"text-gray-300")},t))}),(0,l.jsx)("span",{className:"text-sm font-medium",children:e.userName})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:e.comment})]},e.id))}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-64",children:[(0,l.jsx)(i.A,{className:"w-12 h-12 text-gray-400 mb-2"}),(0,l.jsx)("p",{className:"text-gray-500",children:"No reviews yet"})]})});case"about":return(0,l.jsxs)("div",{className:"w-full space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"Bio"}),(0,l.jsx)("p",{className:"text-gray-600",children:s.bio||"No bio available"})]}),s.location&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"Location"}),(0,l.jsx)("p",{className:"text-gray-600",children:s.location})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"Stats"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-2xl font-bold",children:w(Array.isArray(s.followers)?s.followers.length:s.followers)}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Followers"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-2xl font-bold",children:w(Array.isArray(s.following)?s.following.length:s.following)}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Following"})]})]})]})]});default:return null}})()})]})}},76766:(e,s,t)=>{t.d(s,{A:()=>a});var l=t(95155),r=t(12115);function a(e){let{user:s,size:t=128,className:a=""}=e,[i,n]=(0,r.useState)(!1),[c,o]=(0,r.useState)(!0),[d,x]=(0,r.useState)("");(0,r.useEffect)(()=>{n(!1),o(!0);let e=(null==s?void 0:s.customPhotoURL)||(null==s?void 0:s.photoURL)||(null==s?void 0:s.profilePic)||(null==s?void 0:s.avatar)||"";if(!e){x("https://api.dicebear.com/7.x/avataaars/svg?seed=Default"),o(!1);return}e.includes("firebasestorage.googleapis.com")||e.includes("firebasestorage.app")||e.includes("googleusercontent.com"),x(e),o(!1)},[s]);let m=i?"https://api.dicebear.com/7.x/avataaars/svg?seed=Default":d||"https://api.dicebear.com/7.x/avataaars/svg?seed=Default";return(0,l.jsxs)("div",{className:"relative",style:{width:t,height:t},children:[(0,l.jsx)("img",{src:m,alt:(null==s?void 0:s.name)||"Profile",width:t,height:t,onLoad:()=>{console.log("Profile image loaded successfully:",m),o(!1)},onError:e=>{console.log("Profile image failed to load:",{src:e.target.src,user:(null==s?void 0:s.name)||"Unknown user"}),n(!0),o(!1)},referrerPolicy:"no-referrer",className:"".concat(a," ").concat(c?"opacity-0":"opacity-100"," absolute inset-0 w-full h-full object-cover")}),c&&(0,l.jsx)("div",{className:"absolute inset-0 bg-gray-200 rounded-full",style:{width:t,height:t}})]})}}}]);