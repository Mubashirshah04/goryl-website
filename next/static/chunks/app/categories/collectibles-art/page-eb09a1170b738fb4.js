(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4823],{33681:(e,r,t)=>{"use strict";t.d(r,{q:()=>h});var i=t(88693),s=t(35317),o=t(25610);let a=()=>new Promise(e=>{let r=o.j2.onAuthStateChanged(t=>{r(),e(t)});setTimeout(()=>{r(),e(null)},5e3)}),l=()=>{var e;return(null==(e=o.j2.currentUser)?void 0:e.uid)||null},n=async(e,r)=>{try{if(!e)throw Error("User ID is required");if(!o.j2.currentUser||l()!==e){let r=await a();if(!r||r.uid!==e)throw Error("Permission denied. Please make sure you are logged in.")}console.log("Adding product to wishlist for user:",e);let t=(0,s.doc)(o.db,"wishlists",e),i=await (0,s.x7)(t),n={items:[],updatedAt:(0,s.serverTimestamp)()};i.exists()&&(n=i.data());let c=n.items.findIndex(e=>e.productId===r.id);if(-1!==c)throw Error("Product already in wishlist");let d={id:r.id,userId:e,productId:r.id,product:r,addedAt:new Date};n.items.push(d),await (0,s.mZ)(t,{items:n.items,updatedAt:(0,s.serverTimestamp)()}),console.log("Successfully added product to wishlist for user:",e)}catch(e){if(console.error("Error adding to wishlist:",e),e.code){if("permission-denied"===e.code)throw Error("Permission denied. Please make sure you are logged in.");throw e}throw Error(e.message||"Failed to add item to wishlist")}},c=async(e,r)=>{try{if(!e)throw Error("User ID is required");if(!o.j2.currentUser||l()!==e){let r=await a();if(!r||r.uid!==e)throw Error("Permission denied. Please make sure you are logged in.")}console.log("Removing product from wishlist for user:",e,"product:",r);let t=(0,s.doc)(o.db,"wishlists",e),i=await (0,s.x7)(t);if(!i.exists())return void console.log("Wishlist document does not exist for user:",e);let n=i.data().items.filter(e=>e.productId!==r);await (0,s.mZ)(t,{items:n,updatedAt:(0,s.serverTimestamp)()}),console.log("Successfully removed product from wishlist for user:",e)}catch(e){if(console.error("Error removing from wishlist:",e),e.code){if("permission-denied"===e.code)throw Error("Permission denied. Please make sure you are logged in.");throw e}throw Error(e.message||"Failed to remove item from wishlist")}},d=async e=>{try{if(!e)throw Error("User ID is required");if(!o.j2.currentUser||l()!==e){let r=await a();if(!r||r.uid!==e)throw Error("Permission denied. Please make sure you are logged in.")}console.log("Attempting to fetch wishlist for user:",e);let r=(0,s.doc)(o.db,"wishlists",e),t=await (0,s.x7)(r);if(!t.exists())return console.log("Wishlist document does not exist for user:",e),[];let i=t.data();return console.log("Successfully fetched wishlist for user:",e),i.items||[]}catch(e){if(console.error("Error getting user wishlist:",e),e.code){if("permission-denied"===e.code)throw Error("Permission denied. Please make sure you are logged in.");throw e}throw Error(e.message||"Failed to load wishlist")}};var u=t(68084);let m=new Set,h=(0,i.vt)((e,r)=>({wishlist:[],loading:!1,error:null,setWishlist:r=>e({wishlist:r}),setLoading:r=>e({loading:r}),setError:r=>e({error:r}),initializeWishlist:async r=>{if(!r)return void e({error:"User not authenticated",loading:!1});if(!m.has(r)){m.add(r),console.log("Initializing wishlist for:",r),e({loading:!0,error:null});try{let t=await d(r);e({wishlist:t,loading:!1}),console.log("Wishlist initialized successfully for:",r);let i=((e,r)=>{if(!e)return console.error("User ID is required for wishlist subscription"),r([]),()=>{};if(!o.j2.currentUser||l()!==e)return console.error("Permission denied. User not authenticated for wishlist subscription"),r([]),()=>{};console.log("Subscribing to wishlist for user:",e);let t=(0,s.doc)(o.db,"wishlists",e);return(0,s.onSnapshot)(t,t=>{t.exists()?r(t.data().items||[]):(console.log("Wishlist document does not exist for user:",e),r([]))},e=>{console.error("Error subscribing to wishlist:",e),e.code&&console.error("Firebase error code:",e.code),r([])})})(r,r=>{e({wishlist:r})});window.wishlistUnsubscribe=i}catch(t){console.error("Error initializing wishlist:",t),m.delete(r),(null==t?void 0:t.code)==="permission-denied"||(null==t?void 0:t.message)&&t.message.includes("Permission denied")?e({error:"Permission denied. Please make sure you are logged in.",loading:!1,wishlist:[]}):e({error:t.message||"Failed to load wishlist",loading:!1})}}},addToWishlist:async r=>{let{user:t}=u.useAuthStore.getState();if(t){if(!t.uid)return void e({error:"User ID not available"});e({loading:!0,error:null});try{await n(t.uid,r),e({loading:!1,error:null})}catch(r){console.error("Error adding to wishlist:",r),(null==r?void 0:r.code)==="permission-denied"||(null==r?void 0:r.message)&&r.message.includes("Permission denied")?e({error:"Permission denied. Please make sure you are logged in.",loading:!1}):e({error:r.message||"Failed to add item to wishlist",loading:!1})}}},removeFromWishlist:async r=>{let{user:t}=u.useAuthStore.getState();if(!t)return void e({error:"Please login to remove items from wishlist"});if(!t.uid)return void e({error:"User ID not available"});e({loading:!0,error:null});try{await c(t.uid,r),e({loading:!1,error:null})}catch(r){console.error("Error removing from wishlist:",r),(null==r?void 0:r.code)==="permission-denied"||(null==r?void 0:r.message)&&r.message.includes("Permission denied")?e({error:"Permission denied. Please make sure you are logged in.",loading:!1}):e({error:r.message||"Failed to remove item from wishlist",loading:!1})}},isInWishlist:e=>{let{wishlist:t}=r();return t.some(r=>r.productId===e)},getWishlistCount:()=>{let{wishlist:e}=r();return e.length}}))},60463:(e,r,t)=>{Promise.resolve().then(t.bind(t,69045))},69045:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>W});var i=t(95155),s=t(12115),o=t(1978),a=t(33127),l=t(14186),n=t(9428),c=t(57100),d=t(18186),u=t(36618),m=t(30227),h=t(5040),g=t(91436),p=t(75525),x=t(38564),w=t(34869),f=t(73980),b=t(57340),v=t(35169),y=t(54653),j=t(15968),N=t(47924),A=t(51976),C=t(27809),k=t(92657),P=t(6874),S=t.n(P),E=t(68084),F=t(66935),M=t(33681),U=t(56671);let I=[{name:"Fine Art & Paintings",icon:a.A,count:450},{name:"Sculptures & Statues",icon:a.A,count:320},{name:"Antiques & Vintage",icon:l.A,count:280},{name:"Coins & Currency",icon:n.A,count:220},{name:"Stamps & Philately",icon:c.A,count:180},{name:"Sports Memorabilia",icon:d.A,count:150},{name:"Movie & TV Memorabilia",icon:u.A,count:95},{name:"Music Memorabilia",icon:m.A,count:120},{name:"Comic Books & Trading Cards",icon:h.A,count:160},{name:"Action Figures & Toys",icon:d.A,count:130},{name:"Jewelry & Watches",icon:g.A,count:75},{name:"Books & Manuscripts",icon:h.A,count:90},{name:"Military & War",icon:p.A,count:65},{name:"Religious & Spiritual",icon:x.A,count:140},{name:"Ethnic & Cultural",icon:w.A,count:80},{name:"Scientific & Medical",icon:f.A,count:110},{name:"Decorative Arts",icon:b.A,count:85},{name:"Folk Art & Crafts",icon:a.A,count:70}];function W(){let{user:e}=(0,E.useAuthStore)(),{addToCart:r}=(0,F.x)(),{addToWishlist:t,removeFromWishlist:l,wishlist:n}=(0,M.q)(),[c,d]=(0,s.useState)([]),[u,m]=(0,s.useState)(!0),[h,g]=(0,s.useState)("grid"),[p,w]=(0,s.useState)("newest"),[f,b]=(0,s.useState)("all"),[P,W]=(0,s.useState)(""),R=[{id:"1",title:"Vintage Oil Painting",description:"Beautiful vintage oil painting from the 1920s",price:899,originalPrice:1199,images:["https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=500"],rating:4.8,reviewCount:1250,seller:{name:"Art Gallery",rating:4.9,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=art"},isNew:!0,isFeatured:!0,discount:25,stock:8,category:"collectibles-art",subcategory:"fine-art-paintings"},{id:"2",title:"Rare Coin Collection",description:"Complete collection of rare coins from 1800s",price:1999,originalPrice:2499,images:["https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=500"],rating:4.9,reviewCount:890,seller:{name:"Coin Collectors",rating:4.8,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=coin"},isNew:!0,isFeatured:!0,discount:20,stock:3,category:"collectibles-art",subcategory:"coins-currency"},{id:"3",title:"Sports Memorabilia",description:"Signed baseball from famous player",price:299,originalPrice:399,images:["https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=500"],rating:4.7,reviewCount:2100,seller:{name:"Sports Collectibles",rating:4.9,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=sports"},isNew:!1,isFeatured:!0,discount:25,stock:12,category:"collectibles-art",subcategory:"sports-memorabilia"},{id:"4",title:"Vintage Comic Book",description:"First edition comic book from 1960s",price:499,originalPrice:649,images:["https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=500"],rating:4.8,reviewCount:3200,seller:{name:"Comic Central",rating:4.7,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=comic"},isNew:!1,isFeatured:!1,discount:23,stock:5,category:"collectibles-art",subcategory:"comic-books-trading-cards"},{id:"5",title:"Antique Sculpture",description:"Beautiful bronze sculpture from 1900s",price:799,originalPrice:999,images:["https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=500"],rating:4.6,reviewCount:1560,seller:{name:"Antique World",rating:4.8,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=antique"},isNew:!0,isFeatured:!0,discount:20,stock:2,category:"collectibles-art",subcategory:"sculptures-statues"},{id:"6",title:"Movie Poster Collection",description:"Original movie posters from classic films",price:149,originalPrice:199,images:["https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=500"],rating:4.9,reviewCount:890,seller:{name:"Movie Memorabilia",rating:4.9,avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=movie"},isNew:!1,isFeatured:!0,discount:25,stock:25,category:"collectibles-art",subcategory:"movie-tv-memorabilia"}];(0,s.useEffect)(()=>{setTimeout(()=>{d(R),m(!1)},1e3)},[]);let q=async t=>{if(!e)return void U.oR.error("Please login to add items to cart");try{await r(t,1),U.oR.success("Added to cart!")}catch(e){U.oR.error("Failed to add to cart")}},L=async r=>{if(!e)return void U.oR.error("Please login to add to wishlist");try{n.some(e=>e.id===r.id)?(await l(r.id),U.oR.success("Removed from wishlist")):(await t(r),U.oR.success("Added to wishlist"))}catch(e){U.oR.error("Failed to update wishlist")}},T=[...c.filter(e=>{let r=e.title.toLowerCase().includes(P.toLowerCase())||e.description.toLowerCase().includes(P.toLowerCase()),t="all"===f||e.subcategory===f;return r&&t})].sort((e,r)=>{switch(p){case"price_low":return e.price-r.price;case"price_high":return r.price-e.price;case"rating":return r.rating-e.rating;case"popularity":return r.reviewCount-e.reviewCount;default:return 0}});return(0,i.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[(0,i.jsx)("div",{className:"bg-white/5 backdrop-blur-xl border-b border-white/10 sticky top-0 z-10",children:(0,i.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsx)(S(),{href:"/categories",className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:(0,i.jsx)(v.A,{className:"w-6 h-6 text-white"})}),(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:(0,i.jsx)(a.A,{className:"w-6 h-6 text-white"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Collectibles & Art"}),(0,i.jsx)("p",{className:"text-purple-200",children:"Art, antiques & collectibles"})]})]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("button",{onClick:()=>g("grid"),className:"p-2 rounded-lg transition-colors ".concat("grid"===h?"bg-purple-600 text-white":"text-gray-400 hover:text-white"),children:(0,i.jsx)(y.A,{className:"w-5 h-5"})}),(0,i.jsx)("button",{onClick:()=>g("list"),className:"p-2 rounded-lg transition-colors ".concat("list"===h?"bg-purple-600 text-white":"text-gray-400 hover:text-white"),children:(0,i.jsx)(j.A,{className:"w-5 h-5"})})]})]})})}),(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,i.jsx)("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl p-6 mb-8",children:(0,i.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,i.jsxs)("div",{className:"flex-1 relative",children:[(0,i.jsx)(N.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,i.jsx)("input",{type:"text",placeholder:"Search collectibles & art...",value:P,onChange:e=>W(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsxs)("select",{value:f,onChange:e=>b(e.target.value),className:"px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,i.jsx)("option",{value:"all",children:"All Subcategories"}),I.map(e=>(0,i.jsx)("option",{value:e.name.toLowerCase().replace(/\s+/g,"").replace(/[&]/g,""),children:e.name},e.name))]}),(0,i.jsxs)("select",{value:p,onChange:e=>w(e.target.value),className:"px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,i.jsx)("option",{value:"newest",children:"Newest First"}),(0,i.jsx)("option",{value:"price_low",children:"Price: Low to High"}),(0,i.jsx)("option",{value:"price_high",children:"Price: High to Low"}),(0,i.jsx)("option",{value:"rating",children:"Highest Rated"}),(0,i.jsx)("option",{value:"popularity",children:"Most Popular"})]})]})]})}),(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Browse by Category"}),(0,i.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:I.map((e,r)=>(0,i.jsxs)(o.P.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},onClick:()=>b(e.name.toLowerCase().replace(/\s+/g,"").replace(/[&]/g,"")),className:"p-4 rounded-2xl transition-all duration-300 ".concat(f===e.name.toLowerCase().replace(/\s+/g,"").replace(/[&]/g,"")?"bg-gradient-to-br from-purple-500 to-pink-500 text-white shadow-lg":"bg-white/5 backdrop-blur-sm border border-white/10 text-gray-300 hover:bg-white/10"),children:[(0,i.jsx)(e.icon,{className:"w-8 h-8 mx-auto mb-2"}),(0,i.jsx)("p",{className:"text-sm font-medium text-center",children:e.name}),(0,i.jsxs)("p",{className:"text-xs text-center opacity-75",children:[e.count,"+"]})]},e.name))})]}),u?(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,r)=>(0,i.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-3xl p-6 animate-pulse",children:[(0,i.jsx)("div",{className:"w-full h-48 bg-gray-600 rounded-2xl mb-4"}),(0,i.jsx)("div",{className:"h-6 bg-gray-600 rounded mb-2"}),(0,i.jsx)("div",{className:"h-4 bg-gray-600 rounded mb-4"}),(0,i.jsx)("div",{className:"h-8 bg-gray-600 rounded"})]},r))}):(0,i.jsx)("div",{className:"grid gap-6 ".concat("grid"===h?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"),children:T.map((e,r)=>(0,i.jsx)(o.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1*r},className:"group cursor-pointer",children:(0,i.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-3xl p-6 h-full transition-all duration-500 group-hover:bg-white/10 group-hover:border-purple-400/30 group-hover:shadow-2xl group-hover:shadow-purple-500/20 group-hover:scale-105",children:[(0,i.jsxs)("div",{className:"relative mb-4",children:[(0,i.jsx)("div",{className:"w-full h-48 rounded-2xl overflow-hidden",children:(0,i.jsx)("img",{src:e.images[0],alt:e.title,width:400,height:300,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",referrerPolicy:"no-referrer"})}),e.isNew&&(0,i.jsx)("span",{className:"absolute top-3 left-3 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"New"}),e.isFeatured&&(0,i.jsx)("span",{className:"absolute top-3 right-3 bg-purple-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Featured"}),e.discount&&(0,i.jsxs)("span",{className:"absolute bottom-3 left-3 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:["-",e.discount,"%"]}),(0,i.jsx)("button",{onClick:()=>L(e),className:"absolute bottom-3 right-3 p-2 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition-colors",children:(0,i.jsx)(A.A,{className:"w-5 h-5 ".concat(n.some(r=>r.id===e.id)?"text-red-500 fill-current":"text-white")})})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-white mb-1 group-hover:text-purple-300 transition-colors",children:e.title}),(0,i.jsx)("p",{className:"text-gray-300 text-sm line-clamp-2",children:e.description})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((r,t)=>(0,i.jsx)(x.A,{className:"w-4 h-4 ".concat(t<Math.floor(e.rating)?"text-yellow-400 fill-current":"text-gray-400")},t))}),(0,i.jsxs)("span",{className:"text-gray-400 text-sm",children:["(",e.reviewCount,")"]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("span",{className:"text-xl font-bold text-white",children:["$",e.price]}),e.originalPrice&&(0,i.jsxs)("span",{className:"text-gray-400 line-through ml-2",children:["$",e.originalPrice]})]}),(0,i.jsxs)("span",{className:"text-gray-400 text-sm",children:[e.stock," in stock"]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("img",{src:e.seller.avatar,alt:e.seller.name,width:24,height:24,className:"rounded-full",referrerPolicy:"no-referrer"}),(0,i.jsx)("span",{className:"text-gray-300 text-sm",children:e.seller.name}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(x.A,{className:"w-3 h-3 text-yellow-400 fill-current"}),(0,i.jsx)("span",{className:"text-gray-400 text-xs ml-1",children:e.seller.rating})]})]}),(0,i.jsxs)("div",{className:"flex space-x-2 pt-2",children:[(0,i.jsxs)("button",{onClick:()=>q(e),className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white py-2 px-4 rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-300 flex items-center justify-center space-x-2",children:[(0,i.jsx)(C.A,{className:"w-4 h-4"}),(0,i.jsx)("span",{children:"Add to Cart"})]}),(0,i.jsx)(S(),{href:"/product/".concat(e.id),className:"px-4 py-2 border border-white/20 rounded-xl text-white hover:bg-white/10 transition-colors flex items-center justify-center",children:(0,i.jsx)(k.A,{className:"w-4 h-4"})})]})]})]})},e.id))}),!u&&0===T.length&&(0,i.jsxs)("div",{className:"text-center py-16",children:[(0,i.jsx)("div",{className:"w-40 h-40 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-full flex items-center justify-center mx-auto mb-8 backdrop-blur-xl border border-white/20",children:(0,i.jsx)(a.A,{className:"w-24 h-24 text-purple-300"})}),(0,i.jsx)("h2",{className:"text-3xl font-bold text-white mb-4 bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"No products found"}),(0,i.jsx)("p",{className:"text-purple-200 text-xl mb-8 leading-relaxed",children:"Try adjusting your search or filter criteria"}),(0,i.jsx)("button",{onClick:()=>{W(""),b("all")},className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-8 py-4 rounded-2xl hover:from-purple-600 hover:to-pink-600 transition-all duration-300 shadow-2xl font-bold text-lg",children:"Clear Filters"})]})]})]})}}},e=>{e.O(0,[2992,9507,1794,6899,6671,8599,7194,6874,5826,6935,8441,5964,7358],()=>e(e.s=60463)),_N_E=e.O()}]);