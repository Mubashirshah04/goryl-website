(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4076,5610],{6115:(e,t,r)=>{"use strict";var s=r(12115),a=r(49033),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=a.useSyncExternalStore,o=s.useRef,n=s.useEffect,c=s.useMemo,u=s.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;var p=l(e,(d=c(function(){function e(e){if(!n){if(n=!0,l=e,e=s(e),void 0!==a&&h.hasValue){var t=h.value;if(a(t,e))return o=t}return o=e}if(t=o,i(l,e))return t;var r=s(e);return void 0!==a&&a(t,r)?(l=e,t):(l=e,o=r)}var l,o,n=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,s,a]))[0],d[1]);return n(function(){h.hasValue=!0,h.value=p},[p]),u(p),p}},17580:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},22436:(e,t,r)=>{"use strict";var s=r(12115),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=s.useState,l=s.useEffect,o=s.useLayoutEffect,n=s.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),s=i({inst:{value:r,getSnapshot:t}}),a=s[0].inst,u=s[1];return o(function(){a.value=r,a.getSnapshot=t,c(a)&&u({inst:a})},[e,r,t]),l(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),n(r),r};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:u},25610:(e,t,r)=>{"use strict";r.d(t,{db:()=>h,j2:()=>d,storage:()=>p});var s=r(23915),a=r(16203),i=r(35317),l=r(90858),o=r(92144),n=r(81115),c=r(86864);let u=(0,s.Wp)({apiKey:"AIzaSyByhCgo_k9i8_AstSaZkZ3Atv5Rt2eOjhc",authDomain:"zaillisy.firebaseapp.com",databaseURL:"https://zaillisy-default-rtdb.firebaseio.com",projectId:"zaillisy",storageBucket:"zaillisy.firebasestorage.app",messagingSenderId:"984913226421",appId:"1:984913226421:web:c648bbccdd5055cf6cecfc",measurementId:"G-95WJ280TC9"}),d=(0,a.xI)(u),h=(0,i.aU)(u);(0,n.C3)(u);let p=(0,l.c7)(u);(0,o.Uz)(u);try{(0,c.TT)().then(e=>{e?((0,c.P5)(u),console.log("\uD83D\uDCCA Firebase Analytics enabled")):console.log("ℹ️ Firebase Analytics not supported in this environment")}).catch(()=>{console.warn("Analytics check failed; continuing without Analytics")})}catch(e){console.warn("Analytics initialization skipped:",e)}console.log("\uD83D\uDE80 Using production Firebase configuration for project:",u.options.projectId)},27213:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},29869:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},32919:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},34869:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},35695:(e,t,r)=>{"use strict";var s=r(18999);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},37940:(e,t,r)=>{Promise.resolve().then(r.bind(r,98238))},45643:(e,t,r)=>{"use strict";e.exports=r(6115)},47439:(e,t,r)=>{"use strict";r.d(t,{QM:()=>i,V6:()=>l,nJ:()=>o});var s=r(25610),a=r(90858);let i=async(e,t,r)=>{console.log("=== FIREBASE UPLOAD DEBUG START ==="),console.log("Starting file upload..."),console.log("File:",e.name,"Size:",e.size,"Type:",e.type),console.log("Upload path:",t),console.log("Firebase storage initialized:",!!s.storage),console.log("=========================");try{if(!s.storage)throw Error("Firebase storage not initialized");let i=(0,a.ref)(s.storage,t),l=(0,a.bp)(i,e);return new Promise((s,i)=>{l.on("state_changed",e=>{let t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done"),r&&r(t)},e=>{console.error("Firebase upload error:",e),i(e)},async()=>{try{let r=await (0,a.getDownloadURL)(l.snapshot.ref);console.log("File available at",r),s({url:r,path:t,name:e.name})}catch(e){console.error("Error getting download URL:",e),i(e)}})})}catch(r){return console.error("Error uploading file:",r),console.error("Full error details:",JSON.stringify(r,null,2)),{url:"https://via.placeholder.com/400x400/6366f1/ffffff?text=".concat(encodeURIComponent(e.name)),path:t,name:e.name}}},l=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"products",s=arguments.length>3?arguments[3]:void 0,a=Date.now(),l="".concat(a,"_").concat(e.name);return i(e,"".concat(r,"/").concat(t,"/").concat(l),s)},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0xa00000,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["image/jpeg","image/png","image/webp","video/mp4","video/mov"];return e.size>t?{valid:!1,error:"File size must be less than ".concat(Math.round(t/1024/1024),"MB")}:r.includes(e.type)?{valid:!0}:{valid:!1,error:"File type not allowed. Allowed types: ".concat(r.join(", "))}}},49033:(e,t,r)=>{"use strict";e.exports=r(22436)},53311:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},54416:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},68084:(e,t,r)=>{"use strict";r.d(t,{useAuthStore:()=>o});var s=r(88693),a=r(16203),i=r(25610),l=r(95997);let o=(0,s.vt)((e,t)=>({user:null,userData:null,loading:!0,unsubscribeUserListener:null,setUser:t=>e({user:t}),setUserData:t=>e({userData:t}),setLoading:t=>e({loading:t}),setUnsubscribeUserListener:t=>e({unsubscribeUserListener:t}),initialize:()=>(0,a.hg)(i.j2,async s=>{if(s)try{let a=await (0,l.gL)(s.uid),i=Object.assign(Object.assign({},s),{role:null==a?void 0:a.role});e({user:i,userData:a,loading:!1});let{doc:o,onSnapshot:n}=await Promise.resolve().then(r.bind(r,35317)),{db:c}=await Promise.resolve().then(r.bind(r,25610)),u=o(c,"users",s.uid),d=n(u,r=>{if(r.exists()){let s=r.data();e({userData:s,user:Object.assign(Object.assign({},t().user||{}),{role:s.role})})}});e({unsubscribeUserListener:d})}catch(t){console.error("Error fetching user data:",t),e({user:Object.assign(Object.assign({},s),{role:void 0}),userData:null,loading:!1})}else{let{unsubscribeUserListener:r}=t();r&&(r(),e({unsubscribeUserListener:null})),e({user:null,userData:null,loading:!1})}}),refreshUserData:async()=>{let{user:r}=t();if(r)try{let s=await (0,l.gL)(r.uid);e({userData:s,user:Object.assign(Object.assign({},t().user||{}),{role:null==s?void 0:s.role})}),setTimeout(async()=>{try{let s=await (0,l.gL)(r.uid);e({userData:s,user:Object.assign(Object.assign({},t().user||{}),{role:null==s?void 0:s.role})})}catch(e){console.warn("Error in delayed refresh:",e)}},500)}catch(e){console.error("Error refreshing user data:",e)}}}));setTimeout(()=>{o.getState().initialize()},0)},81875:(e,t,r)=>{"use strict";r.d(t,{F_:()=>n,RZ:()=>c,dU:()=>o,ko:()=>l,pt:()=>u});var s=r(35317),a=r(25610),i=r(47439);let l=async function(e,t,r,l){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"public";try{let n=l.type.startsWith("video/"),c=await (0,i.V6)(l,e,"stories"),u=new Date,d=new Date(u.getTime()+864e5),h={userId:e,userName:t,userPhoto:r,storyImage:n?"":c.url,storyImagePath:n?"":c.path,storyVideo:n?c.url:"",storyVideoPath:n?c.path:"",mediaType:n?"video":"image",privacy:o,createdAt:(0,s.serverTimestamp)(),expiresAt:s.Dc.fromDate(d),views:[],isActive:!0},p=await (0,s.addDoc)((0,s.collection)(a.db,"stories"),h);return console.log("Story created successfully:",p.id),p.id}catch(e){throw console.error("Error creating story:",e),e}},o=async()=>{try{let e=(0,s.query)((0,s.collection)(a.db,"stories"),(0,s.where)("isActive","==",!0),(0,s.My)("createdAt","desc"),(0,s.AB)(10)),t=await (0,s.getDocs)(e),r=new Date,i=t.docs.map(e=>Object.assign({id:e.id},e.data())).filter(e=>{let t=e.expiresAt.toDate(),s="public"===e.privacy;return t>r&&s});return console.log("Loaded stories:",i.length),i}catch(e){return console.error("Error getting all stories:",e),console.log("Firestore error details:",e),[]}},n=async(e,t)=>{try{let r=(0,s.doc)(a.db,"stories",e);await (0,s.mZ)(r,{views:(0,s.hq)(t)})}catch(e){throw console.error("Error marking story as viewed:",e),e}},c=async(e,t)=>{try{let r=(0,s.doc)(a.db,"stories",e),i=await (0,s.getDocs)((0,s.query)((0,s.collection)(a.db,"stories"),(0,s.where)("__name__","==",e)));if(!i.empty)if(i.docs[0].data().userId===t)await (0,s.kd)(r);else throw Error("Unauthorized to delete this story")}catch(e){throw console.error("Error deleting story:",e),e}},u=(e,t)=>{let r;return t&&t.length>0?(r=(0,s.query)((0,s.collection)(a.db,"stories"),(0,s.where)("userId","in",t.slice(0,10)),(0,s.where)("isActive","==",!0),(0,s.My)("createdAt","desc"),(0,s.AB)(10)),(0,s.onSnapshot)(r,t=>{e(t.docs.map(e=>Object.assign({id:e.id},e.data())))})):(r=(0,s.query)((0,s.collection)(a.db,"stories"),(0,s.where)("isActive","==",!0),(0,s.My)("createdAt","desc"),(0,s.AB)(10)),(0,s.onSnapshot)(r,t=>{let r=new Date;e(t.docs.map(e=>Object.assign({id:e.id},e.data())).filter(e=>{let t=e.expiresAt.toDate(),s="public"===e.privacy;return t>r&&s}))}))}},84355:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},88693:(e,t,r)=>{"use strict";r.d(t,{vt:()=>u});let s=e=>{let t,r=new Set,s=(e,s)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=s?s:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,i={setState:s,getState:a,getInitialState:()=>l,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},l=t=e(s,a,i);return i};var a=r(12115),i=r(45643);let{useDebugValue:l}=a,{useSyncExternalStoreWithSelector:o}=i,n=!1,c=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?(e=>e?s(e):s)(e):e,r=(e,r)=>(function(e,t=e=>e,r){r&&!n&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),n=!0);let s=o(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return l(s),s})(t,e,r);return Object.assign(r,t),r},u=e=>e?c(e):c},95997:(e,t,r)=>{"use strict";r.d(t,{G6:()=>o,HW:()=>d,Hh:()=>c,Jv:()=>n,eT:()=>g,gL:()=>h,qc:()=>y,xw:()=>u});var s=r(16203),a=r(35317),i=r(25610);let l=new s.HF;l.addScope("email"),l.addScope("profile");let o=async()=>{var e;try{let t=(await (0,s.df)(i.j2,l)).user;if(!(await (0,a.x7)((0,a.doc)(i.db,"users",t.uid))).exists()){let r={id:t.uid,email:t.email||"",name:t.displayName||"Anonymous",username:(null==(e=t.email)?void 0:e.split("@")[0])||"user",avatar:t.photoURL||"",role:"user",accountType:"user",isVerified:!1,isVerifiedSeller:!1,isActive:!0,createdAt:new Date,updatedAt:new Date,followersCount:0,followingCount:0,productsCount:0,rating:0,totalSales:0};await (0,a.BN)((0,a.doc)(i.db,"users",t.uid),r)}return t}catch(e){throw console.error("Google sign-in error:",e),e}},n=async(e,t)=>{try{return(await (0,s.x9)(i.j2,e,t)).user}catch(e){throw e}},c=async function(e,t,r){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"user";try{let o=(await (0,s.eJ)(i.j2,e,t)).user;await (0,s.r7)(o,{displayName:r});try{let t={id:o.uid,email:o.email||"",name:r,username:e.split("@")[0],avatar:o.photoURL||"",bio:"",role:l,accountType:l,isVerified:!1,isVerifiedSeller:!1,isActive:!0,createdAt:new Date,updatedAt:new Date,followersCount:0,followingCount:0,productsCount:0,rating:0,totalSales:0};await (0,a.BN)((0,a.doc)(i.db,"users",o.uid),t),console.log("✅ User profile created successfully")}catch(e){console.warn("Could not create user document in Firestore:",e)}return o}catch(e){throw console.error("Signup error:",e),e}},u=async e=>{try{await (0,s.J1)(i.j2,e)}catch(e){throw e}},d=()=>i.j2.currentUser,h=async e=>{try{let t=await (0,a.x7)((0,a.doc)(i.db,"users",e));if(t.exists())return t.data();return null}catch(e){return console.error("Error getting user data:",e),null}},p=async e=>{try{let t=await h(e);return(null==t?void 0:t.role)||"user"}catch(e){return console.error("Error checking user role:",e),"user"}},m=async e=>{try{let t=await h(e);return(null==t?void 0:t.accountType)||"user"}catch(e){return console.error("Error checking account type:",e),"user"}},y=async e=>"admin"===await p(e),g=async e=>["personal_seller","brand","company"].includes(await m(e))},98238:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(95155),a=r(12115),i=r(68084),l=r(81875),o=r(1978),n=r(84355),c=r(54416),u=r(34869),d=r(17580),h=r(32919),p=r(27213),m=r(29869),y=r(53311),g=r(56671),x=r(35695);function f(){let{user:e,loading:t}=(0,i.useAuthStore)(),r=(0,x.useRouter)(),[f,v]=(0,a.useState)(null),[b,w]=(0,a.useState)(null),[j,N]=(0,a.useState)(!1),[k,S]=(0,a.useState)("public"),[A,E]=(0,a.useState)(null),D=(0,a.useRef)(null);a.useEffect(()=>{console.log("Upload/Story page - user:",null==e?void 0:e.uid,"loading:",t),t||e||(console.log("No user found, redirecting to login"),r.push("/login"))},[e,t,r]);let P=async()=>{if(!f||!e)return void g.oR.error("Please select a file and make sure you are logged in");N(!0);try{await (0,l.ko)(e.uid,e.displayName||"Anonymous",e.photoURL||"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(e.email),f,k),g.oR.success("Story uploaded successfully!"),r.push("/")}catch(e){console.error("Error uploading story:",e),g.oR.error("Failed to upload story. Please try again.")}finally{N(!1)}};return t?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):e?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsxs)(o.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-center space-x-3 mb-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,s.jsx)(n.A,{className:"w-6 h-6 text-white"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Share Your Story"})]}),(0,s.jsx)("p",{className:"text-gray-600 text-lg",children:"Create a story that disappears in 24 hours"})]}),(0,s.jsx)(o.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"max-w-md mx-auto bg-white rounded-3xl shadow-2xl overflow-hidden",children:b?(0,s.jsxs)("div",{className:"relative",children:["video"===A?(0,s.jsx)("video",{src:b,controls:!0,className:"w-full h-96 object-cover"}):(0,s.jsx)("img",{src:b,alt:"Story preview",className:"w-full h-96 object-cover"}),(0,s.jsx)("button",{onClick:()=>{v(null),w(null),E(null),D.current&&(D.current.value="")},className:"absolute top-4 right-4 w-10 h-10 bg-black bg-opacity-50 rounded-full flex items-center justify-center text-white hover:bg-opacity-70 transition-colors",children:(0,s.jsx)(c.A,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{className:"p-4 bg-white/90 backdrop-blur-sm",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Privacy Settings"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"privacy",value:"public",checked:"public"===k,onChange:e=>S(e.target.value),className:"w-4 h-4 text-purple-600"}),(0,s.jsx)(u.A,{className:"w-4 h-4 text-gray-600"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"Public - Everyone can see"})]}),(0,s.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"privacy",value:"followers",checked:"followers"===k,onChange:e=>S(e.target.value),className:"w-4 h-4 text-purple-600"}),(0,s.jsx)(d.A,{className:"w-4 h-4 text-gray-600"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"Followers only"})]}),(0,s.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"privacy",value:"close_friends",checked:"close_friends"===k,onChange:e=>S(e.target.value),className:"w-4 h-4 text-purple-600"}),(0,s.jsx)(h.A,{className:"w-4 h-4 text-gray-600"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"Close friends only"})]})]})]}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)(o.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:P,disabled:j,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 px-8 rounded-2xl hover:from-purple-700 hover:to-pink-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-3 shadow-lg hover:shadow-xl",children:j?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("span",{className:"font-semibold",children:"Uploading..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"font-semibold text-lg",children:"Share Story"}),(0,s.jsx)(o.P.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:"✨"})]})})})]}):(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{onClick:()=>{var e;return null==(e=D.current)?void 0:e.click()},className:"border-2 border-dashed border-gray-300 rounded-2xl p-12 text-center cursor-pointer hover:border-purple-400 hover:bg-purple-50 transition-all duration-300 group",children:[(0,s.jsx)(o.P.div,{whileHover:{scale:1.1},className:"w-20 h-20 bg-gradient-to-r from-purple-100 to-pink-100 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:from-purple-200 group-hover:to-pink-200 transition-colors",children:(0,s.jsx)(p.A,{className:"w-10 h-10 text-purple-600"})}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Choose Your Story"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Select an image or video to share with your followers"}),(0,s.jsxs)(o.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-300 flex items-center space-x-2 mx-auto shadow-lg",children:[(0,s.jsx)(m.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"font-semibold",children:"Select Media"})]})]}),(0,s.jsx)("input",{ref:D,type:"file",accept:"image/*,video/*",onChange:e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];if(r){let e=r.type.startsWith("image/"),t=r.type.startsWith("video/");if(!e&&!t)return void g.oR.error("Please select an image or video file");if(r.size>(t?0x3200000:0xa00000))return void g.oR.error("File size must be less than ".concat(t?"50MB":"10MB"));v(r),E(e?"image":"video");let s=new FileReader;s.onload=e=>{var t;w(null==(t=e.target)?void 0:t.result)},s.readAsDataURL(r)}},className:"hidden"})]})}),(0,s.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"max-w-md mx-auto mt-8 bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,s.jsx)(y.A,{className:"w-6 h-6 text-purple-600"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Story Tips"})]}),(0,s.jsxs)("div",{className:"space-y-3 text-sm text-gray-600",children:[(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),(0,s.jsx)("p",{children:"Stories disappear after 24 hours"})]}),(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-pink-500 rounded-full mt-2 flex-shrink-0"}),(0,s.jsx)("p",{children:"Use high-quality images for best results"})]}),(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2 flex-shrink-0"}),(0,s.jsx)("p",{children:"Maximum file size: 10MB (images), 50MB (videos)"})]}),(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),(0,s.jsx)("p",{children:"Supported formats: JPG, PNG, GIF, MP4, MOV"})]})]})]}),(0,s.jsx)(o.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-center mt-8",children:(0,s.jsxs)("button",{onClick:()=>r.push("/"),className:"text-gray-600 hover:text-purple-600 transition-colors flex items-center space-x-2 mx-auto",children:[(0,s.jsx)(c.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Back to Home"})]})})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDD12"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Login Required"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Please login to upload stories"}),(0,s.jsx)("button",{onClick:()=>r.push("/login"),className:"bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors",children:"Go to Login"})]})})}}},e=>{e.O(0,[2992,9507,1794,6899,6671,8599,7194,8441,5964,7358],()=>e(e.s=37940)),_N_E=e.O()}]);