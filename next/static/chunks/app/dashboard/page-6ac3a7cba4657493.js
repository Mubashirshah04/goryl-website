(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5105,5610],{19048:(e,t,s)=>{Promise.resolve().then(s.bind(s,81958))},25610:(e,t,s)=>{"use strict";s.d(t,{db:()=>m,j2:()=>x,storage:()=>h});var a=s(23915),r=s(16203),l=s(35317),i=s(90858),d=s(92144),c=s(81115),n=s(86864);let o=(0,a.Wp)({apiKey:"AIzaSyByhCgo_k9i8_AstSaZkZ3Atv5Rt2eOjhc",authDomain:"zaillisy.firebaseapp.com",databaseURL:"https://zaillisy-default-rtdb.firebaseio.com",projectId:"zaillisy",storageBucket:"zaillisy.firebasestorage.app",messagingSenderId:"984913226421",appId:"1:984913226421:web:c648bbccdd5055cf6cecfc",measurementId:"G-95WJ280TC9"}),x=(0,r.xI)(o),m=(0,l.aU)(o);(0,c.C3)(o);let h=(0,i.c7)(o);(0,d.Uz)(o);try{(0,n.TT)().then(e=>{e?((0,n.P5)(o),console.log("\uD83D\uDCCA Firebase Analytics enabled")):console.log("ℹ️ Firebase Analytics not supported in this environment")}).catch(()=>{console.warn("Analytics check failed; continuing without Analytics")})}catch(e){console.warn("Analytics initialization skipped:",e)}console.log("\uD83D\uDE80 Using production Firebase configuration for project:",o.options.projectId)},68084:(e,t,s)=>{"use strict";s.d(t,{useAuthStore:()=>d});var a=s(88693),r=s(16203),l=s(25610),i=s(95997);let d=(0,a.vt)((e,t)=>({user:null,userData:null,loading:!0,unsubscribeUserListener:null,setUser:t=>e({user:t}),setUserData:t=>e({userData:t}),setLoading:t=>e({loading:t}),setUnsubscribeUserListener:t=>e({unsubscribeUserListener:t}),initialize:()=>(0,r.hg)(l.j2,async a=>{if(a)try{let r=await (0,i.gL)(a.uid),l=Object.assign(Object.assign({},a),{role:null==r?void 0:r.role});e({user:l,userData:r,loading:!1});let{doc:d,onSnapshot:c}=await Promise.resolve().then(s.bind(s,35317)),{db:n}=await Promise.resolve().then(s.bind(s,25610)),o=d(n,"users",a.uid),x=c(o,s=>{if(s.exists()){let a=s.data();e({userData:a,user:Object.assign(Object.assign({},t().user||{}),{role:a.role})})}});e({unsubscribeUserListener:x})}catch(t){console.error("Error fetching user data:",t),e({user:Object.assign(Object.assign({},a),{role:void 0}),userData:null,loading:!1})}else{let{unsubscribeUserListener:s}=t();s&&(s(),e({unsubscribeUserListener:null})),e({user:null,userData:null,loading:!1})}}),refreshUserData:async()=>{let{user:s}=t();if(s)try{let a=await (0,i.gL)(s.uid);e({userData:a,user:Object.assign(Object.assign({},t().user||{}),{role:null==a?void 0:a.role})}),setTimeout(async()=>{try{let a=await (0,i.gL)(s.uid);e({userData:a,user:Object.assign(Object.assign({},t().user||{}),{role:null==a?void 0:a.role})})}catch(e){console.warn("Error in delayed refresh:",e)}},500)}catch(e){console.error("Error refreshing user data:",e)}}}));setTimeout(()=>{d.getState().initialize()},0)},81958:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>I});var a=s(95155),r=s(12115),l=s(6874),i=s.n(l),d=s(68084),c=s(35695),n=s(72713),o=s(27809),x=s(81586),m=s(37108),h=s(33109),p=s(84616),u=s(381),g=s(55868),y=s(51976),j=s(38564),w=s(17580),N=s(17951),f=s(92138),b=s(92657),v=s(13717),A=s(62525),k=s(56671),S=s(35317),D=s(25610);let O=async e=>{try{let t=(0,S.query)((0,S.collection)(D.db,"orders"),(0,S.where)("buyerUid","==",e)),s=(await (0,S.getDocs)(t)).docs.map(e=>Object.assign({id:e.id},e.data())),a=s.length,r=s.filter(e=>"delivered"===e.status&&"paid"===e.paymentStatus).reduce((e,t)=>e+t.total,0),l=(0,S.query)((0,S.collection)(D.db,"savedProducts"),(0,S.where)("userId","==",e)),i=await (0,S.getDocs)(l);return{totalOrders:a,totalSpent:r,savedProducts:i.size,totalReviews:0,monthlyGrowth:12.5}}catch(e){throw console.error("Error getting normal user stats:",e),e}},P=async e=>{try{let t=(0,S.query)((0,S.collection)(D.db,"orders"),(0,S.where)("buyerUid","==",e),(0,S.My)("createdAt","desc"));return(await (0,S.getDocs)(t)).docs.map(e=>{var t;let s=e.data();return{id:s.id,productName:(null==(t=s.items[0])?void 0:t.productTitle)||"Multiple Products",sellerName:s.sellerRef.name,total:s.total,status:s.status,paymentStatus:s.paymentStatus,createdAt:s.createdAt,items:s.items}})}catch(e){throw console.error("Error getting normal user orders:",e),e}},R=async e=>{try{let t=(0,S.query)((0,S.collection)(D.db,"products"),(0,S.where)("sellerRef.id","==",e)),s=(await (0,S.getDocs)(t)).docs.map(e=>Object.assign({id:e.id},e.data())),a=(0,S.query)((0,S.collection)(D.db,"orders"),(0,S.where)("sellerRef.id","==",e)),r=(await (0,S.getDocs)(a)).docs.map(e=>Object.assign({id:e.id},e.data())),l=r.filter(e=>"delivered"===e.status&&"paid"===e.paymentStatus).reduce((e,t)=>e+t.total,0),i=r.filter(e=>"pending"===e.status).length,d=new Set(r.map(e=>e.buyerUid)).size;return{totalSales:l,totalOrders:r.length,totalProducts:s.length,totalCustomers:d,totalRevenue:l,pendingOrders:i,monthlyGrowth:18.5}}catch(e){throw console.error("Error getting personal seller stats:",e),e}},U=async e=>{try{let t=(0,S.query)((0,S.collection)(D.db,"products"),(0,S.where)("sellerRef.id","==",e),(0,S.My)("createdAt","desc")),s=(await (0,S.getDocs)(t)).docs.map(e=>Object.assign({id:e.id},e.data())),a=(0,S.query)((0,S.collection)(D.db,"orders")),r=(await (0,S.getDocs)(a)).docs.map(e=>Object.assign({id:e.id},e.data()));return s.map(e=>{let t=r.filter(t=>t.items.some(t=>t.productId===e.id)),s=t.length,a=t.filter(e=>"delivered"===e.status&&"paid"===e.paymentStatus).reduce((t,s)=>{let a=s.items.find(t=>t.productId===e.id);return t+(a?a.total:0)},0);return{id:e.id,title:e.title,price:e.price,status:e.status,sales:s,views:e.views||0,revenue:a,createdAt:e.createdAt,media:e.media}})}catch(e){throw console.error("Error getting personal seller products:",e),e}},C=async e=>{try{let t=(0,S.query)((0,S.collection)(D.db,"orders"),(0,S.where)("sellerRef.id","==",e),(0,S.My)("createdAt","desc")),s=await (0,S.getDocs)(t),a=(0,S.query)((0,S.collection)(D.db,"users")),r=(await (0,S.getDocs)(a)).docs.map(e=>Object.assign({id:e.id},e.data()));return s.docs.map(e=>{var t,s;let a=e.data(),l=r.find(e=>e.uid===a.buyerUid);return{id:a.id,buyerName:(null==l?void 0:l.displayName)||"Unknown",productName:(null==(t=a.items[0])?void 0:t.productTitle)||"Multiple Products",total:a.total,status:a.status,paymentStatus:a.paymentStatus,createdAt:a.createdAt,buyerMessage:null==(s=a.items[0])?void 0:s.buyerMessage}})}catch(e){throw console.error("Error getting personal seller orders:",e),e}},T=async e=>{try{let t=(0,S.query)((0,S.collection)(D.db,"brands"),(0,S.where)("ownerId","==",e)),s=(await (0,S.getDocs)(t)).docs.map(e=>Object.assign({id:e.id},e.data())),a=s.map(e=>e.id),r=(0,S.query)((0,S.collection)(D.db,"products"),(0,S.where)("sellerRef.id","in",a)),l=(await (0,S.getDocs)(r)).docs.map(e=>Object.assign({id:e.id},e.data())),i=(0,S.query)((0,S.collection)(D.db,"orders"),(0,S.where)("sellerRef.id","in",a)),d=(await (0,S.getDocs)(i)).docs.map(e=>Object.assign({id:e.id},e.data())),c=d.filter(e=>"delivered"===e.status&&"paid"===e.paymentStatus).reduce((e,t)=>e+t.total,0),n=d.filter(e=>"pending"===e.status).length,o=new Set(d.map(e=>e.buyerUid)).size,x=s.reduce((e,t)=>e+t.followers,0),m=s.reduce((e,t)=>e+t.rating,0)/s.length||0;return{totalSales:c,totalOrders:d.length,totalProducts:l.length,totalCustomers:o,totalRevenue:c,pendingOrders:n,monthlyGrowth:22.5,totalBrands:s.length,brandFollowers:x,averageRating:m}}catch(e){throw console.error("Error getting brand stats:",e),e}},E=async e=>{try{let t=(0,S.query)((0,S.collection)(D.db,"companies"),(0,S.where)("ownerId","==",e)),s=(await (0,S.getDocs)(t)).docs.map(e=>Object.assign({id:e.id},e.data())),a=s.map(e=>e.id),r=(0,S.query)((0,S.collection)(D.db,"brands"),(0,S.where)("companyId","in",a)),l=(await (0,S.getDocs)(r)).docs.map(e=>Object.assign({id:e.id},e.data())),i=l.map(e=>e.id),d=(0,S.query)((0,S.collection)(D.db,"products"),(0,S.where)("sellerRef.id","in",i)),c=(await (0,S.getDocs)(d)).docs.map(e=>Object.assign({id:e.id},e.data())),n=(0,S.query)((0,S.collection)(D.db,"orders"),(0,S.where)("sellerRef.id","in",i)),o=(await (0,S.getDocs)(n)).docs.map(e=>Object.assign({id:e.id},e.data())),x=o.filter(e=>"delivered"===e.status&&"paid"===e.paymentStatus).reduce((e,t)=>e+t.total,0),m=o.filter(e=>"pending"===e.status).length,h=new Set(o.map(e=>e.buyerUid)).size,p=l.reduce((e,t)=>e+t.followers,0),u=l.reduce((e,t)=>e+t.rating,0)/l.length||0;return{totalSales:x,totalOrders:o.length,totalProducts:c.length,totalCustomers:h,totalRevenue:x,pendingOrders:m,monthlyGrowth:25.5,totalBrands:l.length,brandFollowers:p,averageRating:u,totalCompanies:s.length,totalStaff:0,brandsRevenue:x}}catch(e){throw console.error("Error getting company stats:",e),e}},q=async e=>{try{let t=await (0,S.x7)((0,S.doc)(D.db,"users",e));if(t.exists())return t.data().wallet;return null}catch(e){throw console.error("Error getting user wallet:",e),e}},F=async e=>{try{let t=(0,S.query)((0,S.collection)(D.db,"transactions"),(0,S.where)("userId","==",e),(0,S.My)("createdAt","desc"));return(await (0,S.getDocs)(t)).docs.map(e=>{let t=e.data();return{id:t.id,type:t.type,amount:t.amount,description:t.description,status:t.status,createdAt:t.createdAt,reference:t.reference}})}catch(e){throw console.error("Error getting wallet transactions:",e),e}};function I(){let[e,t]=(0,r.useState)(null),[s,l]=(0,r.useState)([]),[S,D]=(0,r.useState)([]),[I,L]=(0,r.useState)(null),[z,B]=(0,r.useState)([]),[G,_]=(0,r.useState)(!0),[M,V]=(0,r.useState)("overview"),{user:W}=(0,d.useAuthStore)(),J=(0,c.useRouter)();(0,r.useEffect)(()=>{if(!W)return void J.push("/auth-login");H()},[W,J]);let H=async()=>{_(!0);try{let e=(null==W?void 0:W.uid)||(null==W?void 0:W.id);if(!e)return void k.oR.error("User ID not found");let s=Z(W);if("normal"===s){let[s,a,r,i]=await Promise.all([O(e),P(e),q(e),F(e)]);t(s),l(a),L(r),B(i)}else if("personal"===s){let[s,a,r,i,d]=await Promise.all([R(e),U(e),C(e),q(e),F(e)]);t(s),D(a),l(r),L(i),B(d)}else if("brand"===s){let[s,a,r]=await Promise.all([T(e),q(e),F(e)]);t(s),L(a),B(r)}else if("company"===s){let[s,a,r]=await Promise.all([E(e),q(e),F(e)]);t(s),L(a),B(r)}}catch(e){console.error("Error loading user dashboard:",e),k.oR.error("Failed to load dashboard data")}finally{_(!1)}},Z=e=>"admin"===e.role?"normal":"personal"===e.sellerType?"personal":"brand"===e.sellerType?"brand":"company"===e.sellerType?"company":"normal",K=e=>{switch(e){case"active":case"delivered":case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"processing":case"shipped":return"bg-blue-100 text-blue-800";case"inactive":case"cancelled":case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Y=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),$=e=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(e);return G?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):e?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:(()=>{switch(Z(W)){case"personal":return"Personal Seller Dashboard";case"brand":return"Brand Dashboard";case"company":return"Company Dashboard";default:return"User Dashboard"}})()}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Welcome back, ",null==W?void 0:W.displayName]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:["personal"===Z(W)&&(0,a.jsx)(i(),{href:"/product/upload",children:(0,a.jsxs)("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Add Product"]})}),(0,a.jsx)(i(),{href:"/profile/edit",children:(0,a.jsxs)("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50",children:[(0,a.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Settings"]})})]})]})})}),(0,a.jsx)("div",{className:"bg-white border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("nav",{className:"flex space-x-8",children:(()=>{let e=Z(W),t=[{id:"overview",label:"Overview",icon:n.A},{id:"orders",label:"Orders",icon:o.A},{id:"wallet",label:"Wallet",icon:x.A}];return"personal"===e||"brand"===e||"company"===e?[...t,{id:"products",label:"Products",icon:m.A},{id:"analytics",label:"Analytics",icon:h.A}]:[...t,{id:"analytics",label:"Analytics",icon:h.A}]})().map(e=>{let t=e.icon;return(0,a.jsxs)("button",{onClick:()=>V(e.id),className:"flex items-center py-4 px-1 border-b-2 font-medium text-sm ".concat(M===e.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)(t,{className:"w-4 h-4 mr-2"}),e.label]},e.id)})})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["overview"===M&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:["normal"===Z(W)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(o.A,{className:"h-8 w-8 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Orders"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.totalOrders}),(0,a.jsxs)("p",{className:"text-sm text-blue-600",children:["+",e.monthlyGrowth,"% this month"]})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(g.A,{className:"h-8 w-8 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Spent"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:Y(e.totalSpent)}),(0,a.jsx)("p",{className:"text-sm text-green-600",children:"Lifetime spending"})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(y.A,{className:"h-8 w-8 text-red-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Saved Products"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.savedProducts}),(0,a.jsx)("p",{className:"text-sm text-red-600",children:"Wishlist items"})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(j.A,{className:"h-8 w-8 text-yellow-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Reviews"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.totalReviews}),(0,a.jsx)("p",{className:"text-sm text-yellow-600",children:"Your reviews"})]})]})})]}),"personal"===Z(W)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(g.A,{className:"h-8 w-8 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Sales"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:Y(e.totalSales)}),(0,a.jsxs)("p",{className:"text-sm text-green-600",children:["+",e.monthlyGrowth,"% this month"]})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(o.A,{className:"h-8 w-8 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Orders"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.totalOrders}),(0,a.jsxs)("p",{className:"text-sm text-blue-600",children:[e.pendingOrders," pending"]})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(m.A,{className:"h-8 w-8 text-purple-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Products"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.totalProducts}),(0,a.jsx)("p",{className:"text-sm text-purple-600",children:"Active listings"})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(w.A,{className:"h-8 w-8 text-orange-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Customers"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.totalCustomers}),(0,a.jsx)("p",{className:"text-sm text-orange-600",children:"Unique buyers"})]})]})})]}),("brand"===Z(W)||"company"===Z(W))&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(g.A,{className:"h-8 w-8 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:Y(e.totalRevenue)}),(0,a.jsxs)("p",{className:"text-sm text-green-600",children:["+",e.monthlyGrowth,"% this month"]})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(N.A,{className:"h-8 w-8 text-purple-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Brands"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.totalBrands}),(0,a.jsxs)("p",{className:"text-sm text-purple-600",children:[e.brandFollowers," followers"]})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(j.A,{className:"h-8 w-8 text-yellow-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Rating"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.averageRating.toFixed(1)}),(0,a.jsx)("p",{className:"text-sm text-yellow-600",children:"Average rating"})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(m.A,{className:"h-8 w-8 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Products"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.totalProducts}),(0,a.jsx)("p",{className:"text-sm text-blue-600",children:"Active listings"})]})]})})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Orders"})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),"normal"===Z(W)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"})]}):(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.slice(0,5).map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e.id]}),"normal"===Z(W)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.productName}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.sellerName})]}):(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.buyerName}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Y(e.total)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(K(e.status)),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$(e.createdAt)})]},e.id))})]})}),(0,a.jsx)("div",{className:"px-6 py-4 border-t border-gray-200",children:(0,a.jsxs)(i(),{href:"/orders",className:"text-purple-600 hover:text-purple-500 text-sm font-medium",children:["View all orders ",(0,a.jsx)(f.A,{className:"w-4 h-4 inline ml-1"})]})})]})]}),"orders"===M&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"All Orders"})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),"normal"===Z(W)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"})]}):(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e.id]}),"normal"===Z(W)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.productName}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.sellerName})]}):(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.buyerName}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Y(e.total)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(K(e.status)),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$(e.createdAt)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsx)(i(),{href:"/orders/".concat(e.id),className:"text-purple-600 hover:text-purple-900",children:"View Details"})})]},e.id))})]})})]}),"products"===M&&"normal"!==Z(W)&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Products"}),"personal"===Z(W)&&(0,a.jsx)(i(),{href:"/product/upload",children:(0,a.jsxs)("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Add Product"]})})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Views"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(e=>{var t;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("img",{className:"h-10 w-10 rounded-lg object-cover",src:(null==(t=e.media[0])?void 0:t.url)||"/placeholder-product.jpg",alt:e.title}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Added ",$(e.createdAt)]})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Y(e.price)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(K(e.status)),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.sales}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.views}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(i(),{href:"/product/".concat(e.id),children:(0,a.jsx)("button",{className:"text-purple-600 hover:text-purple-900",children:(0,a.jsx)(b.A,{className:"w-4 h-4"})})}),(0,a.jsx)(i(),{href:"/product/edit/".concat(e.id),children:(0,a.jsx)("button",{className:"text-blue-600 hover:text-blue-900",children:(0,a.jsx)(v.A,{className:"w-4 h-4"})})}),(0,a.jsx)("button",{className:"text-red-600 hover:text-red-900",children:(0,a.jsx)(A.A,{className:"w-4 h-4"})})]})})]},e.id)})})]})})]}),"wallet"===M&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Wallet Balance"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-green-600",children:I?Y(I.balance):"$0.00"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Available balance"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Transactions"})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:z.slice(0,10).map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("credit"===e.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.type})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Y(e.amount)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.description}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(K(e.status)),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$(e.createdAt)})]},e.id))})]})})]})]}),"analytics"===M&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Analytics Overview"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Detailed analytics features coming soon..."})]})})]})]}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{className:"text-gray-600",children:"No dashboard data available"})})})}},95997:(e,t,s)=>{"use strict";s.d(t,{G6:()=>d,HW:()=>x,Hh:()=>n,Jv:()=>c,eT:()=>g,gL:()=>m,qc:()=>u,xw:()=>o});var a=s(16203),r=s(35317),l=s(25610);let i=new a.HF;i.addScope("email"),i.addScope("profile");let d=async()=>{var e;try{let t=(await (0,a.df)(l.j2,i)).user;if(!(await (0,r.x7)((0,r.doc)(l.db,"users",t.uid))).exists()){let s={id:t.uid,email:t.email||"",name:t.displayName||"Anonymous",username:(null==(e=t.email)?void 0:e.split("@")[0])||"user",avatar:t.photoURL||"",role:"user",accountType:"user",isVerified:!1,isVerifiedSeller:!1,isActive:!0,createdAt:new Date,updatedAt:new Date,followersCount:0,followingCount:0,productsCount:0,rating:0,totalSales:0};await (0,r.BN)((0,r.doc)(l.db,"users",t.uid),s)}return t}catch(e){throw console.error("Google sign-in error:",e),e}},c=async(e,t)=>{try{return(await (0,a.x9)(l.j2,e,t)).user}catch(e){throw e}},n=async function(e,t,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"user";try{let d=(await (0,a.eJ)(l.j2,e,t)).user;await (0,a.r7)(d,{displayName:s});try{let t={id:d.uid,email:d.email||"",name:s,username:e.split("@")[0],avatar:d.photoURL||"",bio:"",role:i,accountType:i,isVerified:!1,isVerifiedSeller:!1,isActive:!0,createdAt:new Date,updatedAt:new Date,followersCount:0,followingCount:0,productsCount:0,rating:0,totalSales:0};await (0,r.BN)((0,r.doc)(l.db,"users",d.uid),t),console.log("✅ User profile created successfully")}catch(e){console.warn("Could not create user document in Firestore:",e)}return d}catch(e){throw console.error("Signup error:",e),e}},o=async e=>{try{await (0,a.J1)(l.j2,e)}catch(e){throw e}},x=()=>l.j2.currentUser,m=async e=>{try{let t=await (0,r.x7)((0,r.doc)(l.db,"users",e));if(t.exists())return t.data();return null}catch(e){return console.error("Error getting user data:",e),null}},h=async e=>{try{let t=await m(e);return(null==t?void 0:t.role)||"user"}catch(e){return console.error("Error checking user role:",e),"user"}},p=async e=>{try{let t=await m(e);return(null==t?void 0:t.accountType)||"user"}catch(e){return console.error("Error checking account type:",e),"user"}},u=async e=>"admin"===await h(e),g=async e=>["personal_seller","brand","company"].includes(await p(e))}},e=>{e.O(0,[2992,9507,1794,6671,8599,7194,6874,6493,8441,5964,7358],()=>e(e.s=19048)),_N_E=e.O()}]);