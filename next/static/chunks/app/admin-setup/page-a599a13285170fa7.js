(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266,5610],{1243:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},6115:(e,t,r)=>{"use strict";var s=r(12115),a=r(49033),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=a.useSyncExternalStore,l=s.useRef,o=s.useEffect,c=s.useMemo,u=s.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var d=l(null);if(null===d.current){var m={hasValue:!1,value:null};d.current=m}else m=d.current;var h=i(e,(d=c(function(){function e(e){if(!o){if(o=!0,i=e,e=s(e),void 0!==a&&m.hasValue){var t=m.value;if(a(t,e))return l=t}return l=e}if(t=l,n(i,e))return t;var r=s(e);return void 0!==a&&a(t,r)?(i=e,t):(i=e,l=r)}var i,l,o=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,s,a]))[0],d[1]);return o(function(){m.hasValue=!0,m.value=h},[h]),u(h),h}},19946:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(12115);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:u,iconNode:d,...m}=e;return(0,s.createElement)("svg",{ref:t,...i,width:a,height:a,stroke:r,strokeWidth:o?24*Number(l)/Number(a):l,className:n("lucide",c),...!u&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...d.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),o=(e,t)=>{let r=(0,s.forwardRef)((r,i)=>{let{className:o,...c}=r;return(0,s.createElement)(l,{ref:i,iconNode:t,className:n("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...c})});return r.displayName=a(e),r}},22436:(e,t,r)=>{"use strict";var s=r(12115),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=s.useState,i=s.useEffect,l=s.useLayoutEffect,o=s.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),s=n({inst:{value:r,getSnapshot:t}}),a=s[0].inst,u=s[1];return l(function(){a.value=r,a.getSnapshot=t,c(a)&&u({inst:a})},[e,r,t]),i(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),o(r),r};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:u},25610:(e,t,r)=>{"use strict";r.d(t,{db:()=>m,j2:()=>d,storage:()=>h});var s=r(23915),a=r(16203),n=r(35317),i=r(90858),l=r(92144),o=r(81115),c=r(86864);let u=(0,s.Wp)({apiKey:"AIzaSyByhCgo_k9i8_AstSaZkZ3Atv5Rt2eOjhc",authDomain:"zaillisy.firebaseapp.com",databaseURL:"https://zaillisy-default-rtdb.firebaseio.com",projectId:"zaillisy",storageBucket:"zaillisy.firebasestorage.app",messagingSenderId:"984913226421",appId:"1:984913226421:web:c648bbccdd5055cf6cecfc",measurementId:"G-95WJ280TC9"}),d=(0,a.xI)(u),m=(0,n.aU)(u);(0,o.C3)(u);let h=(0,i.c7)(u);(0,l.Uz)(u);try{(0,c.TT)().then(e=>{e?((0,c.P5)(u),console.log("\uD83D\uDCCA Firebase Analytics enabled")):console.log("ℹ️ Firebase Analytics not supported in this environment")}).catch(()=>{console.warn("Analytics check failed; continuing without Analytics")})}catch(e){console.warn("Analytics initialization skipped:",e)}console.log("\uD83D\uDE80 Using production Firebase configuration for project:",u.options.projectId)},40646:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},45643:(e,t,r)=>{"use strict";e.exports=r(6115)},49033:(e,t,r)=>{"use strict";e.exports=r(22436)},68084:(e,t,r)=>{"use strict";r.d(t,{useAuthStore:()=>l});var s=r(88693),a=r(16203),n=r(25610),i=r(95997);let l=(0,s.vt)((e,t)=>({user:null,userData:null,loading:!0,unsubscribeUserListener:null,setUser:t=>e({user:t}),setUserData:t=>e({userData:t}),setLoading:t=>e({loading:t}),setUnsubscribeUserListener:t=>e({unsubscribeUserListener:t}),initialize:()=>(0,a.hg)(n.j2,async s=>{if(s)try{let a=await (0,i.gL)(s.uid),n=Object.assign(Object.assign({},s),{role:null==a?void 0:a.role});e({user:n,userData:a,loading:!1});let{doc:l,onSnapshot:o}=await Promise.resolve().then(r.bind(r,35317)),{db:c}=await Promise.resolve().then(r.bind(r,25610)),u=l(c,"users",s.uid),d=o(u,r=>{if(r.exists()){let s=r.data();e({userData:s,user:Object.assign(Object.assign({},t().user||{}),{role:s.role})})}});e({unsubscribeUserListener:d})}catch(t){console.error("Error fetching user data:",t),e({user:Object.assign(Object.assign({},s),{role:void 0}),userData:null,loading:!1})}else{let{unsubscribeUserListener:r}=t();r&&(r(),e({unsubscribeUserListener:null})),e({user:null,userData:null,loading:!1})}}),refreshUserData:async()=>{let{user:r}=t();if(r)try{let s=await (0,i.gL)(r.uid);e({userData:s,user:Object.assign(Object.assign({},t().user||{}),{role:null==s?void 0:s.role})}),setTimeout(async()=>{try{let s=await (0,i.gL)(r.uid);e({userData:s,user:Object.assign(Object.assign({},t().user||{}),{role:null==s?void 0:s.role})})}catch(e){console.warn("Error in delayed refresh:",e)}},500)}catch(e){console.error("Error refreshing user data:",e)}}}));setTimeout(()=>{l.getState().initialize()},0)},71007:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},75525:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},83548:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(95155),a=r(12115),n=r(68084),i=r(35317),l=r(25610),o=r(56671),c=r(75525),u=r(71007),d=r(40646),m=r(1243);function h(){let{user:e}=(0,n.useAuthStore)(),[t,r]=(0,a.useState)(!1),[h,g]=(0,a.useState)(""),[p,f]=(0,a.useState)(null),x=async()=>{if(!e)return void o.oR.error("Please login first");r(!0);try{let t=await (0,i.x7)((0,i.doc)(l.db,"users",e.uid));if(t.exists()){let e=t.data();g(e.role||"no-role"),f(!0),o.oR.success("Current role: ".concat(e.role||"No role set"))}else f(!1),g(""),o.oR.info("User document not found in Firestore")}catch(e){console.error("Error checking user role:",e),o.oR.error("Failed to check user role")}finally{r(!1)}},y=async()=>{if(!e)return void o.oR.error("Please login first");r(!0);try{await (0,i.BN)((0,i.doc)(l.db,"users",e.uid),{uid:e.uid,email:e.email,name:e.displayName||"Unknown",role:"user",isVerified:!1,createdAt:new Date,updatedAt:new Date}),f(!0),g("user"),o.oR.success("User document created successfully")}catch(e){console.error("Error creating user document:",e),o.oR.error("Failed to create user document")}finally{r(!1)}},b=async()=>{if(!e)return void o.oR.error("Please login first");r(!0);try{await (0,i.mZ)((0,i.doc)(l.db,"users",e.uid),{role:"admin",isVerified:!0,updatedAt:new Date}),g("admin"),o.oR.success("Admin role set successfully! You can now access admin pages.")}catch(e){console.error("Error setting admin role:",e),o.oR.error("Failed to set admin role")}finally{r(!1)}},j=async()=>{if(!e)return void o.oR.error("Please login first");r(!0);try{await (0,i.mZ)((0,i.doc)(l.db,"users",e.uid),{role:"user",updatedAt:new Date}),g("user"),o.oR.success("Admin role removed successfully")}catch(e){console.error("Error removing admin role:",e),o.oR.error("Failed to remove admin role")}finally{r(!1)}};return e?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,s.jsx)("div",{className:"max-w-2xl mx-auto px-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)(c.A,{className:"w-16 h-16 text-purple-600 mx-auto mb-4"}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Setup"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Configure admin privileges for testing"})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current User"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"UID:"})," ",e.uid]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Email:"})," ",e.email]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Name:"})," ",e.displayName||"Not set"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"User Exists:"})," ",null===p?"Unknown":p?"Yes":"No"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Current Role:"})," ",h||"Unknown"]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("button",{onClick:x,disabled:t,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[(0,s.jsx)(u.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:t?"Checking...":"Check Current Role"})]}),!1===p&&(0,s.jsxs)("button",{onClick:y,disabled:t,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,s.jsx)(d.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:t?"Creating...":"Create User Document"})]}),p&&"admin"!==h&&(0,s.jsxs)("button",{onClick:b,disabled:t,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:[(0,s.jsx)(c.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:t?"Setting...":"Set Admin Role"})]}),p&&"admin"===h&&(0,s.jsxs)("button",{onClick:j,disabled:t,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50",children:[(0,s.jsx)(m.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:t?"Removing...":"Remove Admin Role"})]})]}),"admin"===h&&(0,s.jsxs)("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.A,{className:"w-5 h-5 text-green-600"}),(0,s.jsx)("span",{className:"text-green-800 font-medium",children:"Admin access granted!"})]}),(0,s.jsxs)("p",{className:"text-green-700 text-sm mt-1",children:["You can now access ",(0,s.jsx)("a",{href:"/admin/applications",className:"underline",children:"admin applications page"})]})]}),"user"===h&&(0,s.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.A,{className:"w-5 h-5 text-blue-600"}),(0,s.jsx)("span",{className:"text-blue-800 font-medium",children:"Regular user access"})]}),(0,s.jsx)("p",{className:"text-blue-700 text-sm mt-1",children:"You can access user features but not admin pages"})]}),(0,s.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Navigation"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("a",{href:"/admin/applications",className:"flex items-center justify-center space-x-2 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,s.jsx)(c.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Admin Applications"})]}),(0,s.jsxs)("a",{href:"/test-applications",className:"flex items-center justify-center space-x-2 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,s.jsx)(u.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"My Applications"})]}),(0,s.jsxs)("a",{href:"/become-seller",className:"flex items-center justify-center space-x-2 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,s.jsx)(d.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Become a Seller"})]}),(0,s.jsx)("a",{href:"/",className:"flex items-center justify-center space-x-2 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:(0,s.jsx)("span",{children:"Home"})})]})]})]})})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(c.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please login first"}),(0,s.jsx)("p",{className:"text-gray-600",children:"You need to be authenticated to access admin setup"})]})})}},87391:(e,t,r)=>{Promise.resolve().then(r.bind(r,83548))},88693:(e,t,r)=>{"use strict";r.d(t,{vt:()=>u});let s=e=>{let t,r=new Set,s=(e,s)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=s?s:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,n={setState:s,getState:a,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},i=t=e(s,a,n);return n};var a=r(12115),n=r(45643);let{useDebugValue:i}=a,{useSyncExternalStoreWithSelector:l}=n,o=!1,c=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?(e=>e?s(e):s)(e):e,r=(e,r)=>(function(e,t=e=>e,r){r&&!o&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),o=!0);let s=l(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return i(s),s})(t,e,r);return Object.assign(r,t),r},u=e=>e?c(e):c},95997:(e,t,r)=>{"use strict";r.d(t,{G6:()=>l,HW:()=>d,Hh:()=>c,Jv:()=>o,eT:()=>f,gL:()=>m,qc:()=>p,xw:()=>u});var s=r(16203),a=r(35317),n=r(25610);let i=new s.HF;i.addScope("email"),i.addScope("profile");let l=async()=>{var e;try{let t=(await (0,s.df)(n.j2,i)).user;if(!(await (0,a.x7)((0,a.doc)(n.db,"users",t.uid))).exists()){let r={id:t.uid,email:t.email||"",name:t.displayName||"Anonymous",username:(null==(e=t.email)?void 0:e.split("@")[0])||"user",avatar:t.photoURL||"",role:"user",accountType:"user",isVerified:!1,isVerifiedSeller:!1,isActive:!0,createdAt:new Date,updatedAt:new Date,followersCount:0,followingCount:0,productsCount:0,rating:0,totalSales:0};await (0,a.BN)((0,a.doc)(n.db,"users",t.uid),r)}return t}catch(e){throw console.error("Google sign-in error:",e),e}},o=async(e,t)=>{try{return(await (0,s.x9)(n.j2,e,t)).user}catch(e){throw e}},c=async function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"user";try{let l=(await (0,s.eJ)(n.j2,e,t)).user;await (0,s.r7)(l,{displayName:r});try{let t={id:l.uid,email:l.email||"",name:r,username:e.split("@")[0],avatar:l.photoURL||"",bio:"",role:i,accountType:i,isVerified:!1,isVerifiedSeller:!1,isActive:!0,createdAt:new Date,updatedAt:new Date,followersCount:0,followingCount:0,productsCount:0,rating:0,totalSales:0};await (0,a.BN)((0,a.doc)(n.db,"users",l.uid),t),console.log("✅ User profile created successfully")}catch(e){console.warn("Could not create user document in Firestore:",e)}return l}catch(e){throw console.error("Signup error:",e),e}},u=async e=>{try{await (0,s.J1)(n.j2,e)}catch(e){throw e}},d=()=>n.j2.currentUser,m=async e=>{try{let t=await (0,a.x7)((0,a.doc)(n.db,"users",e));if(t.exists())return t.data();return null}catch(e){return console.error("Error getting user data:",e),null}},h=async e=>{try{let t=await m(e);return(null==t?void 0:t.role)||"user"}catch(e){return console.error("Error checking user role:",e),"user"}},g=async e=>{try{let t=await m(e);return(null==t?void 0:t.accountType)||"user"}catch(e){return console.error("Error checking account type:",e),"user"}},p=async e=>"admin"===await h(e),f=async e=>["personal_seller","brand","company"].includes(await g(e))}},e=>{e.O(0,[2992,9507,1794,6671,8599,7194,8441,5964,7358],()=>e(e.s=87391)),_N_E=e.O()}]);