(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2116,5610],{6115:(e,t,r)=>{"use strict";var s=r(12115),a=r(49033),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=a.useSyncExternalStore,o=s.useRef,l=s.useEffect,u=s.useMemo,c=s.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var d=o(null);if(null===d.current){var m={hasValue:!1,value:null};d.current=m}else m=d.current;var f=i(e,(d=u(function(){function e(e){if(!l){if(l=!0,i=e,e=s(e),void 0!==a&&m.hasValue){var t=m.value;if(a(t,e))return o=t}return o=e}if(t=o,n(i,e))return t;var r=s(e);return void 0!==a&&a(t,r)?(i=e,t):(i=e,o=r)}var i,o,l=!1,u=void 0===r?null:r;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,r,s,a]))[0],d[1]);return l(function(){m.hasValue=!0,m.value=f},[f]),c(f),f}},19946:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(12115);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:u="",children:c,iconNode:d,...m}=e;return(0,s.createElement)("svg",{ref:t,...i,width:a,height:a,stroke:r,strokeWidth:l?24*Number(o)/Number(a):o,className:n("lucide",u),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...d.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),l=(e,t)=>{let r=(0,s.forwardRef)((r,i)=>{let{className:l,...u}=r;return(0,s.createElement)(o,{ref:i,iconNode:t,className:n("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),l),...u})});return r.displayName=a(e),r}},22436:(e,t,r)=>{"use strict";var s=r(12115),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=s.useState,i=s.useEffect,o=s.useLayoutEffect,l=s.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),s=n({inst:{value:r,getSnapshot:t}}),a=s[0].inst,c=s[1];return o(function(){a.value=r,a.getSnapshot=t,u(a)&&c({inst:a})},[e,r,t]),i(function(){return u(a)&&c({inst:a}),e(function(){u(a)&&c({inst:a})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:c},25610:(e,t,r)=>{"use strict";r.d(t,{db:()=>m,j2:()=>d,storage:()=>f});var s=r(23915),a=r(16203),n=r(35317),i=r(90858),o=r(92144),l=r(81115),u=r(86864);let c=(0,s.Wp)({apiKey:"AIzaSyByhCgo_k9i8_AstSaZkZ3Atv5Rt2eOjhc",authDomain:"zaillisy.firebaseapp.com",databaseURL:"https://zaillisy-default-rtdb.firebaseio.com",projectId:"zaillisy",storageBucket:"zaillisy.firebasestorage.app",messagingSenderId:"984913226421",appId:"1:984913226421:web:c648bbccdd5055cf6cecfc",measurementId:"G-95WJ280TC9"}),d=(0,a.xI)(c),m=(0,n.aU)(c);(0,l.C3)(c);let f=(0,i.c7)(c);(0,o.Uz)(c);try{(0,u.TT)().then(e=>{e?((0,u.P5)(c),console.log("\uD83D\uDCCA Firebase Analytics enabled")):console.log("ℹ️ Firebase Analytics not supported in this environment")}).catch(()=>{console.warn("Analytics check failed; continuing without Analytics")})}catch(e){console.warn("Analytics initialization skipped:",e)}console.log("\uD83D\uDE80 Using production Firebase configuration for project:",c.options.projectId)},35008:(e,t,r)=>{Promise.resolve().then(r.bind(r,75430))},35695:(e,t,r)=>{"use strict";var s=r(18999);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},45643:(e,t,r)=>{"use strict";e.exports=r(6115)},49033:(e,t,r)=>{"use strict";e.exports=r(22436)},68084:(e,t,r)=>{"use strict";r.d(t,{useAuthStore:()=>o});var s=r(88693),a=r(16203),n=r(25610),i=r(95997);let o=(0,s.vt)((e,t)=>({user:null,userData:null,loading:!0,unsubscribeUserListener:null,setUser:t=>e({user:t}),setUserData:t=>e({userData:t}),setLoading:t=>e({loading:t}),setUnsubscribeUserListener:t=>e({unsubscribeUserListener:t}),initialize:()=>(0,a.hg)(n.j2,async s=>{if(s)try{let a=await (0,i.gL)(s.uid),n=Object.assign(Object.assign({},s),{role:null==a?void 0:a.role});e({user:n,userData:a,loading:!1});let{doc:o,onSnapshot:l}=await Promise.resolve().then(r.bind(r,35317)),{db:u}=await Promise.resolve().then(r.bind(r,25610)),c=o(u,"users",s.uid),d=l(c,r=>{if(r.exists()){let s=r.data();e({userData:s,user:Object.assign(Object.assign({},t().user||{}),{role:s.role})})}});e({unsubscribeUserListener:d})}catch(t){console.error("Error fetching user data:",t),e({user:Object.assign(Object.assign({},s),{role:void 0}),userData:null,loading:!1})}else{let{unsubscribeUserListener:r}=t();r&&(r(),e({unsubscribeUserListener:null})),e({user:null,userData:null,loading:!1})}}),refreshUserData:async()=>{let{user:r}=t();if(r)try{let s=await (0,i.gL)(r.uid);e({userData:s,user:Object.assign(Object.assign({},t().user||{}),{role:null==s?void 0:s.role})}),setTimeout(async()=>{try{let s=await (0,i.gL)(r.uid);e({userData:s,user:Object.assign(Object.assign({},t().user||{}),{role:null==s?void 0:s.role})})}catch(e){console.warn("Error in delayed refresh:",e)}},500)}catch(e){console.error("Error refreshing user data:",e)}}}));setTimeout(()=>{o.getState().initialize()},0)},75430:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(95155),a=r(12115),n=r(68084),i=r(35695),o=r(16203),l=r(25610),u=r(56671),c=r(75525),d=r(78749),m=r(92657);function f(){let[e,t]=(0,a.useState)(""),[r,f]=(0,a.useState)(""),[p,h]=(0,a.useState)(!1),[y,g]=(0,a.useState)(!1),{user:b}=(0,n.useAuthStore)(),x=(0,i.useRouter)();if(b&&"admin"===b.role)return x.push("/admin"),null;let v=async t=>{t.preventDefault(),g(!0);try{let t=(await (0,o.x9)(l.j2,e,r)).user;if("admin"!==t.role)return void u.oR.error("Access denied. Admin privileges required.");u.oR.success("Admin login successful"),x.push("/admin")}catch(e){console.error("Admin login error:",e),u.oR.error(e.message||"Login failed")}finally{g(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(c.A,{className:"h-12 w-12 text-purple-600"})}),(0,s.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Admin Login"}),(0,s.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access the admin dashboard"})]}),(0,s.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,s.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,s.jsxs)("form",{className:"space-y-6",onSubmit:v,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm",placeholder:"admin@example.com"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,s.jsxs)("div",{className:"mt-1 relative",children:[(0,s.jsx)("input",{id:"password",name:"password",type:p?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:e=>f(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm pr-10",placeholder:"••••••••"}),(0,s.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>h(!p),children:p?(0,s.jsx)(d.A,{className:"h-5 w-5 text-gray-400"}):(0,s.jsx)(m.A,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",disabled:y,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Signing in...":"Sign in"})})]}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Admin access only"})})]})})]})})]})}},75525:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},78749:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},88693:(e,t,r)=>{"use strict";r.d(t,{vt:()=>c});let s=e=>{let t,r=new Set,s=(e,s)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=s?s:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,n={setState:s,getState:a,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},i=t=e(s,a,n);return n};var a=r(12115),n=r(45643);let{useDebugValue:i}=a,{useSyncExternalStoreWithSelector:o}=n,l=!1,u=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?(e=>e?s(e):s)(e):e,r=(e,r)=>(function(e,t=e=>e,r){r&&!l&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),l=!0);let s=o(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return i(s),s})(t,e,r);return Object.assign(r,t),r},c=e=>e?u(e):u},92657:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},95997:(e,t,r)=>{"use strict";r.d(t,{G6:()=>o,HW:()=>d,Hh:()=>u,Jv:()=>l,eT:()=>y,gL:()=>m,qc:()=>h,xw:()=>c});var s=r(16203),a=r(35317),n=r(25610);let i=new s.HF;i.addScope("email"),i.addScope("profile");let o=async()=>{var e;try{let t=(await (0,s.df)(n.j2,i)).user;if(!(await (0,a.x7)((0,a.doc)(n.db,"users",t.uid))).exists()){let r={id:t.uid,email:t.email||"",name:t.displayName||"Anonymous",username:(null==(e=t.email)?void 0:e.split("@")[0])||"user",avatar:t.photoURL||"",role:"user",accountType:"user",isVerified:!1,isVerifiedSeller:!1,isActive:!0,createdAt:new Date,updatedAt:new Date,followersCount:0,followingCount:0,productsCount:0,rating:0,totalSales:0};await (0,a.BN)((0,a.doc)(n.db,"users",t.uid),r)}return t}catch(e){throw console.error("Google sign-in error:",e),e}},l=async(e,t)=>{try{return(await (0,s.x9)(n.j2,e,t)).user}catch(e){throw e}},u=async function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"user";try{let o=(await (0,s.eJ)(n.j2,e,t)).user;await (0,s.r7)(o,{displayName:r});try{let t={id:o.uid,email:o.email||"",name:r,username:e.split("@")[0],avatar:o.photoURL||"",bio:"",role:i,accountType:i,isVerified:!1,isVerifiedSeller:!1,isActive:!0,createdAt:new Date,updatedAt:new Date,followersCount:0,followingCount:0,productsCount:0,rating:0,totalSales:0};await (0,a.BN)((0,a.doc)(n.db,"users",o.uid),t),console.log("✅ User profile created successfully")}catch(e){console.warn("Could not create user document in Firestore:",e)}return o}catch(e){throw console.error("Signup error:",e),e}},c=async e=>{try{await (0,s.J1)(n.j2,e)}catch(e){throw e}},d=()=>n.j2.currentUser,m=async e=>{try{let t=await (0,a.x7)((0,a.doc)(n.db,"users",e));if(t.exists())return t.data();return null}catch(e){return console.error("Error getting user data:",e),null}},f=async e=>{try{let t=await m(e);return(null==t?void 0:t.role)||"user"}catch(e){return console.error("Error checking user role:",e),"user"}},p=async e=>{try{let t=await m(e);return(null==t?void 0:t.accountType)||"user"}catch(e){return console.error("Error checking account type:",e),"user"}},h=async e=>"admin"===await f(e),y=async e=>["personal_seller","brand","company"].includes(await p(e))}},e=>{e.O(0,[2992,9507,1794,6671,8599,7194,8441,5964,7358],()=>e(e.s=35008)),_N_E=e.O()}]);