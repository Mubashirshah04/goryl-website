(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4715,5610],{6115:(e,t,r)=>{"use strict";var s=r(12115),a=r(49033),l="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=a.useSyncExternalStore,o=s.useRef,i=s.useEffect,c=s.useMemo,u=s.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var d=o(null);if(null===d.current){var m={hasValue:!1,value:null};d.current=m}else m=d.current;var p=n(e,(d=c(function(){function e(e){if(!i){if(i=!0,n=e,e=s(e),void 0!==a&&m.hasValue){var t=m.value;if(a(t,e))return o=t}return o=e}if(t=o,l(n,e))return t;var r=s(e);return void 0!==a&&a(t,r)?(n=e,t):(n=e,o=r)}var n,o,i=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,s,a]))[0],d[1]);return i(function(){m.hasValue=!0,m.value=p},[p]),u(p),p}},19946:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(12115);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:u,iconNode:d,...m}=e;return(0,s.createElement)("svg",{ref:t,...n,width:a,height:a,stroke:r,strokeWidth:i?24*Number(o)/Number(a):o,className:l("lucide",c),...!u&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...d.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),i=(e,t)=>{let r=(0,s.forwardRef)((r,n)=>{let{className:i,...c}=r;return(0,s.createElement)(o,{ref:n,iconNode:t,className:l("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...c})});return r.displayName=a(e),r}},22436:(e,t,r)=>{"use strict";var s=r(12115),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=s.useState,n=s.useEffect,o=s.useLayoutEffect,i=s.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),s=l({inst:{value:r,getSnapshot:t}}),a=s[0].inst,u=s[1];return o(function(){a.value=r,a.getSnapshot=t,c(a)&&u({inst:a})},[e,r,t]),n(function(){return c(a)&&u({inst:a}),e(function(){c(a)&&u({inst:a})})},[e]),i(r),r};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:u},25610:(e,t,r)=>{"use strict";r.d(t,{db:()=>m,j2:()=>d,storage:()=>p});var s=r(23915),a=r(16203),l=r(35317),n=r(90858),o=r(92144),i=r(81115),c=r(86864);let u=(0,s.Wp)({apiKey:"AIzaSyByhCgo_k9i8_AstSaZkZ3Atv5Rt2eOjhc",authDomain:"zaillisy.firebaseapp.com",databaseURL:"https://zaillisy-default-rtdb.firebaseio.com",projectId:"zaillisy",storageBucket:"zaillisy.firebasestorage.app",messagingSenderId:"984913226421",appId:"1:984913226421:web:c648bbccdd5055cf6cecfc",measurementId:"G-95WJ280TC9"}),d=(0,a.xI)(u),m=(0,l.aU)(u);(0,i.C3)(u);let p=(0,n.c7)(u);(0,o.Uz)(u);try{(0,c.TT)().then(e=>{e?((0,c.P5)(u),console.log("\uD83D\uDCCA Firebase Analytics enabled")):console.log("ℹ️ Firebase Analytics not supported in this environment")}).catch(()=>{console.warn("Analytics check failed; continuing without Analytics")})}catch(e){console.warn("Analytics initialization skipped:",e)}console.log("\uD83D\uDE80 Using production Firebase configuration for project:",u.options.projectId)},28883:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},32919:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},35169:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},35695:(e,t,r)=>{"use strict";var s=r(18999);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},45643:(e,t,r)=>{"use strict";e.exports=r(6115)},49033:(e,t,r)=>{"use strict";e.exports=r(22436)},54429:(e,t,r)=>{Promise.resolve().then(r.bind(r,79849))},68084:(e,t,r)=>{"use strict";r.d(t,{useAuthStore:()=>o});var s=r(88693),a=r(16203),l=r(25610),n=r(95997);let o=(0,s.vt)((e,t)=>({user:null,userData:null,loading:!0,unsubscribeUserListener:null,setUser:t=>e({user:t}),setUserData:t=>e({userData:t}),setLoading:t=>e({loading:t}),setUnsubscribeUserListener:t=>e({unsubscribeUserListener:t}),initialize:()=>(0,a.hg)(l.j2,async s=>{if(s)try{let a=await (0,n.gL)(s.uid),l=Object.assign(Object.assign({},s),{role:null==a?void 0:a.role});e({user:l,userData:a,loading:!1});let{doc:o,onSnapshot:i}=await Promise.resolve().then(r.bind(r,35317)),{db:c}=await Promise.resolve().then(r.bind(r,25610)),u=o(c,"users",s.uid),d=i(u,r=>{if(r.exists()){let s=r.data();e({userData:s,user:Object.assign(Object.assign({},t().user||{}),{role:s.role})})}});e({unsubscribeUserListener:d})}catch(t){console.error("Error fetching user data:",t),e({user:Object.assign(Object.assign({},s),{role:void 0}),userData:null,loading:!1})}else{let{unsubscribeUserListener:r}=t();r&&(r(),e({unsubscribeUserListener:null})),e({user:null,userData:null,loading:!1})}}),refreshUserData:async()=>{let{user:r}=t();if(r)try{let s=await (0,n.gL)(r.uid);e({userData:s,user:Object.assign(Object.assign({},t().user||{}),{role:null==s?void 0:s.role})}),setTimeout(async()=>{try{let s=await (0,n.gL)(r.uid);e({userData:s,user:Object.assign(Object.assign({},t().user||{}),{role:null==s?void 0:s.role})})}catch(e){console.warn("Error in delayed refresh:",e)}},500)}catch(e){console.error("Error refreshing user data:",e)}}}));setTimeout(()=>{o.getState().initialize()},0)},71007:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},78749:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},79849:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(95155),a=r(12115),l=r(6874),n=r.n(l),o=r(35695),i=r(95997),c=r(68084),u=r(35169),d=r(71007),m=r(28883),p=r(32919),h=r(78749),f=r(92657),y=r(56671);function g(){let e=(0,o.useRouter)(),{setUser:t}=(0,c.useAuthStore)(),[r,l]=(0,a.useState)({displayName:"",email:"",password:"",confirmPassword:""}),[g,b]=(0,a.useState)(!1),[x,w]=(0,a.useState)(!1),[v,j]=(0,a.useState)(!1),N=async s=>{if(s.preventDefault(),r.password!==r.confirmPassword)return void y.oR.error("Passwords do not match");if(r.password.length<6)return void y.oR.error("Password must be at least 6 characters long");j(!0);try{let s=await (0,i.Hh)(r.email,r.password,r.displayName);t(s),y.oR.success("Personal account created successfully! Welcome to Zaillisy!"),e.push("/")}catch(e){console.error("Signup error:",e),y.oR.error(e.message||"Failed to create account")}finally{j(!1)}},A=async()=>{j(!0);try{let r=await (0,i.G6)();t(r),y.oR.success("Successfully signed in with Google!"),e.push("/")}catch(e){console.error("Google sign-in error:",e),y.oR.error(e.message||"Failed to sign in with Google")}finally{j(!1)}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center px-4",children:(0,s.jsx)("div",{className:"max-w-md w-full",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsxs)(n(),{href:"/register",className:"inline-flex items-center text-purple-600 hover:text-purple-500 mb-4",children:[(0,s.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Back to account types"]}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Personal Account"}),(0,s.jsx)("p",{className:"text-gray-600",children:"For individual sellers and creators"})]}),(0,s.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)("input",{id:"displayName",name:"displayName",type:"text",required:!0,value:r.displayName,onChange:e=>l({...r,displayName:e.target.value}),className:"appearance-none relative block w-full pl-10 pr-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Enter your full name"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r.email,onChange:e=>l({...r,email:e.target.value}),className:"appearance-none relative block w-full pl-10 pr-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Enter your email"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)("input",{id:"password",name:"password",type:g?"text":"password",autoComplete:"new-password",required:!0,value:r.password,onChange:e=>l({...r,password:e.target.value}),className:"appearance-none relative block w-full pl-10 pr-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Enter your password"}),(0,s.jsx)("button",{type:"button",onClick:()=>b(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g?(0,s.jsx)(h.A,{className:"w-5 h-5"}):(0,s.jsx)(f.A,{className:"w-5 h-5"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:x?"text":"password",autoComplete:"new-password",required:!0,value:r.confirmPassword,onChange:e=>l({...r,confirmPassword:e.target.value}),className:"appearance-none relative block w-full pl-10 pr-10 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 sm:text-sm",placeholder:"Confirm your password"}),(0,s.jsx)("button",{type:"button",onClick:()=>w(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x?(0,s.jsx)(h.A,{className:"w-5 h-5"}):(0,s.jsx)(f.A,{className:"w-5 h-5"})})]})]}),(0,s.jsx)("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-pink-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Creating Account...":"Create Personal Account"})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsxs)("button",{type:"button",onClick:A,disabled:v,className:"w-full inline-flex justify-center py-3 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,s.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,s.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,s.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,s.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})]}),(0,s.jsx)("div",{className:"text-center mt-6",children:(0,s.jsxs)("p",{className:"text-gray-600",children:["Already have an account?"," ",(0,s.jsx)(n(),{href:"/auth-login",className:"text-purple-600 hover:text-purple-500 font-medium",children:"Sign in here"})]})})]})})})}},88693:(e,t,r)=>{"use strict";r.d(t,{vt:()=>u});let s=e=>{let t,r=new Set,s=(e,s)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=s?s:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,l={setState:s,getState:a,getInitialState:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},n=t=e(s,a,l);return l};var a=r(12115),l=r(45643);let{useDebugValue:n}=a,{useSyncExternalStoreWithSelector:o}=l,i=!1,c=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?(e=>e?s(e):s)(e):e,r=(e,r)=>(function(e,t=e=>e,r){r&&!i&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),i=!0);let s=o(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return n(s),s})(t,e,r);return Object.assign(r,t),r},u=e=>e?c(e):c},92657:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},95997:(e,t,r)=>{"use strict";r.d(t,{G6:()=>o,HW:()=>d,Hh:()=>c,Jv:()=>i,eT:()=>y,gL:()=>m,qc:()=>f,xw:()=>u});var s=r(16203),a=r(35317),l=r(25610);let n=new s.HF;n.addScope("email"),n.addScope("profile");let o=async()=>{var e;try{let t=(await (0,s.df)(l.j2,n)).user;if(!(await (0,a.x7)((0,a.doc)(l.db,"users",t.uid))).exists()){let r={id:t.uid,email:t.email||"",name:t.displayName||"Anonymous",username:(null==(e=t.email)?void 0:e.split("@")[0])||"user",avatar:t.photoURL||"",role:"user",accountType:"user",isVerified:!1,isVerifiedSeller:!1,isActive:!0,createdAt:new Date,updatedAt:new Date,followersCount:0,followingCount:0,productsCount:0,rating:0,totalSales:0};await (0,a.BN)((0,a.doc)(l.db,"users",t.uid),r)}return t}catch(e){throw console.error("Google sign-in error:",e),e}},i=async(e,t)=>{try{return(await (0,s.x9)(l.j2,e,t)).user}catch(e){throw e}},c=async function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"user";try{let o=(await (0,s.eJ)(l.j2,e,t)).user;await (0,s.r7)(o,{displayName:r});try{let t={id:o.uid,email:o.email||"",name:r,username:e.split("@")[0],avatar:o.photoURL||"",bio:"",role:n,accountType:n,isVerified:!1,isVerifiedSeller:!1,isActive:!0,createdAt:new Date,updatedAt:new Date,followersCount:0,followingCount:0,productsCount:0,rating:0,totalSales:0};await (0,a.BN)((0,a.doc)(l.db,"users",o.uid),t),console.log("✅ User profile created successfully")}catch(e){console.warn("Could not create user document in Firestore:",e)}return o}catch(e){throw console.error("Signup error:",e),e}},u=async e=>{try{await (0,s.J1)(l.j2,e)}catch(e){throw e}},d=()=>l.j2.currentUser,m=async e=>{try{let t=await (0,a.x7)((0,a.doc)(l.db,"users",e));if(t.exists())return t.data();return null}catch(e){return console.error("Error getting user data:",e),null}},p=async e=>{try{let t=await m(e);return(null==t?void 0:t.role)||"user"}catch(e){return console.error("Error checking user role:",e),"user"}},h=async e=>{try{let t=await m(e);return(null==t?void 0:t.accountType)||"user"}catch(e){return console.error("Error checking account type:",e),"user"}},f=async e=>"admin"===await p(e),y=async e=>["personal_seller","brand","company"].includes(await h(e))}},e=>{e.O(0,[2992,9507,1794,6671,8599,7194,6874,8441,5964,7358],()=>e(e.s=54429)),_N_E=e.O()}]);