(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2987,5610],{25610:(e,t,r)=>{"use strict";r.d(t,{db:()=>p,j2:()=>u,storage:()=>h});var a=r(23915),l=r(16203),s=r(35317),i=r(90858),o=r(92144),n=r(81115),c=r(86864);let d=(0,a.Wp)({apiKey:"AIzaSyByhCgo_k9i8_AstSaZkZ3Atv5Rt2eOjhc",authDomain:"zaillisy.firebaseapp.com",databaseURL:"https://zaillisy-default-rtdb.firebaseio.com",projectId:"zaillisy",storageBucket:"zaillisy.firebasestorage.app",messagingSenderId:"984913226421",appId:"1:984913226421:web:c648bbccdd5055cf6cecfc",measurementId:"G-95WJ280TC9"}),u=(0,l.xI)(d),p=(0,s.aU)(d);(0,n.C3)(d);let h=(0,i.c7)(d);(0,o.Uz)(d);try{(0,c.TT)().then(e=>{e?((0,c.P5)(d),console.log("\uD83D\uDCCA Firebase Analytics enabled")):console.log("ℹ️ Firebase Analytics not supported in this environment")}).catch(()=>{console.warn("Analytics check failed; continuing without Analytics")})}catch(e){console.warn("Analytics initialization skipped:",e)}console.log("\uD83D\uDE80 Using production Firebase configuration for project:",d.options.projectId)},28883:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},35169:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},40646:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},43421:(e,t,r)=>{Promise.resolve().then(r.bind(r,66121))},66121:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(95155),l=r(12115),s=r(6874),i=r.n(s),o=r(1978),n=r(40646),c=r(35169),d=r(28883),u=r(85339),p=r(95997),h=r(56671);function x(){let[e,t]=(0,l.useState)(""),[r,s]=(0,l.useState)(!1),[x,m]=(0,l.useState)(!1),[b,y]=(0,l.useState)(""),w=async t=>{t.preventDefault(),s(!0),y("");try{await (0,p.xw)(e),m(!0),h.oR.success("Password reset email sent! Check your inbox.")}catch(e){y(e.message||"Failed to send reset email"),h.oR.error(e.message||"Failed to send reset email")}finally{s(!1)}};return x?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:(0,a.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-md mx-auto px-4",children:[(0,a.jsx)("div",{className:"w-40 h-40 bg-gradient-to-br from-green-500/20 to-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-8 backdrop-blur-xl border border-white/20",children:(0,a.jsx)(n.A,{className:"w-24 h-24 text-green-300"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-4 bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"Check your email"}),(0,a.jsxs)("p",{className:"text-purple-200 text-xl mb-8 leading-relaxed",children:["We've sent a password reset link to ",(0,a.jsx)("strong",{className:"text-white",children:e})]}),(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 mb-8 shadow-2xl",children:[(0,a.jsx)("p",{className:"text-purple-200 text-lg mb-6",children:"Didn't receive the email? Check your spam folder or try again."}),(0,a.jsx)(o.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!1),className:"bg-gradient-to-r from-purple-500 to-fuchsia-500 text-white px-8 py-4 rounded-2xl hover:from-purple-600 hover:to-fuchsia-600 transition-all duration-300 shadow-2xl font-bold text-lg",children:"Try again"})]}),(0,a.jsx)(o.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-white/10 text-white px-8 py-4 rounded-2xl hover:bg-white/20 transition-all duration-300 border border-white/20 backdrop-blur-sm font-bold text-lg inline-flex items-center space-x-3",children:(0,a.jsxs)(i(),{href:"/auth-login",className:"flex items-center space-x-3",children:[(0,a.jsx)(c.A,{className:"w-6 h-6"}),(0,a.jsx)("span",{children:"Back to sign in"})]})})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:(0,a.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-md mx-auto px-4",children:[(0,a.jsx)("div",{className:"w-40 h-40 bg-gradient-to-br from-purple-500/20 to-fuchsia-500/20 rounded-full flex items-center justify-center mx-auto mb-8 backdrop-blur-xl border border-white/20",children:(0,a.jsx)(d.A,{className:"w-24 h-24 text-purple-300"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-4 bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"Reset your password"}),(0,a.jsx)("p",{className:"text-purple-200 text-xl mb-8 leading-relaxed",children:"Enter your email address and we'll send you a link to reset your password."}),(0,a.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl",children:(0,a.jsxs)("form",{className:"space-y-6",onSubmit:w,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-purple-200 font-bold text-lg mb-3",children:"Email address"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.A,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-purple-300",size:20}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/10 border border-white/20 rounded-2xl text-white placeholder-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent backdrop-blur-sm text-lg",placeholder:"Enter your email"})]})]}),b&&(0,a.jsxs)(o.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center space-x-3 p-4 bg-red-500/20 rounded-2xl border border-red-500/30",children:[(0,a.jsx)(u.A,{className:"w-5 h-5 text-red-400"}),(0,a.jsx)("span",{className:"text-red-300 text-lg",children:b})]}),(0,a.jsx)(o.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-purple-500 to-fuchsia-500 text-white py-4 px-6 rounded-2xl font-bold text-lg hover:from-purple-600 hover:to-fuchsia-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 shadow-2xl",children:r?"Sending...":"Send reset link"})]})}),(0,a.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-8",children:(0,a.jsx)(o.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-white/10 text-white px-8 py-4 rounded-2xl hover:bg-white/20 transition-all duration-300 border border-white/20 backdrop-blur-sm font-bold text-lg inline-flex items-center space-x-3",children:(0,a.jsxs)(i(),{href:"/auth-login",className:"flex items-center space-x-3",children:[(0,a.jsx)(c.A,{className:"w-6 h-6"}),(0,a.jsx)("span",{children:"Back to sign in"})]})})})]})})}},85339:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},95997:(e,t,r)=>{"use strict";r.d(t,{G6:()=>o,HW:()=>u,Hh:()=>c,Jv:()=>n,eT:()=>b,gL:()=>p,qc:()=>m,xw:()=>d});var a=r(16203),l=r(35317),s=r(25610);let i=new a.HF;i.addScope("email"),i.addScope("profile");let o=async()=>{var e;try{let t=(await (0,a.df)(s.j2,i)).user;if(!(await (0,l.x7)((0,l.doc)(s.db,"users",t.uid))).exists()){let r={id:t.uid,email:t.email||"",name:t.displayName||"Anonymous",username:(null==(e=t.email)?void 0:e.split("@")[0])||"user",avatar:t.photoURL||"",role:"user",accountType:"user",isVerified:!1,isVerifiedSeller:!1,isActive:!0,createdAt:new Date,updatedAt:new Date,followersCount:0,followingCount:0,productsCount:0,rating:0,totalSales:0};await (0,l.BN)((0,l.doc)(s.db,"users",t.uid),r)}return t}catch(e){throw console.error("Google sign-in error:",e),e}},n=async(e,t)=>{try{return(await (0,a.x9)(s.j2,e,t)).user}catch(e){throw e}},c=async function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"user";try{let o=(await (0,a.eJ)(s.j2,e,t)).user;await (0,a.r7)(o,{displayName:r});try{let t={id:o.uid,email:o.email||"",name:r,username:e.split("@")[0],avatar:o.photoURL||"",bio:"",role:i,accountType:i,isVerified:!1,isVerifiedSeller:!1,isActive:!0,createdAt:new Date,updatedAt:new Date,followersCount:0,followingCount:0,productsCount:0,rating:0,totalSales:0};await (0,l.BN)((0,l.doc)(s.db,"users",o.uid),t),console.log("✅ User profile created successfully")}catch(e){console.warn("Could not create user document in Firestore:",e)}return o}catch(e){throw console.error("Signup error:",e),e}},d=async e=>{try{await (0,a.J1)(s.j2,e)}catch(e){throw e}},u=()=>s.j2.currentUser,p=async e=>{try{let t=await (0,l.x7)((0,l.doc)(s.db,"users",e));if(t.exists())return t.data();return null}catch(e){return console.error("Error getting user data:",e),null}},h=async e=>{try{let t=await p(e);return(null==t?void 0:t.role)||"user"}catch(e){return console.error("Error checking user role:",e),"user"}},x=async e=>{try{let t=await p(e);return(null==t?void 0:t.accountType)||"user"}catch(e){return console.error("Error checking account type:",e),"user"}},m=async e=>"admin"===await h(e),b=async e=>["personal_seller","brand","company"].includes(await x(e))}},e=>{e.O(0,[2992,9507,1794,6899,6671,8599,7194,6874,8441,5964,7358],()=>e(e.s=43421)),_N_E=e.O()}]);