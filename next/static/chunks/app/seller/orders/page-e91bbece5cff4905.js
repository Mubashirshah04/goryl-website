(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5610,8624],{4229:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},6115:(e,t,r)=>{"use strict";var a=r(12115),s=r(49033),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=s.useSyncExternalStore,l=a.useRef,o=a.useEffect,c=a.useMemo,d=a.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,a,s){var u=l(null);if(null===u.current){var g={hasValue:!1,value:null};u.current=g}else g=u.current;var p=n(e,(u=c(function(){function e(e){if(!o){if(o=!0,n=e,e=a(e),void 0!==s&&g.hasValue){var t=g.value;if(s(t,e))return l=t}return l=e}if(t=l,i(n,e))return t;var r=a(e);return void 0!==s&&s(t,r)?(n=e,t):(n=e,l=r)}var n,l,o=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,a,s]))[0],u[1]);return o(function(){g.hasValue=!0,g.value=p},[p]),d(p),p}},13717:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},14186:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},22436:(e,t,r)=>{"use strict";var a=r(12115),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=a.useState,n=a.useEffect,l=a.useLayoutEffect,o=a.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!s(e,r)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=i({inst:{value:r,getSnapshot:t}}),s=a[0].inst,d=a[1];return l(function(){s.value=r,s.getSnapshot=t,c(s)&&d({inst:s})},[e,r,t]),n(function(){return c(s)&&d({inst:s}),e(function(){c(s)&&d({inst:s})})},[e]),o(r),r};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:d},25610:(e,t,r)=>{"use strict";r.d(t,{db:()=>g,j2:()=>u,storage:()=>p});var a=r(23915),s=r(16203),i=r(35317),n=r(90858),l=r(92144),o=r(81115),c=r(86864);let d=(0,a.Wp)({apiKey:"AIzaSyByhCgo_k9i8_AstSaZkZ3Atv5Rt2eOjhc",authDomain:"zaillisy.firebaseapp.com",databaseURL:"https://zaillisy-default-rtdb.firebaseio.com",projectId:"zaillisy",storageBucket:"zaillisy.firebasestorage.app",messagingSenderId:"984913226421",appId:"1:984913226421:web:c648bbccdd5055cf6cecfc",measurementId:"G-95WJ280TC9"}),u=(0,s.xI)(d),g=(0,i.aU)(d);(0,o.C3)(d);let p=(0,n.c7)(d);(0,l.Uz)(d);try{(0,c.TT)().then(e=>{e?((0,c.P5)(d),console.log("\uD83D\uDCCA Firebase Analytics enabled")):console.log("ℹ️ Firebase Analytics not supported in this environment")}).catch(()=>{console.warn("Analytics check failed; continuing without Analytics")})}catch(e){console.warn("Analytics initialization skipped:",e)}console.log("\uD83D\uDE80 Using production Firebase configuration for project:",d.options.projectId)},29799:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},37108:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},40646:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},45643:(e,t,r)=>{"use strict";e.exports=r(6115)},49033:(e,t,r)=>{"use strict";e.exports=r(22436)},54861:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},60525:(e,t,r)=>{"use strict";r.d(t,{Jq:()=>d,Kv:()=>l,UL:()=>o,h6:()=>c});var a=r(35317),s=r(25610),i=r(53690);class n{static async updateOrderStatus(e,t,r,n){try{console.log("\uD83D\uDCE6 Updating order ".concat(e," to status: ").concat(t));let l=(0,a.doc)(s.db,"orders",e),o=new Date,c={status:t,message:r||this.getDefaultStatusMessage(t),timestamp:o,location:n||"Processing Center"};await (0,a.mZ)(l,{status:t,updatedAt:o,["timeline.".concat(Date.now())]:c}),console.log("✅ Order status updated successfully");let d=await (0,a.x7)(l);if(d.exists()){let a=Object.assign({id:e},d.data());await (0,i.wA)(e,t,a),await this.sendStatusUpdateNotification(e,t,r)}return{success:!0}}catch(e){return console.error("❌ Error updating order status:",e),{success:!1,error:e}}}static async sendStatusUpdateNotification(e,t,r){try{await (0,a.addDoc)((0,a.collection)(s.db,"notifications"),{orderId:e,type:"order_status_update",status:t,message:r||this.getDefaultStatusMessage(t),title:this.getStatusTitle(t),createdAt:(0,a.serverTimestamp)(),read:!1}),console.log("\uD83D\uDCF1 Status update notification sent")}catch(e){console.error("❌ Error sending status notification:",e)}}static getDefaultStatusMessage(e){return({pending:"Your order has been placed and is awaiting confirmation",confirmed:"Your order has been confirmed and is being prepared",processing:"Your order is being processed and packed",shipped:"Your order has been shipped and is on its way",out_for_delivery:"Your order is out for delivery and will arrive soon",delivered:"Your order has been delivered successfully",cancelled:"Your order has been cancelled"})[e]||"Order status updated"}static getStatusTitle(e){return({pending:"⏳ Order Placed",confirmed:"✅ Order Confirmed",processing:"\uD83D\uDCE6 Processing Order",shipped:"\uD83D\uDE9A Order Shipped",out_for_delivery:"\uD83D\uDE9B Out for Delivery",delivered:"\uD83D\uDCE6 Order Delivered",cancelled:"❌ Order Cancelled"})[e]||"\uD83D\uDCCB Order Update"}static async cancelOrder(e,t){try{console.log("❌ Cancelling order: ".concat(e));let r=(0,a.doc)(s.db,"orders",e);return await (0,a.mZ)(r,{status:"cancelled",cancelReason:t||"Cancelled by customer",cancelledAt:new Date,updatedAt:new Date}),await this.updateOrderStatus(e,"cancelled","Order cancelled: ".concat(t||"Customer request")),console.log("✅ Order cancelled successfully"),{success:!0}}catch(e){return console.error("❌ Error cancelling order:",e),{success:!1,error:e}}}static async initiateReturn(e,t,r){try{console.log("\uD83D\uDD04 Initiating return for order: ".concat(e));let i={orderId:e,reason:t,items:r||[],status:"return_requested",requestedAt:new Date,createdAt:(0,a.serverTimestamp)()},n=await (0,a.addDoc)((0,a.collection)(s.db,"returns"),i),l=(0,a.doc)(s.db,"orders",e);return await (0,a.mZ)(l,{returnStatus:"return_requested",returnId:n.id,updatedAt:new Date}),console.log("✅ Return request created successfully"),{success:!0,returnId:n.id}}catch(e){return console.error("❌ Error initiating return:",e),{success:!1,error:e}}}static async submitReview(e,t,r,i,n){try{console.log("⭐ Submitting review for order: ".concat(e));let l={orderId:e,productId:t,userId:n,rating:r,review:i,createdAt:(0,a.serverTimestamp)(),verified:!0};await (0,a.addDoc)((0,a.collection)(s.db,"reviews"),l);let o=(0,a.doc)(s.db,"products",t);return await (0,a.mZ)(o,{totalReviews:(0,a.GV)(1),totalRating:(0,a.GV)(r)}),console.log("✅ Review submitted successfully"),{success:!0}}catch(e){return console.error("❌ Error submitting review:",e),{success:!1,error:e}}}static async generateInvoice(e){try{console.log("\uD83D\uDCC4 Generating invoice for order: ".concat(e));let t={orderId:e,invoiceNumber:"INV-".concat(Date.now()),generatedAt:new Date,downloadUrl:"/invoices/".concat(e,".pdf")};return console.log("✅ Invoice generated:",t),{success:!0,invoice:t}}catch(e){return console.error("❌ Error generating invoice:",e),{success:!1,error:e}}}static async getDetailedTracking(e){try{console.log("\uD83D\uDD0D Getting detailed tracking for: ".concat(e));let t={orderId:e,currentLocation:"Distribution Center",estimatedDelivery:new Date(Date.now()+1728e5),trackingEvents:[{time:new Date,location:"Order Placed",status:"confirmed"},{time:new Date,location:"Processing Center",status:"processing"},{time:new Date,location:"Shipped",status:"shipped"}]};return{success:!0,tracking:t}}catch(e){return console.error("❌ Error getting tracking info:",e),{success:!1,error:e}}}}let l=n.updateOrderStatus.bind(n);n.cancelOrder.bind(n);let o=n.initiateReturn.bind(n),c=n.submitReview.bind(n),d=n.generateInvoice.bind(n);n.getDetailedTracking.bind(n)},68084:(e,t,r)=>{"use strict";r.d(t,{useAuthStore:()=>l});var a=r(88693),s=r(16203),i=r(25610),n=r(95997);let l=(0,a.vt)((e,t)=>({user:null,userData:null,loading:!0,unsubscribeUserListener:null,setUser:t=>e({user:t}),setUserData:t=>e({userData:t}),setLoading:t=>e({loading:t}),setUnsubscribeUserListener:t=>e({unsubscribeUserListener:t}),initialize:()=>(0,s.hg)(i.j2,async a=>{if(a)try{let s=await (0,n.gL)(a.uid),i=Object.assign(Object.assign({},a),{role:null==s?void 0:s.role});e({user:i,userData:s,loading:!1});let{doc:l,onSnapshot:o}=await Promise.resolve().then(r.bind(r,35317)),{db:c}=await Promise.resolve().then(r.bind(r,25610)),d=l(c,"users",a.uid),u=o(d,r=>{if(r.exists()){let a=r.data();e({userData:a,user:Object.assign(Object.assign({},t().user||{}),{role:a.role})})}});e({unsubscribeUserListener:u})}catch(t){console.error("Error fetching user data:",t),e({user:Object.assign(Object.assign({},a),{role:void 0}),userData:null,loading:!1})}else{let{unsubscribeUserListener:r}=t();r&&(r(),e({unsubscribeUserListener:null})),e({user:null,userData:null,loading:!1})}}),refreshUserData:async()=>{let{user:r}=t();if(r)try{let a=await (0,n.gL)(r.uid);e({userData:a,user:Object.assign(Object.assign({},t().user||{}),{role:null==a?void 0:a.role})}),setTimeout(async()=>{try{let a=await (0,n.gL)(r.uid);e({userData:a,user:Object.assign(Object.assign({},t().user||{}),{role:null==a?void 0:a.role})})}catch(e){console.warn("Error in delayed refresh:",e)}},500)}catch(e){console.error("Error refreshing user data:",e)}}}));setTimeout(()=>{l.getState().initialize()},0)},88693:(e,t,r)=>{"use strict";r.d(t,{vt:()=>d});let a=e=>{let t,r=new Set,a=(e,a)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=a?a:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,i={setState:a,getState:s,getInitialState:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},n=t=e(a,s,i);return i};var s=r(12115),i=r(45643);let{useDebugValue:n}=s,{useSyncExternalStoreWithSelector:l}=i,o=!1,c=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?(e=>e?a(e):a)(e):e,r=(e,r)=>(function(e,t=e=>e,r){r&&!o&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),o=!0);let a=l(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return n(a),a})(t,e,r);return Object.assign(r,t),r},d=e=>e?c(e):c},93966:(e,t,r)=>{Promise.resolve().then(r.bind(r,99682))},95997:(e,t,r)=>{"use strict";r.d(t,{G6:()=>l,HW:()=>u,Hh:()=>c,Jv:()=>o,eT:()=>x,gL:()=>g,qc:()=>m,xw:()=>d});var a=r(16203),s=r(35317),i=r(25610);let n=new a.HF;n.addScope("email"),n.addScope("profile");let l=async()=>{var e;try{let t=(await (0,a.df)(i.j2,n)).user;if(!(await (0,s.x7)((0,s.doc)(i.db,"users",t.uid))).exists()){let r={id:t.uid,email:t.email||"",name:t.displayName||"Anonymous",username:(null==(e=t.email)?void 0:e.split("@")[0])||"user",avatar:t.photoURL||"",role:"user",accountType:"user",isVerified:!1,isVerifiedSeller:!1,isActive:!0,createdAt:new Date,updatedAt:new Date,followersCount:0,followingCount:0,productsCount:0,rating:0,totalSales:0};await (0,s.BN)((0,s.doc)(i.db,"users",t.uid),r)}return t}catch(e){throw console.error("Google sign-in error:",e),e}},o=async(e,t)=>{try{return(await (0,a.x9)(i.j2,e,t)).user}catch(e){throw e}},c=async function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"user";try{let l=(await (0,a.eJ)(i.j2,e,t)).user;await (0,a.r7)(l,{displayName:r});try{let t={id:l.uid,email:l.email||"",name:r,username:e.split("@")[0],avatar:l.photoURL||"",bio:"",role:n,accountType:n,isVerified:!1,isVerifiedSeller:!1,isActive:!0,createdAt:new Date,updatedAt:new Date,followersCount:0,followingCount:0,productsCount:0,rating:0,totalSales:0};await (0,s.BN)((0,s.doc)(i.db,"users",l.uid),t),console.log("✅ User profile created successfully")}catch(e){console.warn("Could not create user document in Firestore:",e)}return l}catch(e){throw console.error("Signup error:",e),e}},d=async e=>{try{await (0,a.J1)(i.j2,e)}catch(e){throw e}},u=()=>i.j2.currentUser,g=async e=>{try{let t=await (0,s.x7)((0,s.doc)(i.db,"users",e));if(t.exists())return t.data();return null}catch(e){return console.error("Error getting user data:",e),null}},p=async e=>{try{let t=await g(e);return(null==t?void 0:t.role)||"user"}catch(e){return console.error("Error checking user role:",e),"user"}},h=async e=>{try{let t=await g(e);return(null==t?void 0:t.accountType)||"user"}catch(e){return console.error("Error checking account type:",e),"user"}},m=async e=>"admin"===await p(e),x=async e=>["personal_seller","brand","company"].includes(await h(e))},99682:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var a=r(95155),s=r(12115),i=r(35317),n=r(25610),l=r(68084),o=r(14186),c=r(40646),d=r(37108),u=r(29799),g=r(54861),p=r(4229),h=r(13717),m=r(1978),x=r(60525),y=r(56671);let b={pending:{icon:o.A,color:"text-yellow-600",bg:"bg-yellow-100",title:"Pending"},confirmed:{icon:c.A,color:"text-blue-600",bg:"bg-blue-100",title:"Confirmed"},processing:{icon:d.A,color:"text-purple-600",bg:"bg-purple-100",title:"Processing"},shipped:{icon:u.A,color:"text-indigo-600",bg:"bg-indigo-100",title:"Shipped"},out_for_delivery:{icon:u.A,color:"text-orange-600",bg:"bg-orange-100",title:"Out for Delivery"},delivered:{icon:c.A,color:"text-green-600",bg:"bg-green-100",title:"Delivered"},cancelled:{icon:g.A,color:"text-red-600",bg:"bg-red-100",title:"Cancelled"}};function v(){let{user:e}=(0,l.useAuthStore)(),[t,r]=(0,s.useState)([]),[o,c]=(0,s.useState)(!0),[u,v]=(0,s.useState)("all"),[f,w]=(0,s.useState)(null),[j,k]=(0,s.useState)("");(0,s.useEffect)(()=>{if(!e){console.log("❌ No user found for seller orders"),c(!1);return}console.log("\uD83D\uDD0D Loading seller orders for user:",e.uid);let t=(0,i.query)((0,i.collection)(n.db,"orders"),(0,i.where)("sellerId","==",e.uid),(0,i.My)("createdAt","desc")),a=(0,i.onSnapshot)(t,e=>{console.log("\uD83D\uDCE6 Seller orders found:",e.docs.length);let t=e.docs.map(e=>{var t,r;let a=e.data();return{id:e.id,...a,createdAt:(null==(t=a.createdAt)?void 0:t.toDate)?a.createdAt.toDate():new Date(a.createdAt),updatedAt:(null==(r=a.updatedAt)?void 0:r.toDate)?a.updatedAt.toDate():new Date(a.updatedAt)}});console.log("\uD83D\uDCCB Seller orders loaded successfully:",t.length),r(t),c(!1)},e=>{console.error("❌ Error loading seller orders:",e),c(!1)});return()=>a()},[null==e?void 0:e.uid]);let N="all"===u?t:t.filter(e=>e.status===u),D=async(e,t)=>{try{console.log("\uD83D\uDD04 Changing order ".concat(e," status to: ").concat(t)),(await (0,x.Kv)(e,t,"Status updated by seller to ".concat(t),"Seller Dashboard")).success?(y.oR.success("✅ Order status updated to ".concat(t)),w(null)):y.oR.error("❌ Failed to update order status")}catch(e){console.error("❌ Error updating status:",e),y.oR.error("❌ Failed to update order status")}},A=()=>{w(null),k("")};return o?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Seller Orders Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage and update your order statuses"})]}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm mb-8",children:(0,a.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,a.jsx)("nav",{className:"flex space-x-8 px-6",children:["all","pending","confirmed","processing","shipped","delivered","cancelled"].map(e=>(0,a.jsxs)("button",{onClick:()=>v(e),className:"py-4 px-1 border-b-2 font-medium text-sm capitalize whitespace-nowrap ".concat(u===e?"border-purple-500 text-purple-600 dark:text-purple-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 hover:border-gray-300"),children:[e,(0,a.jsx)("span",{className:"ml-2 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-full px-2 py-1",children:"all"===e?t.length:t.filter(t=>t.status===e).length})]},e))})})}),0===N.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(d.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"all"===u?"No orders yet":"No ".concat(u," orders")}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"all"===u?"Orders will appear here when customers purchase your products!":"You don't have any ".concat(u," orders at the moment.")})]}):(0,a.jsx)("div",{className:"space-y-6",children:N.map((e,t)=>{var r,s,i,n,l,o,c;let d=b[e.status].icon,u=f===e.id;return(0,a.jsxs)(m.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Order #",e.id.slice(-8).toUpperCase()]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:u?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("select",{value:j,onChange:e=>k(e.target.value),className:"px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500",children:[(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,a.jsx)("option",{value:"processing",children:"Processing"}),(0,a.jsx)("option",{value:"shipped",children:"Shipped"}),(0,a.jsx)("option",{value:"out_for_delivery",children:"Out for Delivery"}),(0,a.jsx)("option",{value:"delivered",children:"Delivered"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,a.jsx)("button",{onClick:()=>D(e.id,j),className:"p-1 text-green-600 hover:text-green-700 dark:text-green-400",children:(0,a.jsx)(p.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:A,className:"p-1 text-gray-600 hover:text-gray-700 dark:text-gray-400",children:(0,a.jsx)(g.A,{className:"w-4 h-4"})})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium ".concat(b[e.status].bg," ").concat(b[e.status].color),children:[(0,a.jsx)(d,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"capitalize",children:e.status.replace("_"," ")})]}),(0,a.jsx)("button",{onClick:()=>{var t,r;return t=e.id,r=e.status,void(w(t),k(r))},className:"p-1 text-blue-600 hover:text-blue-700 dark:text-blue-400",title:"Edit Status",children:(0,a.jsx)(h.A,{className:"w-4 h-4"})})]})})]}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["Placed on ",new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["$",(e.totalAmount||e.total||0).toFixed(2)]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"card"===e.paymentMethod?"Card":"cod"===e.paymentMethod?"COD":(null==(r=e.payment)?void 0:r.method)==="online"?"Card":"COD"}),e.trackingNumber&&(0,a.jsxs)("p",{className:"text-xs text-purple-600 dark:text-purple-400 font-mono",children:["#",e.trackingNumber]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Customer Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Name: ",(0,a.jsxs)("span",{className:"text-gray-900 dark:text-white",children:[null==(s=e.shippingAddress)?void 0:s.firstName," ",null==(i=e.shippingAddress)?void 0:i.lastName]})]}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Email: ",(0,a.jsx)("span",{className:"text-gray-900 dark:text-white",children:e.userId})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Address: ",(0,a.jsx)("span",{className:"text-gray-900 dark:text-white",children:null==(n=e.shippingAddress)?void 0:n.addressLine1})]}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["City: ",(0,a.jsxs)("span",{className:"text-gray-900 dark:text-white",children:[null==(l=e.shippingAddress)?void 0:l.city,", ",null==(o=e.shippingAddress)?void 0:o.state]})]})]})]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mb-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Order Items"}),(0,a.jsx)("div",{className:"space-y-3",children:(null==(c=e.items)?void 0:c.map((e,t)=>{var r,s,i,n,l;return(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("img",{src:(null==(r=e.product)?void 0:r.image)||e.image||"/placeholder-product.jpg",alt:(null==(s=e.product)?void 0:s.title)||e.title||"Product",className:"w-16 h-16 object-cover rounded-lg border border-gray-200 dark:border-gray-600",onError:e=>{e.target.src="/placeholder-product.jpg"}}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:(null==(i=e.product)?void 0:i.title)||e.title||"Product"}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["Quantity: ",e.quantity]}),(null==(n=e.product)?void 0:n.price)&&(0,a.jsxs)("p",{className:"text-gray-500 dark:text-gray-500 text-xs",children:["$",e.product.price.toFixed(2)," each"]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white",children:["$",(((null==(l=e.product)?void 0:l.price)||e.price||0)*e.quantity).toFixed(2)]})})]},t)}))||(0,a.jsx)("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Order details not available"})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex space-x-2",children:["pending"===e.status&&(0,a.jsx)("button",{onClick:()=>D(e.id,"confirmed"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium transition-colors",children:"Confirm Order"}),"confirmed"===e.status&&(0,a.jsx)("button",{onClick:()=>D(e.id,"processing"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 text-sm font-medium transition-colors",children:"Start Processing"}),"processing"===e.status&&(0,a.jsx)("button",{onClick:()=>D(e.id,"shipped"),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm font-medium transition-colors",children:"Mark as Shipped"}),"shipped"===e.status&&(0,a.jsx)("button",{onClick:()=>D(e.id,"delivered"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-medium transition-colors",children:"Mark as Delivered"})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Last updated: ",new Date(e.updatedAt).toLocaleString()]})]})]},e.id)})})]})})}}},e=>{e.O(0,[2992,9507,1794,6899,6671,8599,7194,3690,8441,5964,7358],()=>e(e.s=93966)),_N_E=e.O()}]);