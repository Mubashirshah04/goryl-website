(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811,5610],{381:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(19946).A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6115:(e,t,s)=>{"use strict";var r=s(12115),a=s(49033),l="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=a.useSyncExternalStore,n=r.useRef,c=r.useEffect,d=r.useMemo,o=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,s,r,a){var u=n(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;var p=i(e,(u=d(function(){function e(e){if(!c){if(c=!0,i=e,e=r(e),void 0!==a&&h.hasValue){var t=h.value;if(a(t,e))return n=t}return n=e}if(t=n,l(i,e))return t;var s=r(e);return void 0!==a&&a(t,s)?(i=e,t):(i=e,n=s)}var i,n,c=!1,d=void 0===s?null:s;return[function(){return e(t())},null===d?void 0:function(){return e(d())}]},[t,s,r,a]))[0],u[1]);return c(function(){h.hasValue=!0,h.value=p},[p]),o(p),p}},8813:(e,t,s)=>{"use strict";s.d(t,{I_:()=>u,TV:()=>p,createProduct:()=>i,d$:()=>o,deleteProduct:()=>d,oo:()=>n,updateProduct:()=>c,vC:()=>h});var r=s(35317),a=s(25610),l=s(95997);let i=async e=>{try{if(!await (0,l.eT)(e.sellerId))throw Error("Only approved sellers can create products");let t={id:e.sellerId,name:e.sellerName||"",type:"personal"};try{let s=await (0,r.x7)((0,r.doc)(a.db,"users",e.sellerId));if(s.exists()){let r=s.data();t={id:r.id||e.sellerId,name:r.name||e.sellerName||"",type:r.sellerType||r.role||"personal"}}}catch(e){console.warn("Could not fetch seller info for product creation:",e)}return(await (0,r.addDoc)((0,r.collection)(a.db,"products"),Object.assign(Object.assign({},e),{seller:t,sellerRef:{id:t.id,name:t.name,photoURL:""},likes:[],views:0,rating:0,reviewCount:0,comments:0,status:"active",createdAt:(0,r.serverTimestamp)(),updatedAt:(0,r.serverTimestamp)()}))).id}catch(e){throw console.error("Error creating product:",e),e}},n=async e=>{try{let t=(0,r.doc)(a.db,"products",e),s=await (0,r.x7)(t);if(s.exists()){let e=Object.assign({id:s.id},s.data());if(e.sellerId)try{let t=await (0,r.x7)((0,r.doc)(a.db,"users",e.sellerId));if(t.exists()){let s=t.data();e.seller={id:s.id,name:s.name,avatar:s.avatar,isVerified:s.isVerified,rating:s.rating}}}catch(e){console.warn("Could not fetch seller information:",e)}return e}return null}catch(e){throw console.error("Error getting product:",e),e}},c=async(e,t)=>{try{let s=(0,r.doc)(a.db,"products",e);await (0,r.mZ)(s,Object.assign(Object.assign({},t),{updatedAt:(0,r.serverTimestamp)()}))}catch(e){throw console.error("Error updating product:",e),e}},d=async e=>{try{let t=(0,r.doc)(a.db,"products",e);await (0,r.kd)(t)}catch(e){throw console.error("Error deleting product:",e),e}},o=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"createdAt",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"desc",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;try{let i=(0,r.collection)(a.db,"products"),n=[];e.category&&n.push({field:"category",operator:"==",value:e.category}),e.sellerId&&n.push({field:"sellerId",operator:"==",value:e.sellerId}),e.status?n.push({field:"status",operator:"==",value:e.status}):n.push({field:"status",operator:"==",value:"active"}),void 0!==e.minPrice&&n.push({field:"price",operator:">=",value:e.minPrice}),void 0!==e.maxPrice&&n.push({field:"price",operator:"<=",value:e.maxPrice}),n.forEach(e=>{i=(0,r.query)(i,(0,r.where)(e.field,e.operator,e.value))}),i=(0,r.query)(i,(0,r.My)(t,s)),i=(0,r.query)(i,(0,r.AB)(l));let c=(await (0,r.getDocs)(i)).docs.map(e=>Object.assign({id:e.id},e.data()));if(e.search){let t=e.search.toLowerCase();c=c.filter(e=>{var s;return e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||(null==(s=e.brand)?void 0:s.toLowerCase().includes(t))})}let d=[...new Set(c.map(e=>e.sellerId))],o=new Map;for(let e of d)try{let t=await (0,r.x7)((0,r.doc)(a.db,"users",e));t.exists()&&o.set(e,t.data())}catch(t){console.warn("Could not fetch seller ".concat(e,":"),t)}return c.map(e=>{let t=o.get(e.sellerId);return t&&(e.seller={id:t.id,name:t.name,avatar:t.avatar,isVerified:t.isVerified,rating:t.rating}),e})}catch(e){return console.log("Firebase products not accessible, returning empty array"),[]}},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"createdAt",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"desc",i=(0,r.collection)(a.db,"products"),n=[];return t.category&&n.push({field:"category",operator:"==",value:t.category}),t.sellerId&&n.push({field:"sellerId",operator:"==",value:t.sellerId}),t.status&&n.push({field:"status",operator:"==",value:t.status}),void 0!==t.minPrice&&n.push({field:"price",operator:">=",value:t.minPrice}),void 0!==t.maxPrice&&n.push({field:"price",operator:"<=",value:t.maxPrice}),n.forEach(e=>{i=(0,r.query)(i,(0,r.where)(e.field,e.operator,e.value))}),i=(0,r.query)(i,(0,r.My)(s,l)),(0,r.onSnapshot)(i,async s=>{console.log("Products found:",s.docs.length);let l=s.docs.map(e=>Object.assign({id:e.id},e.data()));if(t.search){let e=t.search.toLowerCase();l=l.filter(t=>{var s;return t.title.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||(null==(s=t.brand)?void 0:s.toLowerCase().includes(e))})}let i=[...new Set(l.map(e=>e.sellerId))],n=new Map;for(let e of i)try{let t=await (0,r.x7)((0,r.doc)(a.db,"users",e));t.exists()&&n.set(e,t.data())}catch(t){console.warn("Could not fetch seller ".concat(e,":"),t)}e(l.map(e=>{let t=n.get(e.sellerId);return t&&(e.seller={id:t.id,name:t.name,avatar:t.avatar,isVerified:t.isVerified,rating:t.rating}),e}))},t=>{console.error("Firestore error:",t.message),e([])})},h=async(e,t)=>{try{let s=await n(e);if(!s)throw Error("Product not found");let r=s.likes||[];r.includes(t)?await c(e,{likes:r.filter(e=>e!==t)}):await c(e,{likes:[...r,t]})}catch(e){throw console.error("Error toggling product like:",e),e}},p=async e=>o({sellerId:e})},13717:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(19946).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},22436:(e,t,s)=>{"use strict";var r=s(12115),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=r.useState,i=r.useEffect,n=r.useLayoutEffect,c=r.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!a(e,s)}catch(e){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),r=l({inst:{value:s,getSnapshot:t}}),a=r[0].inst,o=r[1];return n(function(){a.value=s,a.getSnapshot=t,d(a)&&o({inst:a})},[e,s,t]),i(function(){return d(a)&&o({inst:a}),e(function(){d(a)&&o({inst:a})})},[e]),c(s),s};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:o},25610:(e,t,s)=>{"use strict";s.d(t,{db:()=>h,j2:()=>u,storage:()=>p});var r=s(23915),a=s(16203),l=s(35317),i=s(90858),n=s(92144),c=s(81115),d=s(86864);let o=(0,r.Wp)({apiKey:"AIzaSyByhCgo_k9i8_AstSaZkZ3Atv5Rt2eOjhc",authDomain:"zaillisy.firebaseapp.com",databaseURL:"https://zaillisy-default-rtdb.firebaseio.com",projectId:"zaillisy",storageBucket:"zaillisy.firebasestorage.app",messagingSenderId:"984913226421",appId:"1:984913226421:web:c648bbccdd5055cf6cecfc",measurementId:"G-95WJ280TC9"}),u=(0,a.xI)(o),h=(0,l.aU)(o);(0,c.C3)(o);let p=(0,i.c7)(o);(0,n.Uz)(o);try{(0,d.TT)().then(e=>{e?((0,d.P5)(o),console.log("\uD83D\uDCCA Firebase Analytics enabled")):console.log("ℹ️ Firebase Analytics not supported in this environment")}).catch(()=>{console.warn("Analytics check failed; continuing without Analytics")})}catch(e){console.warn("Analytics initialization skipped:",e)}console.log("\uD83D\uDE80 Using production Firebase configuration for project:",o.options.projectId)},27809:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(19946).A)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},29869:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(19946).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},33109:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(19946).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},37108:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(19946).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},38564:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(19946).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},45643:(e,t,s)=>{"use strict";e.exports=s(6115)},49033:(e,t,s)=>{"use strict";e.exports=s(22436)},55868:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(19946).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},61129:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var r=s(95155),a=s(12115),l=s(68084),i=s(8813),n=s(29700),c=s(1978),d=s(37108),o=s(27809),u=s(55868),h=s(38564),p=s(72713),m=s(33109),x=s(84616),g=s(13717),y=s(62525),v=s(29869),b=s(381),f=s(56671),j=s(6874),w=s.n(j);function N(){let{user:e}=(0,l.useAuthStore)(),[t,s]=(0,a.useState)([]),[j,N]=(0,a.useState)([]),[A,k]=(0,a.useState)({totalProducts:0,totalOrders:0,totalRevenue:0,totalViews:0,averageRating:0,pendingOrders:0}),[S,O]=(0,a.useState)(!0),[E,C]=(0,a.useState)("overview"),[P,D]=(0,a.useState)(!1),[I,M]=(0,a.useState)(null);(0,a.useEffect)(()=>{e&&V()},[e]);let V=async()=>{if(e){O(!0);try{let t=await (0,i.d$)({sellerId:e.uid});s(t);let r=await (0,n.Od)(e.uid);N(r);let a=r.reduce((e,t)=>e+t.total,0),l=t.reduce((e,t)=>e+(t.views||0),0),c=t.reduce((e,t)=>e+(t.rating||0),0),d=t.length>0?c/t.length:0,o=r.filter(e=>"pending"===e.status).length;k({totalProducts:t.length,totalOrders:r.length,totalRevenue:a,totalViews:l,averageRating:d,pendingOrders:o})}catch(e){console.error("Error loading dashboard data:",e),f.oR.error("Failed to load dashboard data")}finally{O(!1)}}},L=async(e,t)=>{try{await (0,n.Kv)(e,t),f.oR.success("Order status updated"),V()}catch(e){console.error("Error updating order status:",e),f.oR.error("Failed to update order status")}},R=async t=>{if(confirm("Are you sure you want to delete this product?"))try{await (0,i.deleteProduct)(t,e.uid),f.oR.success("Product deleted successfully"),V()}catch(e){console.error("Error deleting product:",e),f.oR.error("Failed to delete product")}},T=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),U=e=>e?(e.toDate?e.toDate():new Date(e)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return e?S?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),(0,r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]},t))})]})})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Seller Dashboard"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Manage your products, orders, and business analytics"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:A.totalProducts})]}),(0,r.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,r.jsx)(d.A,{className:"w-8 h-8 text-blue-600"})})]})}),(0,r.jsx)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:A.totalOrders}),A.pendingOrders>0&&(0,r.jsxs)("p",{className:"text-sm text-orange-600",children:[A.pendingOrders," pending"]})]}),(0,r.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,r.jsx)(o.A,{className:"w-8 h-8 text-green-600"})})]})}),(0,r.jsx)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:T(A.totalRevenue)})]}),(0,r.jsx)("div",{className:"p-3 bg-purple-100 rounded-lg",children:(0,r.jsx)(u.A,{className:"w-8 h-8 text-purple-600"})})]})}),(0,r.jsx)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-sm p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Average Rating"}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:A.averageRating.toFixed(1)}),(0,r.jsx)(h.A,{className:"w-5 h-5 text-yellow-400 fill-current"})]})]}),(0,r.jsx)("div",{className:"p-3 bg-yellow-100 rounded-lg",children:(0,r.jsx)(h.A,{className:"w-8 h-8 text-yellow-600"})})]})})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm mb-8",children:(0,r.jsx)("div",{className:"border-b border-gray-200",children:(0,r.jsx)("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",label:"Overview",icon:p.A},{id:"products",label:"Products",icon:d.A},{id:"orders",label:"Orders",icon:o.A},{id:"analytics",label:"Analytics",icon:m.A}].map(e=>{let t=e.icon;return(0,r.jsxs)("button",{onClick:()=>C(e.id),className:"flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ".concat(E===e.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,r.jsx)(t,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:e.label})]},e.id)})})})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:["overview"===E&&(0,r.jsx)("div",{className:"p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Orders"}),(0,r.jsx)("div",{className:"space-y-3",children:j.slice(0,5).map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium text-gray-900",children:["Order #",e.id.slice(-8)]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:U(e.createdAt)})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:T(e.total)}),(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("pending"===e.status?"bg-yellow-100 text-yellow-800":"confirmed"===e.status?"bg-blue-100 text-blue-800":"shipped"===e.status?"bg-purple-100 text-purple-800":"delivered"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})]})]},e.id))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Products"}),(0,r.jsx)("div",{className:"space-y-3",children:t.sort((e,t)=>(t.views||0)-(e.views||0)).slice(0,5).map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)("img",{src:e.images[0]||"/placeholder-product.jpg",alt:e.title,className:"object-cover w-full h-full"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-medium text-gray-900 truncate",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[e.views||0," views"]})]}),(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:T(e.price)})]},e.id))})]})]})}),"products"===E&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Products"}),(0,r.jsxs)("button",{onClick:()=>D(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[(0,r.jsx)(x.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Add Product"})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>{var t;return(0,r.jsxs)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-50 rounded-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"relative aspect-square",children:[(0,r.jsx)("img",{src:e.images[0]||"/placeholder-product.jpg",alt:e.title,className:"object-cover w-full h-full"}),(0,r.jsxs)("div",{className:"absolute top-2 right-2 flex space-x-1",children:[(0,r.jsx)("button",{onClick:()=>M(e),className:"p-1 bg-white/90 rounded-full hover:bg-white transition-colors",children:(0,r.jsx)(g.A,{className:"w-4 h-4 text-gray-600"})}),(0,r.jsx)("button",{onClick:()=>R(e.id),className:"p-1 bg-white/90 rounded-full hover:bg-white transition-colors",children:(0,r.jsx)(y.A,{className:"w-4 h-4 text-red-600"})})]})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:e.title}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[(0,r.jsx)("span",{children:e.category}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("active"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:"font-bold text-gray-900",children:T(e.price)}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Stock: ",e.stock]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-2 text-sm text-gray-600",children:[(0,r.jsxs)("span",{children:[e.views||0," views"]}),(0,r.jsxs)("span",{children:[(null==(t=e.likes)?void 0:t.length)||0," likes"]})]})]})]},e.id)})})]}),"orders"===E&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Order Management"}),(0,r.jsx)("div",{className:"space-y-4",children:j.map(e=>{var t,s;return(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"font-semibold text-gray-900",children:["Order #",e.id.slice(-8)]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:U(e.createdAt)})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"font-bold text-gray-900",children:T(e.total)}),(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("pending"===e.status?"bg-yellow-100 text-yellow-800":"confirmed"===e.status?"bg-blue-100 text-blue-800":"shipped"===e.status?"bg-purple-100 text-purple-800":"delivered"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Customer: ",e.buyerName]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Address: ",null==(t=e.shippingAddress)?void 0:t.address,", ",null==(s=e.shippingAddress)?void 0:s.city]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex space-x-2",children:["pending"===e.status&&(0,r.jsx)("button",{onClick:()=>L(e.id,"confirmed"),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"Confirm"}),"confirmed"===e.status&&(0,r.jsx)("button",{onClick:()=>L(e.id,"shipped"),className:"bg-purple-600 text-white px-3 py-1 rounded text-sm hover:bg-purple-700",children:"Ship"}),"shipped"===e.status&&(0,r.jsx)("button",{onClick:()=>L(e.id,"delivered"),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700",children:"Mark Delivered"})]}),(0,r.jsx)(w(),{href:"/orders/".concat(e.id),className:"text-purple-600 hover:text-purple-700 text-sm font-medium",children:"View Details"})]})]},e.id)})})]}),"analytics"===E&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Analytics"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Performance Overview"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Total Views"}),(0,r.jsx)("span",{className:"font-semibold",children:A.totalViews})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Average Rating"}),(0,r.jsxs)("span",{className:"font-semibold",children:[A.averageRating.toFixed(1)," ⭐"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Conversion Rate"}),(0,r.jsxs)("span",{className:"font-semibold",children:[A.totalViews>0?(A.totalOrders/A.totalViews*100).toFixed(1):0,"%"]})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Quick Actions"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("button",{className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center space-x-2",children:[(0,r.jsx)(v.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Upload New Product"})]}),(0,r.jsxs)("button",{className:"w-full bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center space-x-2",children:[(0,r.jsx)(b.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Store Settings"})]})]})]})]})]})]})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(d.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to access the seller dashboard."}),(0,r.jsx)(w(),{href:"/auth-login",className:"bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors",children:"Sign In"})]})})}},62525:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(19946).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},63795:(e,t,s)=>{Promise.resolve().then(s.bind(s,61129))},68084:(e,t,s)=>{"use strict";s.d(t,{useAuthStore:()=>n});var r=s(88693),a=s(16203),l=s(25610),i=s(95997);let n=(0,r.vt)((e,t)=>({user:null,userData:null,loading:!0,unsubscribeUserListener:null,setUser:t=>e({user:t}),setUserData:t=>e({userData:t}),setLoading:t=>e({loading:t}),setUnsubscribeUserListener:t=>e({unsubscribeUserListener:t}),initialize:()=>(0,a.hg)(l.j2,async r=>{if(r)try{let a=await (0,i.gL)(r.uid),l=Object.assign(Object.assign({},r),{role:null==a?void 0:a.role});e({user:l,userData:a,loading:!1});let{doc:n,onSnapshot:c}=await Promise.resolve().then(s.bind(s,35317)),{db:d}=await Promise.resolve().then(s.bind(s,25610)),o=n(d,"users",r.uid),u=c(o,s=>{if(s.exists()){let r=s.data();e({userData:r,user:Object.assign(Object.assign({},t().user||{}),{role:r.role})})}});e({unsubscribeUserListener:u})}catch(t){console.error("Error fetching user data:",t),e({user:Object.assign(Object.assign({},r),{role:void 0}),userData:null,loading:!1})}else{let{unsubscribeUserListener:s}=t();s&&(s(),e({unsubscribeUserListener:null})),e({user:null,userData:null,loading:!1})}}),refreshUserData:async()=>{let{user:s}=t();if(s)try{let r=await (0,i.gL)(s.uid);e({userData:r,user:Object.assign(Object.assign({},t().user||{}),{role:null==r?void 0:r.role})}),setTimeout(async()=>{try{let r=await (0,i.gL)(s.uid);e({userData:r,user:Object.assign(Object.assign({},t().user||{}),{role:null==r?void 0:r.role})})}catch(e){console.warn("Error in delayed refresh:",e)}},500)}catch(e){console.error("Error refreshing user data:",e)}}}));setTimeout(()=>{n.getState().initialize()},0)},72713:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(19946).A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},84616:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(19946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},88693:(e,t,s)=>{"use strict";s.d(t,{vt:()=>o});let r=e=>{let t,s=new Set,r=(e,r)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=r?r:"object"!=typeof a||null===a)?a:Object.assign({},t,a),s.forEach(s=>s(t,e))}},a=()=>t,l={setState:r,getState:a,getInitialState:()=>i,subscribe:e=>(s.add(e),()=>s.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},i=t=e(r,a,l);return l};var a=s(12115),l=s(45643);let{useDebugValue:i}=a,{useSyncExternalStoreWithSelector:n}=l,c=!1,d=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?(e=>e?r(e):r)(e):e,s=(e,s)=>(function(e,t=e=>e,s){s&&!c&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),c=!0);let r=n(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return i(r),r})(t,e,s);return Object.assign(s,t),s},o=e=>e?d(e):d},95997:(e,t,s)=>{"use strict";s.d(t,{G6:()=>n,HW:()=>u,Hh:()=>d,Jv:()=>c,eT:()=>g,gL:()=>h,qc:()=>x,xw:()=>o});var r=s(16203),a=s(35317),l=s(25610);let i=new r.HF;i.addScope("email"),i.addScope("profile");let n=async()=>{var e;try{let t=(await (0,r.df)(l.j2,i)).user;if(!(await (0,a.x7)((0,a.doc)(l.db,"users",t.uid))).exists()){let s={id:t.uid,email:t.email||"",name:t.displayName||"Anonymous",username:(null==(e=t.email)?void 0:e.split("@")[0])||"user",avatar:t.photoURL||"",role:"user",accountType:"user",isVerified:!1,isVerifiedSeller:!1,isActive:!0,createdAt:new Date,updatedAt:new Date,followersCount:0,followingCount:0,productsCount:0,rating:0,totalSales:0};await (0,a.BN)((0,a.doc)(l.db,"users",t.uid),s)}return t}catch(e){throw console.error("Google sign-in error:",e),e}},c=async(e,t)=>{try{return(await (0,r.x9)(l.j2,e,t)).user}catch(e){throw e}},d=async function(e,t,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"user";try{let n=(await (0,r.eJ)(l.j2,e,t)).user;await (0,r.r7)(n,{displayName:s});try{let t={id:n.uid,email:n.email||"",name:s,username:e.split("@")[0],avatar:n.photoURL||"",bio:"",role:i,accountType:i,isVerified:!1,isVerifiedSeller:!1,isActive:!0,createdAt:new Date,updatedAt:new Date,followersCount:0,followingCount:0,productsCount:0,rating:0,totalSales:0};await (0,a.BN)((0,a.doc)(l.db,"users",n.uid),t),console.log("✅ User profile created successfully")}catch(e){console.warn("Could not create user document in Firestore:",e)}return n}catch(e){throw console.error("Signup error:",e),e}},o=async e=>{try{await (0,r.J1)(l.j2,e)}catch(e){throw e}},u=()=>l.j2.currentUser,h=async e=>{try{let t=await (0,a.x7)((0,a.doc)(l.db,"users",e));if(t.exists())return t.data();return null}catch(e){return console.error("Error getting user data:",e),null}},p=async e=>{try{let t=await h(e);return(null==t?void 0:t.role)||"user"}catch(e){return console.error("Error checking user role:",e),"user"}},m=async e=>{try{let t=await h(e);return(null==t?void 0:t.accountType)||"user"}catch(e){return console.error("Error checking account type:",e),"user"}},x=async e=>"admin"===await p(e),g=async e=>["personal_seller","brand","company"].includes(await m(e))}},e=>{e.O(0,[2992,9507,1794,6899,6671,8599,7194,6874,9700,8441,5964,7358],()=>e(e.s=63795)),_N_E=e.O()}]);